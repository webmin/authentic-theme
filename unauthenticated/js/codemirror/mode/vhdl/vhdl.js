(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(b){function c(j){var g={},h=j.split(",");for(var e=0;e<h.length;++e){var f=h[e].toUpperCase();var d=h[e].charAt(0).toUpperCase()+h[e].slice(1);g[h[e]]=true;g[f]=true;g[d]=true}return g}function a(d){d.eatWhile(/[\w\$_]/);return"meta"}b.defineMode("vhdl",function(f,h){var j=f.indentUnit,k=h.atoms||c("null"),s=h.hooks||{"`":a,"$":a},l=h.multiLineStrings;var i=c("abs,access,after,alias,all,and,architecture,array,assert,attribute,begin,block,body,buffer,bus,case,component,configuration,constant,disconnect,downto,else,elsif,end,end block,end case,end component,end for,end generate,end if,end loop,end process,end record,end units,entity,exit,file,for,function,generate,generic,generic map,group,guarded,if,impure,in,inertial,inout,is,label,library,linkage,literal,loop,map,mod,nand,new,next,nor,null,of,on,open,or,others,out,package,package body,port,port map,postponed,procedure,process,pure,range,record,register,reject,rem,report,return,rol,ror,select,severity,signal,sla,sll,sra,srl,subtype,then,to,transport,type,unaffected,units,until,use,variable,wait,when,while,with,xnor,xor");var d=c("architecture,entity,begin,case,port,else,elsif,end,for,function,if");var e=/[&|~><!\)\(*#%@+\/=?\:;}{,\.\^\-\[\]]/;var o;function g(x,v){var u=x.next();if(s[u]){var t=s[u](x,v);if(t!==false){return t}}if(u=='"'){v.tokenize=p(u);return v.tokenize(x,v)}if(u=="'"){v.tokenize=r(u);return v.tokenize(x,v)}if(/[\[\]{}\(\),;\:\.]/.test(u)){o=u;return null}if(/[\d']/.test(u)){x.eatWhile(/[\w\.']/);return"number"}if(u=="-"){if(x.eat("-")){x.skipToEnd();return"comment"}}if(e.test(u)){x.eatWhile(e);return"operator"}x.eatWhile(/[\w\$_]/);var w=x.current();if(i.propertyIsEnumerable(w.toLowerCase())){if(d.propertyIsEnumerable(w)){o="newstatement"}return"keyword"}if(k.propertyIsEnumerable(w)){return"atom"}return"variable"}function r(t){return function(y,w){var x=false,v,u=false;while((v=y.next())!=null){if(v==t&&!x){u=true;break}x=!x&&v=="--"}if(u||!(x||l)){w.tokenize=g}return"string"}}function p(t){return function(y,w){var x=false,v,u=false;while((v=y.next())!=null){if(v==t&&!x){u=true;break}x=!x&&v=="--"}if(u||!(x||l)){w.tokenize=g}return"string-2"}}function q(x,u,t,w,v){this.indented=x;this.column=u;this.type=t;this.align=w;this.prev=v}function m(v,t,u){return v.context=new q(v.indented,t,u,null,v.context)}function n(v){var u=v.context.type;if(u==")"||u=="]"||u=="}"){v.indented=v.context.indented}return v.context=v.context.prev}return{startState:function(t){return{tokenize:null,context:new q((t||0)-j,0,"top",false),indented:0,startOfLine:true}},token:function(w,v){var t=v.context;if(w.sol()){if(t.align==null){t.align=false}v.indented=w.indentation();v.startOfLine=true}if(w.eatSpace()){return null}o=null;var u=(v.tokenize||g)(w,v);if(u=="comment"||u=="meta"){return u}if(t.align==null){t.align=true}if((o==";"||o==":")&&t.type=="statement"){n(v)}else{if(o=="{"){m(v,w.column(),"}")}else{if(o=="["){m(v,w.column(),"]")}else{if(o=="("){m(v,w.column(),")")}else{if(o=="}"){while(t.type=="statement"){t=n(v)}if(t.type=="}"){t=n(v)}while(t.type=="statement"){t=n(v)}}else{if(o==t.type){n(v)}else{if(t.type=="}"||t.type=="top"||(t.type=="statement"&&o=="newstatement")){m(v,w.column(),"statement")}}}}}}}v.startOfLine=false;return u},indent:function(x,u){if(x.tokenize!=g&&x.tokenize!=null){return 0}var w=u&&u.charAt(0),t=x.context,v=w==t.type;if(t.type=="statement"){return t.indented+(w=="{"?0:j)}else{if(t.align){return t.column+(v?0:1)}else{return t.indented+(v?0:j)}}},electricChars:"{}"}});b.defineMIME("text/x-vhdl","vhdl")});