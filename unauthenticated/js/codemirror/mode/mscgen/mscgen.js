(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(c){var g={mscgen:{keywords:["msc"],options:["hscale","width","arcgradient","wordwraparcs"],constants:["true","false","on","off"],attributes:["label","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"],brackets:["\\{","\\}"],arcsWords:["note","abox","rbox","box"],arcsOthers:["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],singlecomment:["//","#"],operators:["="]},xu:{keywords:["msc","xu"],options:["hscale","width","arcgradient","wordwraparcs","watermark"],constants:["true","false","on","off","auto"],attributes:["label","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"],brackets:["\\{","\\}"],arcsWords:["note","abox","rbox","box","alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"],arcsOthers:["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],singlecomment:["//","#"],operators:["="]},msgenny:{keywords:null,options:["hscale","width","arcgradient","wordwraparcs","watermark"],constants:["true","false","on","off","auto"],attributes:null,brackets:["\\{","\\}"],arcsWords:["note","abox","rbox","box","alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"],arcsOthers:["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],singlecomment:["//","#"],operators:["="]}};c.defineMode("mscgen",function(h,i){var j=g[i&&i.language||"mscgen"];return{startState:f,copyState:a,token:d(j),lineComment:"#",blockCommentStart:"/*",blockCommentEnd:"*/"}});c.defineMIME("text/x-mscgen","mscgen");c.defineMIME("text/x-xu",{name:"mscgen",language:"xu"});c.defineMIME("text/x-msgenny",{name:"mscgen",language:"msgenny"});function e(h){return new RegExp("\\b("+h.join("|")+")\\b","i")}function b(h){return new RegExp("("+h.join("|")+")","i")}function f(){return{inComment:false,inString:false,inAttributeList:false,inScript:false}}function a(h){return{inComment:h.inComment,inString:h.inString,inAttributeList:h.inAttributeList,inScript:h.inScript}}function d(h){return function(j,i){if(j.match(b(h.brackets),true,true)){return"bracket"}if(!i.inComment){if(j.match(/\/\*[^\*\/]*/,true,true)){i.inComment=true;return"comment"}if(j.match(b(h.singlecomment),true,true)){j.skipToEnd();return"comment"}}if(i.inComment){if(j.match(/[^\*\/]*\*\//,true,true)){i.inComment=false}else{j.skipToEnd()}return"comment"}if(!i.inString&&j.match(/\"(\\\"|[^\"])*/,true,true)){i.inString=true;return"string"}if(i.inString){if(j.match(/[^\"]*\"/,true,true)){i.inString=false}else{j.skipToEnd()}return"string"}if(!!h.keywords&&j.match(e(h.keywords),true,true)){return"keyword"}if(j.match(e(h.options),true,true)){return"keyword"}if(j.match(e(h.arcsWords),true,true)){return"keyword"}if(j.match(b(h.arcsOthers),true,true)){return"keyword"}if(!!h.operators&&j.match(b(h.operators),true,true)){return"operator"}if(!!h.constants&&j.match(b(h.constants),true,true)){return"variable"}if(!h.inAttributeList&&!!h.attributes&&j.match(/\[/,true,true)){h.inAttributeList=true;return"bracket"}if(h.inAttributeList){if(h.attributes!==null&&j.match(e(h.attributes),true,true)){return"attribute"}if(j.match(/]/,true,true)){h.inAttributeList=false;return"bracket"}}j.next();return"base"}}});