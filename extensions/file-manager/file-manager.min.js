/*!
 * Authentic Theme (https://github.com/authentic-theme/authentic-theme)
 * Copyright Ilia Rostovtsev <programming@rostovtsev.io>
 * Licensed under MIT (https://github.com/authentic-theme/authentic-theme/blob/master/LICENSE)
 */
function __f___globals(){$____loader_block__=1,$____loader_block__manual=0,$g__v__home_base=Math.random(),$v__fm__container_fluid=".container-fluid",$v__fm__container_fluid_form=".container-fluid #list_form",$v__fm__container_fluid_modal_in=".container-fluid .modal.in",$v__fm__global_error=0,$v__fm__global_last_row=0,$v__fm__tree_node_prog=0,$v__fm__tree_node_sp=1,$v__fm__tree=0,initial_fm_load=1,$($v__fm__container_fluid).addClass("fmx"),$v__fm__container_fluid+=".fmx",tab___to______create=1}function uriEncodeParam(e,a){var t=URI.parseQuery(URI(e).query())[a];return t&&(e=e.replace(t,Convert.uriEncodeComponent(t)),e=e.replace("//","/")),e}function _f__table(){var e=$(".container-fluid .tab-pane.active").attr("id");if(e&&e.length){var a=parseInt(e.replace(/^\D+/g,""));return window["_f__table"+a]}return!1}function __f__refresh__dir_and_tree(){var e=$($v__fm__container_fluid+" #path").val();__f____r("get","index.cgi?path="+(e?Convert.uriEncodeComponent(e)+extra_query():""),!1,0)}function deselectAllRows(){var e=_f__table();if(e)for(rows=e.dataTable().$("tr.hl-aw",{filter:"applied"}),i=0;i<rows.length;i++){var a=rows[i].getElementsByTagName("input")[0];a.checked&&rowClick(rows[i])}}function selectAllRows(){var e=_f__table();if(e)for(rows=e.dataTable().$("tr"),i=0;i<rows.length;i++){var a=rows[i].getElementsByTagName("input")[0];a.checked||rowClick(rows[i])}}function __f__cnt___total(e){e=e?":visible":String();var a,t=_f__table();return t&&(a=t.dataTable().$("tr"+e).length),a}function __f__cnt___selected(e){e=e?":visible":String();var a,t=_f__table();return t&&(a=t.dataTable().$("tr"+e+".hl-aw",{filter:"applied"}).length),a}function total_selected_count_update(e,a,t){e||(e=t?0:__f__cnt___selected());var _=':not([data-all="1"])';a&&(_=String(),$('[data-all="1"]').removeAttr("data-all")),$($v__fm__container_fluid+" .total_selected"+_).html(1==e?theme_language("theme_xhred_filemanager_selected_entry").replace("%value","<span>1</span>"):theme_language("theme_xhred_filemanager_selected_entries").replace("%value","<span>"+e+"</span>"))}function __r____changed(){if($("body").attr("class")&&$("body").attr("class").indexOf(v___module_file_manager)>-1){$(".total_size_data").parent("span").addClass("hidden");var e=__f__cnt___selected();e?__f___ub():__f___lb(),total_selected_count_update(e),__f__cnt___selected(1)!=__f__cnt___total(1)&&select_all_entries("remove")}}function file_manager_table_rows_control(){var e=this;this.p_a=void 0;var a=$($v__fm__container_fluid);a.off("click.ranged"),a.on("click.ranged",".active .ui_checked_columns:visible:not(.directory_go_up) td:first-child input.iawobject",function(a){var t=$(this).parents("tr.ui_checked_columns");$(this).is(":checked");if(a.stopPropagation(),setTimeout(function(){e.p_a=t},50),$(a.target).is("input.iawobject")&&vars.events.keypressed.shift&&vars.events.keypressed.shift&&e.p_a&&!e.p_a.is(t)&&a.originalEvent&&a.originalEvent.isTrusted===!0){var _=e.p_a.index(),n=t.index(),i=n>_?t.prevUntil(e.p_a):t.nextUntil(e.p_a),r="td:first-child input.iawobject",o=e.p_a.find(r).is(":checked");i.find(r).each(function(a,t){$(t).add(e.p_a.find(r)).prop("checked",o),$(t).trigger("change")})}})}function check_pagination_option(){$.inArray(parseInt(config_portable_module_filemanager_records_per_page),[5,10,15,20,25,30,35,40,45,50,55,60,70,80,90,100,250,500])===-1&&(config_portable_module_filemanager_records_per_page=30)}function get_current_list_stats(){var e=a=$($v__fm__container_fluid+" .panel-body .total:visible").contents().filter(function(){return 3==this.nodeType})[0].data,a=e.match(/[0-9]+(,[0-9]+)*/g),t=a.length>2?1:0;return[t?a[2]:parseInt(a[0])+parseInt(a[1]),t?a[3]:$($v__fm__container_fluid+" .dataTables_paginate:visible a").length-2]}function select_all_entries(e){var a='[data-select-all-entries="affirmative"]';if(e)if("remove"===e)$(a).remove(),total_selected_count_update(__f__cnt___selected(),1);else{if("test"===e)return $(a).find('[data-clear="1"]').length;if("test_unconf"===e)return $(a).find('[data-yes="1"]').length}else{var t=get_current_list_stats(),_=t[0],n=t[1];if(n!==-2&&1!=n){var i=theme_language("theme_xhred_filemanager_mass_select").replace("%1","<b>"+_+"</b>").replace("%2","<b>"+n+"</b>"),r=theme_language("theme_xhred_filemanager_mass_selected").replace("%1","<b>"+_+"</b>"),o='<button data-clear="1" class="btn btn-xxs btn-warning-l">'+theme_language("theme_xhred_filemanager_mass_select_clear")+"</button>",l='<div data-select-all-entries="affirmative" class="alert alert-warning text-center"><span data-alert-text="1">'+i+'</span>&nbsp;&nbsp;<div class="btn-group btn-group-xs"><button data-yes="1" class="btn btn-xxs btn-warning-l">'+theme_language("theme_xhred_global_yes")+'</button><button data-no="1" class="btn btn-xxs btn-warning-l">'+theme_language("theme_xhred_global_no")+"</button></div></div>",s=$($v__fm__container_fluid+" .data-content-container");$(a).length||(s.prepend(l),$(a).find('[data-yes="1"]').one("click",function(e){$(this).parent().html(o).parent().find('[data-alert-text="1"]').html(r),$($v__fm__container_fluid+" .total_selected").attr("data-all",1).find("span").text(_),selectAllRows()}),$(a).find('[data-no="1"]').one("click",function(e){select_all_entries("remove")}),$(a).one("click",'[data-clear="1"]',function(e){select_all_entries("remove"),deselectAllRows(),total_selected_count_update(0,0,1),__f___lb()}))}}}function f__ck_init_err(e){var a=!$($v__fm__container_fluid_form).length&&$('a.page_footer_submit[href*="index.cgi?path="]').length,t=$(".container-fluid-loading").find(".cspinner-icon").length;if(e)return a;a&&($v__fm__global_error=1,$(".data-content-container, .panel-heading .header .btn-group, .panel-heading .header .favorites").addClass("hidden"),t&&page.handle.content.preloader(),__f_____undel())}function get_link(e,a){var t=String(),_=$($v__fm__container_fluid+" #path").val(),n=_?Convert.uriEncodeComponent(_):t;a&&(n=Convert.uriEncodeComponent(a)),extra_params=extra_query(e),__f____r("get","index.cgi?path="+n+extra_params,!1,0)}function __f___b_dr(e){var a="";a=$($v__fm__container_fluid+" .breadcrumb li:first-child i").hasClass("fa-search")?"index.cgi?path="+Convert.uriEncodeComponent($('#list_form > input[type="hidden"][name="path"]').val()):$($v__fm__container_fluid+" .breadcrumb > li:eq(-2) > a").attr("href"),a||(a="index.cgi?path="),__f____r("get",a,!1,0,!1,void 0!==e.originalEvent),$($v__fm__container_fluid_form).find(".cspinner").remove(),$($v__fm__container_fluid+" .active i.fa-folder-btl").after('<span class="cspinner" style="margin-top: 1px; margin-left: 25px;"><span class="cspinner-icon smaller"></span></span>')}function __f___o_dr(e,a,t,_){t&&($($v__fm__container_fluid_form).find(".cspinner").remove(),e.first().find("img").before('<span class="cspinner" style="margin-top: 3px; margin-left: -15px;"><span class="cspinner-icon smaller"></span></span>'),__f____r("get","index.cgi?path="+Convert.uriEncodeComponent(Convert.htmlUnEscape(a))+"/"+Convert.uriEncodeComponent(Convert.htmlUnEscape(t)),!1,0,!1,_))}function f__insert_dir_up(){var e=$("#path").val();e&&"/"!=e&&"%2F"!=e&&!$($v__fm__container_fluid+" .active table tbody tr.directory_go_up").length&&$($v__fm__container_fluid+" .active table tbody").prepend('<tr class="ui_checked_columns directory_go_up" style="height: 23px;"><td colspan="'+$($v__fm__container_fluid+" .active thead tr th:visible").length+'"><input class="hidden" type="hidden">&nbsp;<i class="fa fa-fw fa-folder-btl"></i>&nbsp;..</td></tr>')}function __f___um(){var e=localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_usermode");return e?"&username="+e:""}function f__act_tab_name(e){$($v__fm__container_fluid+" [data-tab-path]").filter(function(a,t){if(e.endsWith($(t).text())||$(t).text()===e||"/"===$(t).text()&&""===e)return void $(t).parent("a").trigger("click")})}function f__chk_loading(){if(v___module==v___module_file_manager){if(f__ck_init_err(1))return void f__ck_init_err();$("[data-tab-path]");$(".container-fluid.fmx .dataTable").length?(setTimeout(function(){__f__c__m(),file_manager_table_rows_control(),setTimeout(function(){initial_fm_load=0},5e3)},2),setTimeout(function(){$.getScript(v___server_extensions_path+"/file-manager/file-manager-reinit."+v___source_type+".js?"+v___theme_version_plain).fail(function(e){"canceled"!==e.statusText&&connection_error(e,1)})},2)):setTimeout(f__chk_loading,10)}}function __f___gd(){var e=$(_f__table().fnGetNodes()).find("input").add($($v__fm__container_fluid+" .active form > input:not([name='path'])")).serialize();return e=e+"&path="+$($v__fm__container_fluid+" #path").val()}function _f__gr(e){return e?$(_f__table().fnGetNodes()).find("input:checked"):$(_f__table().fnGetNodes()).find("input")}function __f__ld__sh(){}function __f__ld__bg(){theme_modal_dismiss(),__f_____ul()}function __f__upd_____tl(e){var a=$($v__fm__container_fluid+" div.total").children().clone();$($v__fm__container_fluid+" div.total").empty().html(e+".&nbsp;").append(a)}function __f__ck_lock(){return $("body.file-manager").find($v__fm__container_fluid_form+" table tbody").hasClass("o__f_m-updating")}function __f___ub(){$($v__fm__container_fluid+" div button.o__f_m-button-delete").removeClass("disabled").attr("onclick","removeDialog()"),$($v__fm__container_fluid+" .o__f_m-button-chmod").removeClass("disabled").find("a").attr("onclick","chmodDialog()"),$($v__fm__container_fluid+" .o__f_m-button-chown").removeClass("disabled").find("a").attr("onclick","chownDialog()"),$($v__fm__container_fluid+" .o__f_m-button-chattr").removeClass("disabled").find("a").attr("onclick","chattrDialog()"),$($v__fm__container_fluid+" .o__f_m-button-chcon").removeClass("disabled").find("a").attr("onclick","chconDialog()"),$($v__fm__container_fluid+" .o__f_m-button-compress").removeClass("disabled").find("a").attr("onclick","compressDialog()"),$($v__fm__container_fluid+" .o__f_m-button-copy").removeClass("disabled"),$($v__fm__container_fluid+" .o__f_m-button-cut").removeClass("disabled"),__f__cond_l()}function __f___lb(){$($v__fm__container_fluid+" div button.o__f_m-button-delete").addClass("disabled").removeAttr("onclick"),$($v__fm__container_fluid+" .o__f_m-button-chmod").addClass("disabled").find("a").removeAttr("onclick"),$($v__fm__container_fluid+" .o__f_m-button-chown").addClass("disabled").find("a").removeAttr("onclick"),$($v__fm__container_fluid+" .o__f_m-button-chattr").addClass("disabled").find("a").removeAttr("onclick"),$($v__fm__container_fluid+" .o__f_m-button-chcon").addClass("disabled").find("a").removeAttr("onclick"),$($v__fm__container_fluid+" .o__f_m-button-compress").addClass("disabled").find("a").removeAttr("onclick"),$($v__fm__container_fluid+" .o__f_m-button-copy").addClass("disabled").find("a").removeAttr("onclick"),$($v__fm__container_fluid+" .o__f_m-button-cut").addClass("disabled").find("a").removeAttr("onclick"),__f__cond_l()}function __f__cond_l(){var e=__f__cnt___selected(),a=e&&e.length?e.length:0,t=$($v__fm__container_fluid+" .o__f_m-button-symlink");1===a?t.removeClass("disabled"):t.addClass("disabled")}function __f_____sl(){}function __f_____hl(){}function __f_____hl_(){setTimeout(function(){},750)}function __f_____undel(){var e=$("body"),a='.breadcrumb:visible [data-toggle="popover-path"]';e.undelegate(a,"inserted.bs.popover shown.bs.popover hide.bs.popover");var a=$v__fm__container_fluid+' [data-toggle="popover-path"]';e.undelegate(a,"hide.bs.popover");var a=$v__fm__container_fluid+' a[data-toggle="tab"]';e.undelegate(a,"hide.bs.tab show.bs.tab shown.bs.tab");var a="click.fm click.ranged click.fmcmenu contextmenu.fm submit.fm change.fm input.fm mouseleave.fm mouseenter.fm mouseup.fm mouseout.fm mouseover.fm mousemove.fm input.fm keyup.fm keydown.fm keypress.fm sortupdate.fm resize.fm";e.off(a),$("body *").undelegate(a).unbind(a).off(a)}function __f__dw__dir(e){var a=$($v__fm__container_fluid+" #path").val(),t=localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_usermode"),_=t?t:v___server_username,n=0==config_portable_module_filemanager_force_tar?1:0,i=id=parseInt(1e3*Math.random()),r=new Date,o=r.getFullYear()+"."+(r.getMonth()+1)+"."+r.getDate()+"_"+r.getHours()+"."+r.getMinutes()+"."+r.getSeconds(),l="download-"+o+"-"+_+"-("+v___server_hostname+")";plugins.messenger.post('<i class="fa fa-lg fa-fw fa-file-archive-o"></i>'+theme_language("theme_xhred_filemanager_preparing_download").replace("%number",e).replace("%dots",'...&nbsp;&nbsp;&nbsp;<span class="cspinner"><span class="cspinner-icon white smallest margined-top-4"></span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-cancel-preparing-download-'+i+' class="cancel-preparing-download fa fa-fw fa-lg fa-times-circle pull-right cursor-pointer margined-top-2 margined-right--20"></span>'),0,"info","preparing_download_"+i,0),$("[data-cancel-preparing-download-"+i+"]").one("click",function(){window["preparing_download_"+i].abort(),window["Messenger_preparing_download_"+i].update({hideAfter:3,type:"error",message:'<i class="fa fa-lg fa-fw fa-times-circle"></i>'+theme_language("theme_xhred_filemanager_canceled_download")}),$.ajax({type:"GET",url:v___server_extensions_path+"/file-manager/download.cgi?cancel=1&filename="+l+"&path="+a+"&do_zip="+n+"&module="+v___module_file_manager+extra_query()})}),window["preparing_download_"+i]=$.ajax({xhr:function(){return new window.XMLHttpRequest},type:"POST",url:v___server_extensions_path+"/file-manager/download.cgi?filename="+l+"&do_zip="+n+"&module="+v___module_file_manager+extra_query(),data:__f___gd(),dataType:"text",success:function(t){if(Test.strContains(t,v___page_signin_form))return void(v___available_session=0);window.location.replace(v___server_extensions_path+"/file-manager/download.cgi?download=1&filename="+l+"&path="+a+"&do_zip="+n+"&module="+v___module_file_manager+extra_query()),window["Messenger_preparing_download_"+i].update({hideAfter:5,type:"success",message:'<i class="fa fa-fw fa-download-cloud"></i>'+theme_language("theme_xhred_filemanager_prepared_download").replace("%number",e).replace("%dots","...")})},error:function(e){}})}function __f_____lo(e,a){a===!0&&($("body.file-manager").find("#list_form table tbody").addClass(e?" o__f_m-updating":""),$("body.file-manager").find("ul.pagination").addClass("pointer-events-none"),$($v__fm__container_fluid+" .nav.nav-tabs li").addClass("disabled"),$("#file-manager-new-instance").addClass("disabled_no_styling cursor-na")),__f_____sl()}function __f_____ul(){$("body.file-manager").find("#list_form table tbody").css("opacity","1").removeClass("o__f_m-updating"),$("body.file-manager").find("ul.pagination").css("opacity","1").removeClass("pointer-events-none"),__f_____hl(),$($v__fm__container_fluid+" .btn-group.pull-right > .btn-group > button, "+$v__fm__container_fluid+" .nav.nav-tabs li").removeClass("disabled"),$("#file-manager-new-instance").removeClass("disabled_no_styling cursor-na")}function __init__dt_ck__e(){$($v__fm__container_fluid+" .active td.dataTables_empty").length?($($v__fm__container_fluid+" .active table").attr("style","border-top-width: 1px !important;"),$($v__fm__container_fluid+" .active td.dataTables_empty").css({padding:"4px","border-top-color":"#eaeaea"}),$($v__fm__container_fluid+" .dataTables_paginate").addClass("hidden"),$($v__fm__container_fluid+" .active td.dataTables_empty").attr("colspan",parseInt($(".active thead tr th:visible").length)),setTimeout(function(){$($v__fm__container_fluid+" .__o__f_m-search-results").length&&$($v__fm__container_fluid+" td.dataTables_empty").html(theme_language("theme_xhred_datatable_no_search_results"))},0)):($($v__fm__container_fluid+" .active table, .active td.dataTables_empty").removeAttr("style"),$($v__fm__container_fluid+" .dataTables_paginate").removeClass("hidden"))}function __f____success(e,a,t,_,n,i,r,o,l,s,d,c,f,m,p){function u(e){var e=e.replace(/\\/g,""),a=JSON.parse(e),t='<div class="margined-left-40">';return $.each(a,function(e,a){t+="<strong>â€¢ "+Convert.htmlEscape(e)+"</strong> - "+Convert.htmlEscape(a)+"<br>"}),t+="</div>"}var g=e[0].error&&e[0].error.length,h=e[0].error_fatal&&e[0].error_fatal.length,v=void 0!==p&&p,b=Convert.htmlEscape($($v__fm__container_fluid+" .active form input#path").val()),x=1,w=1,y=1;if(v&&"compress"==v[0]){var k=Convert.htmlEscape(v[1]),C=Convert.htmlEscape(v[2]);theme_message_dismiss("compress_info"),b!=k&&(x=0,w=0,y=0,k||(k="/"),g?plugins.messenger.post('<i class="fa fa-lg fa-fw '+(h?"fa-exclamation-circle":i)+'"></i>'+(theme_language("theme_xhred_filemanager_successful_compression_bg_with_errors").replace("%file",C).replace("%path",Convert.uriDecodeComponent(k))+u(e[0].error)),o,l,m+"_"+l):plugins.messenger.post('<i class="fa fa-lg fa-fw '+s+'"></i>'+theme_language("theme_xhred_filemanager_successful_compression_bg").replace("%file",C).replace("%path",Convert.uriDecodeComponent(k)),c,"info",m+"_"+f))}g&&x?plugins.messenger.post('<i class="fa fa-lg fa-fw '+(h?"fa-exclamation-circle":i)+'"></i>'+theme_language(r+(h?"_fatal":""))+u(e[0].error),o,h?"error":l,m+"_"+l):w&&plugins.messenger.post('<i class="fa fa-lg fa-fw '+s+'"></i>'+theme_language(d),c,f,m+"_"+f),n&&$("."+n).remove(),h||(a&&__f_____ul(),t&&theme_modal_dismiss(),_&&y&&(__f___u("upd",e[0],1,!1,!1),tree_update_node()))}function __f____a(e,a){block_events();var t=$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val();if("bookmark"!=e&&__f_____lo(!1,!0),"copy"!==e&&"cut"!==e||(__f__ld__sh(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/"+e+".cgi?module="+v___module+extra_query(),data:__f___gd(),dataType:"text",success:function(a){get_login_required(a)||(localStorage.removeItem(v___server_hostname+"-cut"),localStorage.removeItem(v___server_hostname+"-copy"),localStorage.setItem(v___server_hostname+"-"+e,1),$($v__fm__container_fluid+" .o__f_m-button-paste").removeClass("disabled"),"copy"===e?plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clone"></i>'+theme_language("theme_xhred_filemanager_copying_successful"),1.5,"info",e+"_info"):"cut"===e&&plugins.messenger.post('<i class="fa fa-lg fa-fw fa-scissors"></i>'+theme_language("theme_xhred_filemanager_cutting_successful"),1.5,"warning",e+"_warning"),__f_____ul())},error:function(a){plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+theme_language("theme_xhred_filemanager_buffer_error"),10,"error",e+"_error")}})),"paste"===e){__f__ld__sh();var _={count:"file-manager-response_count",type:"file-manager-response"},n=function(e){for(var a in e)document.cookie=_[a]+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/;"};$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/paste.cgi?path="+Convert.uriEncodeComponent(t)+"&module="+v___module_file_manager+extra_query(),data:!1,dataType:"json",success:function(a){theme_message_dismiss("paste_info");var i="1"==get_cookie(_.count)?1:2,r=get_cookie(_.type);n(_),(!r||r&&r.length&&r.indexOf("err")===-1)&&(localStorage.removeItem(v___server_hostname+"-cut"),localStorage.getItem(v___server_hostname+"-copy")||$($v__fm__container_fluid+" .o__f_m-button-paste").addClass("disabled")),"err"==r?(plugins.messenger.post('<i class="fa fa-lg fa-fw fa-question-circle"></i>'+a[0].error,20,"warning",e+"_warning"),__f___u("upd",a[0],1,e,!1),tree_update_node()):"merr"==r?(plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle">&nbsp;&nbsp;</i>'+theme_language("theme_xhred_filemanager_move_into_self"),10,"error",e+"_error"),__f_____ul()):"ep"==r?bootbox.dialog({message:theme_language("theme_xhred_filemanager_target_conflict_message_"+i),title:'<i class="fa fa-fw fa-exclamation-circle font-size-80p bootbox-o__f_m-save-prompt">&nbsp;&nbsp;</i> <strong class="font-size-90p">'+theme_language("theme_xhred_filemanager_target_conflict_"+i)+"</strong>",buttons:{success:{label:'&nbsp;<i class="fa fa-fw fa-clipboard">&nbsp;&nbsp;</i>'+theme_language("theme_xhred_filemanager_target_conflict_paste")+"&nbsp;&nbsp;",className:"btn-primary vertical-align-top ",callback:function(){$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/paste.cgi?path="+Convert.uriEncodeComponent(t)+"&module="+v___module_file_manager+"&ua=2"+extra_query(),data:!1,dataType:"json",success:function(a){a[0].error.length>1?plugins.messenger.post('<i class="fa fa-lg fa-fw fa-question-circle"></i>'+a[0].error,15,"warning",e+"_warning"):plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clipboard"></i>'+theme_language("theme_xhred_filemanager_pasting_and_copying_"+i),5,"success",e+"_success"),__f___u("upd",a[0],1,e,!1),tree_update_node(),n(_)},error:function(e){get_login_required(e),n(_)}})}},danger:{label:'&nbsp;<i class="fa fa-fw fa-times-circle-o">&nbsp;&nbsp;</i>'+theme_language("theme_xhred_filemanager_target_conflict_replace")+"&nbsp;&nbsp;",className:"btn-danger vertical-align-top margined-left--2",callback:function(){$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/paste.cgi?path="+Convert.uriEncodeComponent(t)+"&module="+v___module_file_manager+"&ua=1"+extra_query(),data:!1,dataType:"json",success:function(a){a[0].error.length>1?plugins.messenger.post('<i class="fa fa-lg fa-fw fa-question-circle"></i>'+a[0].error,15,"warning",e+"_warning"):plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clipboard"></i>'+theme_language("theme_xhred_filemanager_pasting_and_replacing_"+i),5,"success",e+"_success"),__f___u("upd",a[0],1,e,!1),tree_update_node(),n(_)},error:function(e){get_login_required(e),n(_)}})}}},onEscape:function(){}}):"cc"==r?(plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clipboard"></i>'+theme_language("theme_xhred_filemanager_pasting_and_copying_"+i),5,"success",e+"_success"),__f___u("upd",a[0],1,e,!1),tree_update_node()):(plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clipboard"></i>'+theme_language("theme_xhred_filemanager_pasting_successful"),5,"success",e+"_success"),__f___u("upd",a[0],1,e,!1),tree_update_node())},error:function(e){get_login_required(e),n(_)}})}if("extract"===e){var i=String(),r=String();a&&a[0]&&(i="&password="+a[0]),a&&a[1]&&(r="&delete="+(a[1]?1:0)),theme_message_dismiss(e+"_warning"),tree_update_node(),__f__ld__sh(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/extract.cgi?module="+v___module+i+r+__f___um()+extra_query(),data:__f___gd(),dataType:"json",success:function(a){a[0].error&&a[0].error.length&&alert_json_errors(a[0].error,e,"theme_xhred_filemanager_errors_extraction"),__f___u("upd",a[0],1,e,!1),tree_update_node()},error:function(e){get_login_required(e)}})}if("bookmark"===e&&(__f_____sl(),__f_____hl_(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/bookmark.cgi?path="+Convert.uriEncodeComponent(t)+"&module="+v___module_file_manager,data:!1,dataType:"text",success:function(e){get_login_required(e)||(exiting_book_mark=f_m__bm__u(),exiting_book_mark.length?plugins.messenger.post('<i class="fa fa-lg fa-fw fa-star-o"></i>'+theme_language("theme_xhred_filemanager_unbookmark_success").replace("%value",t?Convert.htmlEscape(Convert.uriDecodeComponent(t)):"/"),5,"warning","bookmarkAddRemove"):plugins.messenger.post('<i class="fa fa-lg fa-fw fa-star"></i>'+theme_language("theme_xhred_filemanager_bookmark_success").replace("%value",t?Convert.htmlEscape(Convert.uriDecodeComponent(t)):"/"),5,"info","bookmarkAddRemove"))},error:function(e){}})),"delete"===e&&(__f__ld__sh(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/delete.cgi?module="+v___module+extra_query(),data:__f___gd(),dataType:"json",success:function(a){theme_message_dismiss("delete_info"),__f____success(a,1,1,1,!1,"fa-exclamation-triangle","theme_xhred_filemanager_delete_warning",30,"warning","fa-trash-o","theme_xhred_filemanager_successful_deletion",2,"info",e)},error:function(e){get_login_required(e)}})),"rename"===e){__f__ld__sh();$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val();theme_modal_dismiss(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/rename.cgi?module="+v___module+extra_query(),data:$($v__fm__container_fluid+" #renameForm").serialize(),dataType:"json",success:function(a){if(a[0].error&&a[0].error.length)return plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+a[0].error,10,"error",e+"_error"),void __f_____ul();__f___u("upd",a[0],1,e),tree_update_node()},error:function(e){get_login_required(e)}})}if("create_folder"===e){__f__ld__sh();var o=(Convert.uriEncodeComponent($($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val()),$($v__fm__container_fluid+" #createFolderForm").serialize());theme_modal_dismiss(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/create_folder.cgi?module="+v___module+__f___um()+extra_query(),data:o,dataType:"json",success:function(a){if(a[0].error&&a[0].error.length)return plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+a[0].error,10,"error",e+"_error"),void __f_____ul();__f___u("upd",a[0],1,e,!1),tree_update_node()},error:function(e){get_login_required(e)}})}if("create_file"===e){__f__ld__sh();$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val();theme_modal_dismiss(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/create_file.cgi?module="+v___module+__f___um()+extra_query(),data:$($v__fm__container_fluid+" #createFileForm").serialize(),dataType:"json",success:function(a){if(a[0].error&&a[0].error.length)return plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+a[0].error,10,"error",e+"_error"),void __f_____ul();__f___u("upd",a[0],1,e,!1)},error:function(e){get_login_required(e)}})}if("url_download"===e){__f__ld__sh();$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val();theme_modal_dismiss();var l=$($v__fm__container_fluid+" #downFromUrlForm input:not([name='path'])").serialize();l=l+"&path="+$($v__fm__container_fluid+" #path").val(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/http_download.cgi?module="+v___module+__f___um()+extra_query(),data:l,dataType:"json",success:function(a){if(theme_message_dismiss("url_download_info"),a[0].error&&a[0].error.length)return plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+a[0].error,10,"error",e+"_error"),void __f_____ul();plugins.messenger.post('<i class="fa fa-lg fa-fw fa-download"></i>'+a[0].success,5,"success",e+"_success"),__f___u("upd",a[0],1,e,!1)},error:function(e){get_login_required(e)}})}if("search"===e){__f__ld__sh();var r=($($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val(),$($v__fm__container_fluid+" #searchForm").find('input[name="query"]').val()),s=$($v__fm__container_fluid+" #searchForm").find('input[name="grepstring"]').val(),d=$($v__fm__container_fluid+" #searchForm").find('input[name="grepreplace"]').val(),c=s&&!d?" fa-1_50x fa-file-find":s&&d?" fa-1_50x fa-find-replace":" fa-lg fa-search";r&&r.length&&(r=Convert.htmlEscape(r)),s&&s.length&&(s=Convert.htmlEscape(s)),d&&d.length&&(d=Convert.htmlEscape(d)),theme_modal_dismiss(),s&&!d?plugins.messenger.post('<i class="fa fa-1_50x fa-fw fa-file-find"></i>'+theme_language("theme_xhred_filemanager_searching_matching").replace("%value",r).replace("%text",s)+" "+theme_language("theme_xhred_global_please_wait"),1e4,"info",e+"_preMe"):s&&d?plugins.messenger.post('<i class="fa fa-1_50x fa-fw fa-find-replace"></i>'+theme_language("theme_xhred_filemanager_searching_replacing").replace("%value",r).replace("%text",s).replace("%replace",d)+" "+theme_language("theme_xhred_global_please_wait"),1e4,"warning",e+"_preMe"):plugins.messenger.post('<i class="fa fa-lg fa-fw fa-search"></i>'+theme_language("theme_xhred_filemanager_searching").replace("%value",r)+" "+theme_language("theme_xhred_global_please_wait"),1e4,"info",e+"_preMe");var f=$($v__fm__container_fluid+" .active .dataTables_length select").val(),m=function(a){__f___ds_a(),__f___u("upd",a[0],0,"search",!1);var t=5e3;a[0].totals>1?s&&d?(plugins.messenger.post('<i class="fa fa-fw '+c+'"></i>'+theme_language("theme_xhred_filemanager_search_replaced_multi").replace("%value",a[0].totals),10,"success",e+"_success"),t=9e3):plugins.messenger.post('<i class="fa fa-fw '+c+'"></i>'+theme_language("theme_xhred_filemanager_search_founds").replace("%value",a[0].totals),6,"success",e+"_success"):1==a[0].totals?s&&d?plugins.messenger.post('<i class="fa fa-fw '+c+'"></i>'+theme_language("theme_xhred_filemanager_search_replaced"),6,"success",e+"_success"):plugins.messenger.post('<i class="fa fa-fw '+c+'"></i>'+theme_language("theme_xhred_filemanager_search_found"),6,"success",e+"_success"):plugins.messenger.post('<i class="fa fa-fw '+c+'"></i>'+theme_language("theme_xhred_filemanager_search_no_matches"),6,"error",e+"_error"),setTimeout(function(){theme_message_dismiss("search_preMe")},t)};$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/search.cgi?paginate="+f+"&module="+v___module,data:$($v__fm__container_fluid+" #searchForm").serialize(),dataType:"json",success:function(e){m(e)},error:function(e){get_login_required(e)}})}"chmod"===e&&(__f__ld__sh(),$($v__fm__container_fluid_form).append('<input type="hidden" name="perms" value="'+a[0]+'" class="_o__f_m-tmp-chmod-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="applyto" value="'+a[1]+'" class="_o__f_m-tmp-chmod-inputs">'),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/chmod.cgi?module="+v___module+extra_query(),data:__f___gd(),dataType:"json",success:function(a){setTimeout(function(){theme_message_dismiss("chmod_info")},2e3),__f____success(a,1,1,1,"_o__f_m-tmp-chmod-inputs","fa-exclamation-triangle","theme_xhred_filemanager_successful_permissions_with_errors",15,"warning","fa-cogs","theme_xhred_filemanager_successful_permissions",3,"success",e)},error:function(e){get_login_required(e)}})),"chown"===e&&(__f__ld__sh(),$($v__fm__container_fluid_form).append('<input type="hidden" name="owner" value="'+a[0]+'" class="_o__f_m-tmp-chown-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="group" value="'+a[1]+'" class="_o__f_m-tmp-chown-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="recursive" value="'+a[2]+'" class="_o__f_m-tmp-chown-inputs">'),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/chown.cgi?module="+v___module+extra_query(),data:__f___gd(),dataType:"json",success:function(a){setTimeout(function(){theme_message_dismiss("chown_info")},2e3),__f____success(a,1,1,1,"_o__f_m-tmp-chown-inputs","fa-exclamation-triangle","theme_xhred_filemanager_successful_ownership_with_errors",15,"warning","fa-users","theme_xhred_filemanager_successful_ownership",3,"success",e)},error:function(e){get_login_required(e)}})),"chattr"===e&&(__f__ld__sh(),$($v__fm__container_fluid_form).append('<input type="hidden" name="label" value="'+a[0]+'" class="_o__f_m-tmp-chattr-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="recursive" value="'+a[1]+'" class="_o__f_m-tmp-chattr-inputs">'),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/chattr.cgi?module="+v___module+extra_query(),data:__f___gd(),dataType:"json",success:function(a){setTimeout(function(){theme_message_dismiss("chattr_info")},2e3),__f____success(a,1,1,1,"_o__f_m-tmp-chattr-inputs","fa-exclamation-triangle","theme_xhred_filemanager_successful_attributes_with_errors",15,"warning","fa-tags","theme_xhred_filemanager_successful_attributes",3,"success",e)},error:function(e){get_login_required(e)}})),"chcon"===e&&(__f__ld__sh(),$($v__fm__container_fluid_form).append('<input type="hidden" name="label" value="'+a[0]+'" class="_o__f_m-tmp-chcon-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="recursive" value="'+a[1]+'" class="_o__f_m-tmp-chcon-inputs">'),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/chcon.cgi?module="+v___module+extra_query(),data:__f___gd(),dataType:"json",success:function(a){
setTimeout(function(){theme_message_dismiss("chcon_info")},2e3),__f____success(a,1,1,1,"_o__f_m-tmp-chcon-inputs","fa-exclamation-triangle","theme_xhred_filemanager_successful_secontext_with_errors",15,"warning","fa-tags","theme_xhred_filemanager_successful_secontext",3,"success",e)},error:function(e){get_login_required(e)}})),"compress"===e&&(__f__ld__sh(),$($v__fm__container_fluid_form).append('<input type="hidden" name="arch" value="'+a[0]+'" class="_o__f_m-tmp-compress-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="method" value="'+a[1]+'" class="_o__f_m-tmp-compress-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="arcmove" value="'+(a[2]?1:0)+'" class="_o__f_m-tmp-compress-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="arcencr" value="'+(a[3]?1:0)+'" class="_o__f_m-tmp-compress-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="arcencr_val" value="'+a[4]+'" class="_o__f_m-tmp-compress-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="arkkey" value="'+a[5]+'" class="_o__f_m-tmp-compress-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="arcencr_pass" value="'+a[6]+'" class="_o__f_m-tmp-compress-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="gpgpath" value="'+a[7]+'" class="_o__f_m-tmp-compress-inputs">'),__f__ld__bg(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/compress.cgi?module="+v___module+__f___um()+extra_query(),data:__f___gd(),dataType:"json",success:function(_){$($v__fm__container_fluid).find('[name="arcencr_val"]').val(String()).trigger("keyup"),setTimeout(function(){0===$.active&&theme_message_dismiss("compress_info")},2e3),__f____success(_,1,0,1,"_o__f_m-tmp-compress-inputs","fa-exclamation-circle","theme_xhred_filemanager_successful_compression_with_errors",15,"warning","fa-file-archive-o","theme_xhred_filemanager_successful_compression",8,"success",e,[e,t,a[0]+$('#compressDialog select option[value="'+a[1]+'"]').text()])},error:function(e){get_login_required(e)}}))}function format_search_breadcrum(e){var a=extra_query(!1,1);if(e)return a.query?1:0;var t=$('body[class*="'+v___module_file_manager+'"]'),_=($($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val(),$($v__fm__container_fluid+" #searchForm").find('input[name="query"]').val()),n=$($v__fm__container_fluid+" #searchForm").find('input[name="grepstring"]').val(),i=$($v__fm__container_fluid+" #searchForm").find('input[name="grepreplace"]').val();a.query&&(_=a.query),n=a.grepstring,t.find(".breadcrumb .fa-folder-root").length?t.find(".breadcrumb .fa-folder-root").removeClass("fa-folder-root").addClass("fa-search text-light fa-sm").parent("a").removeAttr("href").replaceTagName("span"):t.find(".breadcrumb li:first-child a").html('<i class="fa fa-fw fa-sm fa-search text-light"></i>'),t.find(".breadcrumb li:not(:first-child) a").replaceWith(function(){return $("<span>",{html:$(this).html()})}),t.find(".breadcrumb li").addClass("text-light"),t.find(".breadcrumb li span i.fa-caret-right").remove(),$($v__fm__container_fluid+" .__o__f_m-search-results").remove(),$($v__fm__container_fluid+" .ui_checked_columns.directory_go_up").addClass("hidden"),tree_view_draw(_f__table()),$_br=$($v__fm__container_fluid+" .breadcrumb > li:last-child"),$_br.html($_br.html()+'<span class="__o__f_m-search-results">'+($(".breadcrumb > li:last-child a i").hasClass("fa-search")?"&nbsp;&nbsp;&nbsp;/&nbsp;":"")+'&nbsp;&nbsp;:&nbsp;&nbsp;<span class="text-primary __o__f_m-search-results-data cursor-pointer">`<em><strong class="small">'+_+"</strong>"+(n&&!i?' <strong class="small">['+n+"]</strong>":i?' <strong class="small">['+n+'<span class="smaller"> -> </span>'+i+"]</strong>":"")+'</em>`&nbsp;&nbsp;<i class="fa fa-times-circle fa-0_90x text-danger text-semi-dark text-dark-hoverd vertical-align-middle"></i></span></span>')}function extra_query(e,a,t){var _=String(),n=e||$($v__fm__container_fluid+" .spaginates:visible .active a").attr("href")||$($v__fm__container_fluid+" .dataTables_paginate:visible .active a").text(),i=_,r=_,o=_,l=_,s=_,d=_,c=_;return n&&(n=Convert.uriDecodeComponent(n),i=Convert.htmlUnEscape(URI.parseQuery(URI(n).query()).page)||n,r=Convert.htmlUnEscape(URI.parseQuery(URI(n).query()).query),o=URI.parseQuery(URI(n).query()).regex,l=URI.parseQuery(URI(n).query()).follow,s=URI.parseQuery(URI(n).query()).caseins,d=URI.parseQuery(URI(n).query()).grepstring,c=$($v__fm__container_fluid+" .active .dataTables_length select").val(),i&&(_+="&page="+i),r&&(_+="&query="+r),o&&(_+="&regex="+o),l&&(_+="&follow="+l),s&&(_+="&caseins="+s),d&&(_+="&grepstring="+d),_&&c&&(_+="&paginate="+c),select_all_entries("test")&&"list"!==t&&(_+="&all_items=3")),a?{page:i,query:r,regex:o,follow:l,caseins:s,grepstring:d,pagnate_number:c}:_}function set_last_tabs(e){localStorage.setItem(v___server_hostname+"-settings_thirdparty_filemanager_last_tab",JSON.stringify(e))}function get_last_tabs(){return JSON.parse(localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_last_tab"))}function no_loading_tabs(){return!$("[data-tab-path]").find(".cspinner-icon").length}function store_last_tab(e){if(no_loading_tabs()&&!initial_fm_load){var a=v___server_username,t=get_last_tabs();$t_uri_virtualmin&&(a+="_"+$('[name="dom"]').val());var _={};e||(e=$($v__fm__container_fluid+" .nav.nav-tabs li.active")),_[a]=e.find("[data-tab-path]").attr("data-original-title");set_last_tabs($.extend({},t,_))}}function table_resize(e){var a=content_page_calc_width()-6-($("[data-tree-view]").is(":visible")?e?e:$("[data-tree-view]").outerWidth():0),t="data-table-wrap";browser.detect.safari()&&(a-=2),config_portable_module_filemanager_hide_tree_view&&(a+=5),$(".__page").hasScrollBar()&&(a-=browser.detect.firefox()?12:9),$("["+t+"]").css({"max-width":a,width:a}),$("["+t+"]:visible")&&$("["+t+"]:visible").length&&($("["+t+"]:visible").removeClass(),$("["+t+"]:visible").hasScrollBar(1)&&$("["+t+"]:visible").addClass("margined-bottom-10"))}function tree_resize(e,a){var t=$("[data-tree-view]"),_=t.next(".tree-view-filter"),n=$("form .row + .tree-view + .row"),i=parseInt(localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_tree_width"));!e&&!isNaN(i)&&i>=200&&i<=parseInt(vhTOpx(70))?e=i:e||(e=t.outerWidth()),t.css("width",e),n.css("margin-left",parseInt(e)-10),_.css("width",parseInt(e)),a?setTimeout(table_resize,1):table_resize(parseInt(e))}function tree_view_set(e){var a=$("[data-tree-view]"),t=a.next().find("input"),_=t.parent();a.find(".cspinner.centered-initial").removeClass("centered-initial").find(".cspinner-icon").addClass("smaller"),_.removeClass("hidden-content").append('<span class="fa fa-times-circle vertical-align-middle filter_fancytree_clear text-lighter"><span class="clear_delimiter">|</span></span><span class="fa fa-folder vertical-align-middle filter_fancytree_toggle text-lighter"><span class="clear_delimiter">|</span></span>'),a.find(".cspinner").remove(),$.ui.fancytree.debugLevel=0,$.ui.fancytree.activeVisible=!0,$.ui.fancytree.autoScroll=!0,a.fancytree({source:e,debugLevel:0,scrollParent:a,escapeTitles:!1,extensions:["filter"],quicksearch:!0,filter:{autoApply:!0,autoExpand:config_portable_module_filemanager_tree_expand_search,counter:!0,fuzzy:!1,hideExpandedCounter:!0,hideExpanders:!1,highlight:!0,leavesOnly:!1,nodata:!0,mode:"hide"},autoActivate:!1,activeVisible:!0,autoScroll:!0,keyboard:!1,strings:{loading:"",loadError:"",moreData:"",noData:theme_language("theme_xhred_datatable_szerorecords")},toggleEffect:!1,click:function(e,a){$v__fm__tree_node_prog&&($v__fm__tree_node_prog=0,$v__fm__tree_node_sp=0,tree_action(e,a))},dblclick:function(e,a){return tree_action(e,a,1),!1},activate:function(e,a){tree_action(e,a)},init:function(){setTimeout(function(){tree_gset_node()},2)}}),$("body").on("click.fm",".filter_fancytree_clear",function(){$(this).parent().find("input").val("").trigger("keyup"),setTimeout(function(){var e=_f__table();e&&(e.DataTable().draw(!1),tree_view_adjust())},100)}),$("body").on("click.fm",".filter_fancytree_toggle",function(){a.fancytree("getRootNode").visit(function(e){e.setExpanded(!1)}),a.find(".mCSB_container").css("left",0),a.mCustomScrollbar("scrollTo",0,{scrollInertia:100})}),t.keyup(function(e){var a=$(this);"undefined"!=typeof $tree_view_search_timer&&clearTimeout($tree_view_search_timer),$tree_view_search_timer=setTimeout(function(){var t=$.ui.fancytree.getTree(),_=a.val(),n=$(e.target).parent().find(".filter_fancytree_clear");t.filterNodes.call(t,_),_?n.removeClass("text-lighter"):n.addClass("text-lighter")},void 0!=e.originalEvent?600:0)}),1===e.length&&a.fancytree("getRootNode").visit(function(e){1===e.getLevel()&&e.setExpanded(!0)}),a.mCustomScrollbar({axis:"xy",theme:"minimal-dark",keyboard:!1,scrollButtons:!0,autoHideScrollbar:!1,scrollInertia:100,advanced:{updateOnContentResize:!0}});var n=a.find("[data-resizer]").detach();a.prepend(n),function(){var e=$("[data-tree-view]"),a=e.find("[data-resizer]")[0],t=$("body"),_=$(".panel-heading, .jsPanel, .jsPanel-replacement-container, aside, .mobile-menu-toggler, #right-side-tabs, .right-side-tabs-toggler, .breadcrumb, .btn-group, .ui-fancytree, .tree-view-filter, .data-table"),n="user-select-none cursor-w-resize",i=function(){window.addEventListener("mousemove",r,!1),window.addEventListener("mouseup",o,!1)},r=function(a){var i=a.pageX-e[0].getBoundingClientRect().left+"px";t.addClass(n),_.addClass("pointer-events-none-forced");var r=parseInt(vhTOpx(70));parseInt(i)<200||parseInt(i)>r||(localStorage.setItem(v___server_hostname+"-settings_thirdparty_filemanager_tree_width",i),tree_resize(i))},o=function(){t.removeClass(n),_.removeClass("pointer-events-none-forced"),window.removeEventListener("mousemove",r,!1),window.removeEventListener("mouseup",o,!1)};a&&a.addEventListener("mousedown",i,!1)}()}function tree_action(e,a,t){var _=$("[data-tree-view]"),n=(_.next().find("input"),0);e.originalEvent&&"object"==typeof e.originalEvent.originalEvent&&(n=1);var i=a.node.key,r=_.next().find("input").val(),o=$($v__fm__container_fluid).find(".fancytree-active");i=Convert.uriEncodeComponent(Convert.htmlUnEscape(i));var l=i;if(2===get_access_level()||4===get_access_level()){var s=new RegExp("^"+Convert.uriEncodeComponent(get_server_data("user-home")),"");l=l.replace(s,"")}if(n&&(__f____r("get","index.cgi?path="+l,!1,0,!1,n),$(".fancytree-loading-node").remove()),($v__fm__tree_node_sp||t)&&n&&o.find(".fancytree-icon").before('<span class="cspinner fancytree-loading-node"><span class="cspinner-icon smaller"></span></span>'),$v__fm__tree_node_sp=1,!config_portable_module_filemanager_hide_tree_view&&!r){var d=config_portable_module_filemanager_tree_view_depth,c=Test.occurrences(Convert.uriDecodeComponent(i),"/");d=0==config_portable_module_filemanager_tree_view_depth?0:parseInt(d)+c,$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/tree.cgi?module="+v___module+__f___um()+"&d="+d+"&cpt="+i,data:!1,dataType:"JSON",success:function(e){a.node.removeChildren(),a.node.addChildren(e),a.node.toggleExpanded(),tree_view_adjust()},error:function(e){}})}!a.node.isExpanded()&&a.node.toggleExpanded();var f=a.node.getChildren();f&&f.map(function(e,a){e.isExpanded()&&e.toggleExpanded()})}function tree_view_get(){if(1!=config_portable_module_filemanager_hide_tree_view&&1!==$v__fm__tree){$v__fm__tree=1;var e=config_portable_module_filemanager_tree_view_depth;3===get_access_level()&&(e=0==config_portable_module_filemanager_tree_view_depth?0:parseInt(e)+Test.occurrences(Convert.uriDecodeComponent(get_server_data("user-home")),"/")),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/tree.cgi?module="+v___module+__f___um()+"&d="+e+"&e="+(config_portable_module_filemanager_tree_exclude_on_first_load?1:0),data:!1,dataType:"JSON",success:function(e){var a="jquery.fancytree";$($v__fm__container_fluid_form).data("tree",e),Test.arrContains(o___gotten_scripts,a)?tree_view_set(e):(o___gotten_scripts.push(a),$("head").append('<link href="'+v___server_css_path+"/"+a+"."+v___source_type+".css?"+v___theme_version_plain+'" rel="stylesheet" type="text/css">'),$.getScript(v___server_js_path+"/"+a+"."+v___source_type+".js?"+v___theme_version_plain,function(){tree_view_set(e)}).fail(function(e){"canceled"!==e.statusText&&connection_error(e,1)}))},error:function(e){}})}}function tree_view_draw(e){var a=e.parent("div").parent(".row").prev(".tree-view").add("[data-tree-view]"),t=$(".tree-view-filter"),_=a.find(".fancytree-loading-node"),n=e.outerHeight(),i=$("[data-tree-view] .fancytree-container").height(),r=parseInt(vhTOpx(47.52))-8;r=r>320?r:320;var o=r-39,l=r+11;_.remove(),(!i||i>n||n<o)&&n<l||t.find("input").val()?(a.css("height",r-0),t.css("margin-top",r+8+-2+0)):(a.css("height",n-0),t.css("margin-top",n+8+-2))}function tree_view_adjust(){var e=($("[data-tree-view]").height(),$("[data-tree-view]").height(),$(".fancytree-active").parent("li")),a=$(".tree-view-filter"),t=e.prev(),_=t.length?t:e,n=Convert.uriEncodeComponent(Convert.htmlUnEscape($("#path").val())),i=Convert.htmlEscape(Convert.uriDecodeComponent(n)),r=i&&"/"!=i?0:1;if((_.length||r)&&!a.find("input").val()){r&&(_=-2);var o=$("[data-tree-view]");o&&o.length&&_&&_.length&&o.mCustomScrollbar("scrollTo",_,{scrollInertia:100})}}function tree_gset_node(e){var a=$("[data-tree-view]"),t=a.data("ui-fancytree"),_=$(".tree-view-filter");if(!config_portable_module_filemanager_hide_tree_view&&t&&!_.find("input").val()){var n=config_portable_module_filemanager_tree_view_depth,i=Convert.uriEncodeComponent(Convert.htmlUnEscape($("#path").val())),r=Convert.htmlEscape(Convert.uriDecodeComponent(i)),o=Test.occurrences(Convert.uriDecodeComponent(r),"/"),n=0==config_portable_module_filemanager_tree_view_depth?0:parseInt(n)+o,t=t.getTree();2!==get_access_level()&&4!==get_access_level()||(r=get_server_data("user-home")+r);var l=t.getNodeByKey(r);if(e)return[l,t,i,o];l?l.setActive():a.find(".fancytree-active, .fancytree-selected").removeClass("fancytree-active fancytree-selected"),tree_view_adjust()}}function tree_update_node(){if($v__fm__tree){$(".filter_fancytree_clear").trigger("click");var e=tree_gset_node(1);if($v__fm__tree_node_prog=1,e&&e[0])return void $(e[0].li).trigger("click");tree_update_root(1)}}function tree_update_root(e,a){var t="path",t=Convert.uriDecodeComponent(Convert.htmlUnEscape($("#"+t).val())),_=$("[data-tree-view]"),n=_.data("ui-fancytree"),i=_.find(".ui-fancytree");n&&e&&(a||!t||"/"==t||t===get_server_data("user-home"))&&(n=n.getTree(),i.addClass("pointer-events-none"),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/tree.cgi?module="+v___module+__f___um()+"&d="+config_portable_module_filemanager_tree_view_depth,data:!1,dataType:"JSON",success:function(e){if($("[data-tree-view]").length){var a=_.fancytree("getRootNode");a.removeChildren(),a.addChildren(e),i.removeClass("pointer-events-none")}},error:function(e){}}))}function __f___cs(){$($v__fm__container_fluid_form+" table tbody tr").removeClass("m-active m-not-active")}function __f___ds_a(){select_all_entries("remove"),deselectAllRows(),total_selected_count_update(0,0,1),__f___lb()}function __f__get_fs(e,a){e&&!e.is(":visible")||($($v__fm__container_fluid+" .total_size_data").parent("span").addClass("hidden"),$($v__fm__container_fluid+" .total_size_data").data("total",0),$.each(e?e:_f__table().dataTable().$("tr.hl-aw",{filter:"applied"}),function(){var e=$(this),t=$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val().replace(/\/$/g,"")+"/"+e.find("td:nth-child(3) a").text(),_=e.find("td.column-filesize").html("<label></label>").find("label"),n=_f__table().dataTable().$("tr.hl-aw",{filter:"applied"});__f_____sl(),_.html('<span class="cspinner" style="margin-top: -13px; margin-left: 20px;"><span class="cspinner-icon smaller"></span></span>'),$.ajax({type:"POST",url:v___location_prefix+"/index.cgi/?xhr-get_size=1&xhr-get_size_path="+t,data:!1,dataType:"text",success:function(t){if(Test.strContains(t,v___page_signin_form))return void(v___available_session=0);var _=t.split("|"),i=_f__table().DataTable(),r='<span data-toggle="tooltip" data-html="true" data-title="'+theme_language("theme_xhred_filemanager_global_size_in_bytes")+"<br>"+_[1]+'">'+_[0]+"</span>";_[1]=_[1].toString().replace(/\s/g,String()),_[1]&&(_[1]=parseInt(_[1])),i.cell(e.find("td.column-filesize").attr("data-order",_[1])).data(r).invalidate();var o;o=isNaN(parseInt(_[1]))?0:parseInt(_[1]),$($v__fm__container_fluid+" .total_size_data").data("total",parseInt($(".total_size_data").data("total"))+o),n.find("td.column-filesize").find("label").find(".cspinner").length||($.ajax({type:"POST",url:v___location_prefix+"/index.cgi/?xhr-get_nice_size=1&xhr-get_nice_size_sum="+parseInt($(".total_size_data").data("total")),data:!1,dataType:"text",success:function(e){if(Test.strContains(e,v___page_signin_form))return void(v___available_session=0);$($v__fm__container_fluid+" .total_size_data").text(e),!a&&$($v__fm__container_fluid+" .total_size_data").parent("span").removeClass("hidden"),_f__table().DataTable().draw(!1)},error:function(e){}}),setTimeout(function(){__f_____hl()},600))},error:function(e){}})}))}function __f__c__m(){var e=$($v__fm__container_fluid+" .tab-pane.active form table");$($v__fm__container_fluid+" .tab-pane table").unbind("contextmenu"),e.contextMenu({menuSelector:"#__f__c__m",menuSelectorTriggered:function(e,a){var t=$(e).parents("tr"),_=t.find('td.ui_checked_checkbox input[type="checkbox"]');if(_.length&&!_.is(":checked")&&(__f___ds_a(),_[0].checked=!0,t.addClass("m-active hl-aw"),__r____changed()),$($v__fm__container_fluid+" .tab-pane.active table tbody tr input").length&&0===e.parents("tr").find("input:checked").length){__f___ds_a();var n=e.parents("tr").find("td:first-child input"),i=n.is(":checked");n[0]&&(n[0].checked=!i,n.trigger("change"))}e.parents("tr").find("i.fa-folder-open-o").length?$(".context-o__f_m-dependent-goto").removeClass("hidden"):$(".context-o__f_m-dependent-goto").addClass("hidden"),e.parents("tr").find('a[href*="index.cgi?path="]').length?$(".context-o__f_m-dependent-open-new-tab").removeClass("hidden"):$(".context-o__f_m-dependent-open-new-tab").addClass("hidden"),e.parents("tr").find("i.fa-pencil-square-o").length?$(".context-o__f_m-dependent-edit").removeClass("hidden"):$(".context-o__f_m-dependent-edit").addClass("hidden"),e.parents("tr").find('a[data-filemin-link$=".acgi"]').length||e.parents("tr").find('a[data-filemin-link$=".htm"]').length||e.parents("tr").find('a[data-filemin-link$=".html"]').length||e.parents("tr").find('a[data-filemin-link$=".htmls"]').length||e.parents("tr").find('a[data-filemin-link$=".htx"]').length||e.parents("tr").find('a[data-filemin-link$=".shtml"]').length||e.parents("tr").find('a[data-filemin-link$=".ssi"]').length?($("li.context-o__f_m-dependent-edit").addClass("dropdown-submenu"),$('[context-o__f_m-dependent-htmledit="1"]').removeClass("hidden")):($("li.context-o__f_m-dependent-edit").removeClass("dropdown-submenu"),$('[context-o__f_m-dependent-htmledit="1"]').addClass("hidden")),e.parents("tr").find('a[href*="download.cgi"]').length&&$(".context-o__f_m-dependent-download").removeClass("hidden");var r=e.parents("tr").find("td[data-xarchive]").data("xarchive"),o=e.parents("tr").find("td[data-xfile]").data("xfile"),l=e.parents("tr").find("td[data-gpg]").data("gpg"),s=e.parents("tr").find("td[data-img]").data("img"),d=$(".context-o__f_m-dependent-preview");s?d.removeClass("hidden"):d.addClass("hidden");var c=$(".context-o__f_m-dependent-encrypt");o?(encryptDecryptModalA(l),c.removeClass("hidden")):c.addClass("hidden");var f=$(".context-o__f_m-dependent-extract");r?f.removeClass("hidden"):f.addClass("hidden");var m=$($v__fm__container_fluid+' #headln2l > div.btn-group > a[href*="'+v___module_file_manager+'"][href*="index.cgi"]'),p=$("#__f__c__m a[data-context-back]");m.is(":visible")?p.parent().removeClass("disabled"):p.parent().addClass("disabled");var u=$("#__f__c__m"),g=u.find("li:not([data-go_up-target]):not([data-context-always-keep])"),h=u.find("li.hidden-force");e.hasClass("directory_go_up")?g.addClass("hidden-force"):h.removeClass("hidden-force"),$($v__fm__container_fluid+" .o__f_m-button-compress").hasClass("disabled")?$("#__f__c__m a[data-context-newarchive]").addClass("disabled").parent("li").addClass("disabled"):$("#__f__c__m a[data-context-newarchive]").removeClass("disabled").parent("li").removeClass("disabled"),$($v__fm__container_fluid+" .o__f_m-button-copy").hasClass("disabled")?$("#__f__c__m a[data-context-copy], a[data-context-clipboard], a[data-context-clipboard-selection]").addClass("disabled").parent("li").addClass("disabled"):$("#__f__c__m a[data-context-copy], a[data-context-clipboard], a[data-context-clipboard-selection]").removeClass("disabled").parent("li").removeClass("disabled"),$($v__fm__container_fluid+" .o__f_m-button-cut").hasClass("disabled")?$("#__f__c__m a[data-context-cut]").addClass("disabled").parent("li").addClass("disabled"):$("#__f__c__m a[data-context-cut]").removeClass("disabled").parent("li").removeClass("disabled"),$($v__fm__container_fluid+" .o__f_m-button-paste").hasClass("disabled")?$("#__f__c__m a[data-context-paste]").addClass("disabled").parent("li").addClass("disabled"):$("#__f__c__m a[data-context-paste]").removeClass("disabled").parent("li").removeClass("disabled"),check_selected_text()&&!$("#__f__c__m a[data-context-copy]").hasClass("disabled")?$("a[data-context-clipboard-selection]").removeClass("disabled").parent("li").removeClass("disabled"):$("a[data-context-clipboard-selection]").addClass("disabled").parent("li").addClass("disabled"),$(".o__f_m-button-delete").hasClass("disabled")?($("#__f__c__m a[data-context-delete]").addClass("disabled").parent("li").addClass("disabled"),$("#__f__c__m a[data-context-rename]").addClass("disabled").parent("li").addClass("disabled")):($("#__f__c__m a[data-context-delete]").removeClass("disabled").parent("li").removeClass("disabled"),$("#__f__c__m a[data-context-rename]").removeClass("disabled").parent("li").removeClass("disabled")),f_m__bm__cm(),$($v__fm__container_fluid+" .o__f_m-button-chmod").hasClass("disabled")&&$(".o__f_m-button-chown").hasClass("disabled")?$($v__fm__container_fluid+" .context-properties").addClass("disabled"):$($v__fm__container_fluid+" .context-properties").removeClass("disabled"),_f__table().dataTable().$("tr.hl-aw",{filter:"applied"}).length?$("#__f__c__m a[data-context-calculate-selected-size]").parent("li").removeClass("hidden"):$("#__f__c__m a[data-context-calculate-selected-size]").parent("li").addClass("hidden"),$($v__fm__container_fluid+" .o__f_m-button-chmod").hasClass("disabled")?$("#__f__c__m a[data-context-chmod]").addClass("disabled").parent("li").addClass("disabled"):$("#__f__c__m a[data-context-chmod]").removeClass("disabled").parent("li").removeClass("disabled"),$($v__fm__container_fluid+" .o__f_m-button-chown").hasClass("disabled")?$("#__f__c__m a[data-context-chown]").addClass("disabled").parent("li").addClass("disabled"):$("#__f__c__m a[data-context-chown]").removeClass("disabled").parent("li").removeClass("disabled"),$($v__fm__container_fluid+" .o__f_m-button-chattr").hasClass("disabled")?$("#__f__c__m a[data-context-chattr]").addClass("disabled").parent("li").addClass("disabled"):$("#__f__c__m a[data-context-chattr]").removeClass("disabled").parent("li").removeClass("disabled"),$($v__fm__container_fluid+" .o__f_m-button-chcon").hasClass("disabled")?$("#__f__c__m a[data-context-chcon]").addClass("disabled").parent("li").addClass("disabled"):$("#__f__c__m a[data-context-chcon]").removeClass("disabled").parent("li").removeClass("disabled")},menuSelected:function(e,a){$v__fm__global_last_row=e.parents("tr");var t=$($v__fm__container_fluid+" #path").val(),_=$v__fm__global_last_row.find("td a[data-filemin-link]").attr("data-filemin-link");if("1"==a.data("context-goto")&&e.parents("tr").find('a.o__f_m-follow-file[href^="index.cgi?"]').trigger("click"),"1"==a.data("context-open-new-tab")&&__f___nt(Convert.uriEncodeComponent(Convert.htmlUnEscape(t))+"%2F"+Convert.uriEncodeComponent(Convert.htmlUnEscape(_)),1),"1"==a.data("context-select-all")&&$($v__fm__container_fluid+' button[onclick="selectAll()"]').trigger("click"),"1"==a.data("context-deselect-all")&&(__f___ds_a(),__r____changed()),"1"==a.data("context-invert-selection")&&$($v__fm__container_fluid+' button[onclick="invertSelection()"]').trigger("click"),"1"==a.data("context-refresh")&&$($v__fm__container_fluid+" button > ."+$__f__rf_s).parent("button").trigger("click"),"1"==a.data("context-newsymlink")&&__f___new_symlink(t,_),"1"==a.data("context-newfile")&&$($v__fm__container_fluid+' a[onclick="createFileDialog()"]').trigger("click"),"1"==a.data("context-newfolder")&&$($v__fm__container_fluid+' a[onclick="createFolderDialog()"]').trigger("click"),"1"==a.data("context-newarchive")&&$($v__fm__container_fluid+' a[onclick="compressDialog()"]').trigger("click"),"1"==a.data("context-upload")&&$($v__fm__container_fluid+' a[onclick="viewReadyForUpload()"]').trigger("click"),"1"==a.data("context-download")&&$($v__fm__container_fluid+' a[onclick="downFromUrlDialog()"]').trigger("click"),"1"==a.data("context-clipboard")){var n=e.parents("tr").find("img").parent("a").parent("td").next("td").find("a"),i=$($v__fm__container_fluid+" #path").val(),r=n.attr("data-filemin-link");$("body.file-manager").append('<button class="hidden tmp-clipboard-obj" data-clipboard-text="'+Convert.htmlEscape(Convert.uriDecodeComponent(i)+"/"+Convert.uriDecodeComponent(r))+'"></button>');var o=new Clipboard(".tmp-clipboard-obj");$(".tmp-clipboard-obj").trigger("click"),$(".tmp-clipboard-obj").remove(),o.destroy()}if("2"==a.data("context-clipboard-selection")){$("body.file-manager").append('<button class="hidden tmp-clipboard-obj" data-clipboard-text="'+check_selected_text()+'"></button>');var o=new Clipboard(".tmp-clipboard-obj");$(".tmp-clipboard-obj").trigger("click"),$(".tmp-clipboard-obj").remove(),o.destroy()}"1"==a.data("context-copy")&&$($v__fm__container_fluid+" .o__f_m-button-copy a").trigger("click"),"1"==a.data("context-cut")&&$($v__fm__container_fluid+" .o__f_m-button-cut a").trigger("click"),"1"==a.data("context-paste")&&$($v__fm__container_fluid+" .o__f_m-button-paste a").trigger("click"),"1"==a.data("context-delete")&&$($v__fm__container_fluid+" .o__f_m-button-delete").trigger("click");var l=e.parents("tr").find("img").parent("a").parent("td").next("td").find("a"),s=l.attr("data-filemin-link");if("1"==a.data("context-preview-image")?image_preview(s,0):"2"==a.data("context-preview-image")?image_preview(s,1):"3"==a.data("context-preview-image")&&image_preview(s,0,1),"1"==a.data("context-bookmarks")&&$($v__fm__container_fluid+' a[href^="bookmark.cgi"]').trigger("click"),"1"==a.data("context-back"))return void $($v__fm__container_fluid+' #headln2l > div.btn-group > a[href*="'+v___module_file_manager+'"][href*="index.cgi"]:visible').trigger("click");if("1"==a.data("context-search")&&$($v__fm__container_fluid+' a[onclick="searchDialog()"]').trigger("click"),"1"==a.data("context-edit")||"1"==a.attr("context-o__f_m-dependent-htmledit")){var d=e.parents("tr"),c=d.find('a[href^="edit_file.cgi?"]');"1"==a.attr("context-o__f_m-dependent-htmledit")&&d.data("htmledit",1),d.addClass("m-active"),c.trigger("click")}if("1"==a.data("context-rename")&&e.parents("tr").find('a[onclick^="renameDialog("]').trigger("click"),"1"==a.data("context-download-file")){var f=e.parents("tr").find('td a[href*="download.cgi?"]'),m=select_all_entries("test")?get_current_list_stats()[0]:__f__cnt___selected();1===__f__cnt___selected()&&f.length?window.location.replace(v___location_prefix+"/"+v___module_file_manager+"/"+f.attr("href")):__f__dw__dir(m)}"1"==a.data("context-encrypt")&&$("#encryptDecrypt").modal("show"),"1"==a.data("context-extract")&&e.parents("tr").find('a[href^="extract.cgi?"]').trigger("click"),"1"==a.data("context-extract-encrypted")&&$($v__fm__container_fluid+" #extractEncrypted.modal").modal("show"),"1"==a.data("context-calculate-selected-size")&&__f__get_fs(),"1"==a.data("context-chmod")&&$($v__fm__container_fluid+' a[onclick="chmodDialog()"]').trigger("click"),"1"==a.data("context-chown")&&$($v__fm__container_fluid+' a[onclick="chownDialog()"]').trigger("click"),"1"==a.data("context-chattr")&&$($v__fm__container_fluid+' a[onclick="chattrDialog()"]').trigger("click"),"1"==a.data("context-chcon")&&$($v__fm__container_fluid+' a[onclick="chconDialog()"]').trigger("click")}})}function __f___up__tb_sort(){if("0"!=config_portable_module_filemanager_default_sort){var e=config_portable_module_filemanager_default_sort,a=Test.strContains(e,"--")?1:0,e=e.replace("--","");return a?[[$("[data-head-"+e+"]").parent("th").index(),"desc"]]:[[$("[data-head-"+e+"]").parent("th").index(),"asc"]]}return[]}function __f___u(e,a,t,_,n){var i=a.rows,r=a.pagination,o=a.pagination_limit,l=a.pagination_text,s=a.total;if("object"==typeof n)var d=n[1],c=n[2],f=n[3],n=n[0];else var d=!0;if("config.cgi"!=v___location_file){var m=null,p=null,u=null,g=null,h=$($v__fm__container_fluid+" #path").val();void 0===s&&(s=!1),m=void 0!==n&&(void 0===n||n!==!1);var v=$v__fm__container_fluid+" .tab-pane.active";$(v).length||(v=$v__fm__container_fluid+" .tab-pane:first-child"),p=m?$v__fm__container_fluid+' .tab-pane[id="tab-'+n+'"] form table':v+" form table",u=m?$v__fm__container_fluid+' .tab-pane[id="tab-'+n+'"]':v;var b=$(u).attr("id"),g=!!b&&b.replace(/^\D+/g,""),g=g?g:1,x=$("body.file-manager").find(p).attr("id"),w=x?parseInt(x.replace(/^\D+/g,"")):"none";if(!m&&"none"!==w&&$($v__fm__container_fluid+" #DataTables_Table_"+w).dataTable().fnDestroy(),"upd"===e){var y=$(i).find(".fa-font").first().parents("td").index();$(p).addClass("___f_m__q__"),$("body.file-manager").find(p+" tbody").empty().append(i),$(".__page")[0].scrollTop=0,table_proc_size_columns(),!d&&$(u).data("totalValue",f).data("breadcrumb",$($v__fm__container_fluid+" .breadcrumb").clone()),s&&!c&&__f__upd_____tl($(s).text()),page_radios_evolve(),$("._select-unselect_").parent(".awcheckbox").remove(),__f_____ul()}else var y=$(p).find(".fa-font").first().parents("td").index();var k,C=function(e){var a=v___module_file_manager;return v___location_prefix&&(a=v___location_directory_unslashed),localStorage["DataTables_DataTables_Table_"+w+"_/"+a+e]},D=C("/")||C("/index.cgi")||C(String());k=!!D&&JSON.parse(D),check_pagination_option();var T=k&&k.length?k.length:config_portable_module_filemanager_records_per_page;o&&(T=o),3!=y&&4!=y&&(y=!1),$(p).unbind("click.fmx"),$(p).on("click.fmx",'a .fa.fa-pencil-square-o, a[href^="edit_file.cgi"]',function(e){e.preventDefault(),e.stopPropagation();var e=jQuery.Event("keydown");e.which=115,$("body.file-manager").trigger(e)});var j=function(e,a){var t=$(e.nTableWrapper).find(".dataTables_info"),_=a?a:t.text(),n=_.match(/[0-9]+(,[0-9]+)*/g);if(t&&t.length&&null!=n&&n[0]&&n[1]&&n[2]){var i=theme_language("theme_xhred_datatable_sinfo").replace("_START_",Convert.nice_number(n[0])).replace("_END_",Convert.nice_number(n[1])).replace("_TOTAL_",Convert.nice_number(n[2]));if(a)return i;t.text(i)}};if(window["_f__table"+g]=$(p).dataTable({order:[],aaSorting:[],bDestroy:!0,pageLength:20,infoCallback:function(e,a,t,_,n,i){return j(e,i)},preDrawCallback:function(){var e=$(p);if(1==config_portable_module_filemanager_hide_actions){var a=$($v__fm__container_fluid+" .tab-pane.active form table"),t=a.find(".fa-font"),_=a.find(".fa-i-cursor"),n=t.length?t.parents("td").index():_.parents("td").index();n>1&&($(p+" thead th").eq(n).addClass("hidden"),e.find(".fa-font").length?e.find(".fa-font").parents("td").addClass("hidden"):e.find(".fa-i-cursor").parents("td").addClass("hidden"))}var i=e.parent("div").parent(".row");0===i.prev(".tree-view").length&&(i.before('<div class="tree-view"></div>'),config_portable_module_filemanager_hide_tree_view&&i.prev(".tree-view").addClass("hidden"))},
fnDrawCallback:function(e){$($v__fm__container_fluid+" .tab-pane .paginate_button.previous > a").html('<i class="fa fa-fw fa-angle-left"></i>').css("border-top-left-radius","0").css("border-bottom-left-radius","0"),$($v__fm__container_fluid+" .tab-pane .paginate_button.next > a").html('<i class="fa fa-fw fa-angle-right"></i>').css("border-top-right-radius","0").css("border-bottom-right-radius","0"),$(p).find(".fa-font").removeClass("fa-font").addClass("fa-i-cursor").css("margin-right","5px").css("margin-left","5px"),$(p).find(".fa-external-link").removeClass("fa-external-link").addClass("fa-extract-archive").css("margin-right","5px").css("margin-left","5px"),$(p).find(".fa-edit").addClass("fa-pencil-square-o").css("margin-right","7px").css("margin-left","7px"),$(p).find(".fa-arrow-right").removeClass("fa-arrow-right").addClass("fa-folder-open-o").parent("a").addClass("o__f_m-follow-file"),e.fnRecordsTotal()<=e._iDisplayLength?$(u+" .dataTables_paginate:not(.spaginates)").hide():$(u+" .dataTables_paginate:not(.spaginates)").show(),$.each($(p+" tbody tr:not('.row-filesize-done') td"),function(){/((\d+(\s+)|\d+\.\d+(\s+)))(TB|GB|MB|KB|Byte|Bytes|Ð¢Ð‘|Ð“Ð‘|ÐœÐ‘|ÐšÐ‘|Ð‘Ð°Ð¹Ñ‚)|(Unlimited|Ubegrenset|Nielimitowane|Ilimitado|æ— é™åˆ¶|ÐÐµ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¾|No Limit|Same as admin)/i.test($(this).text())&&$(this).index()>1&&(list_form_table_file_size=$(this).index())}).promise().done(function(){"undefined"!=typeof list_form_table_file_size&&$.each($(p+" tbody tr:not('.row-filesize-done') td"),function(){$(this).parent("tr").find('img[src$=".png"]').length&&$(this).parent("tr").find("td").eq(list_form_table_file_size).addClass("column-filesize"),($(this).parent("tr").find('img[src$="inode-directory.png"]').length||$(this).parent("tr").find('img[src$="inode-symlink.png"]').length||$(this).parent("tr").find('img[src$="inode-mount-point.png"]').length)&&$(this).parent("tr").find("td").eq(list_form_table_file_size).addClass("column-filesize").find("label").text("")}).promise().done(function(){$(p+" thead th").eq(list_form_table_file_size).css("min-width","51px")})});var t=$(p+" tbody tr td:nth-child(2)");t.unbind("mouseover click.fmlink"),t.on("mouseover","img",function(e){var a=$(this).parents("td"),t=a.find('img[src*="inode-symlink"]'),_=a.next("td").find("a"),n=Convert.uriDecodeComponent($(u+' form > input[type="hidden"][name="path"]').val().replace(/\/$/g,"")+"/"+_.data("fileminLink")).replace("//","/");if(t.length&&1!=t.attr("symlink-title")){!t.parent().find(".cspinner").length&&t.before('<span class="cspinner" style="margin-top: 3px; margin-left: -15px;"><span class="cspinner-icon smaller"></span></span>');var i=$("body.file-manager").find("#list_form table tbody");i.addClass("o__f_m-updating"),$.ajax({type:"POST",url:v___location_prefix+"/index.cgi/?xhr-get_symlink=1&xhr-get_symlink_path="+Convert.uriEncodeComponent(n),data:!1,dataType:"text",complete:function(){i.removeClass("o__f_m-updating")},success:function(e){if(Test.strContains(e,v___page_signin_form))return void(v___available_session=0);t.attr("data-content",'<code class="symlink-text-string text-nowrap">'+Convert.uriDecodeComponent(Convert.htmlEscape(e))+"</code>").attr("symlink-title","1").data("trigger","manual").data("html",!0).data("placement","auto right").data("container","body").data("animation",!1),t.is(":hover")&&t.popover("show"),t.on("mouseenter",function(){t.is(":hover")&&$(this).popover("show")}).on("mouseleave",function(){var e=this;setTimeout(function(){$(".popover:hover").length||t.is(":hover")||$(e).popover("hide")},200)}),t.parent().find(".cspinner").remove()},error:function(e){}})}}),t.on("click.fmlink",'img[src*="inode-symlink"]',function(e){var a=Convert.uriEncodeComponent($($(this).attr("data-content")).text());a&&(__f____r("get","index.cgi?path="+a,!1,0,!1,void 0!==e.originalEvent),$(this).before('<span class="cspinner" style="margin-top: 3px; margin-left: -15px;"><span class="cspinner-icon smaller"></span></span>'),$(this).popover("hide"))}),$(p+" ._select-unselect_, "+p+" #select-unselect").parents("th").css("opacity",0).addClass("pointer-events-none"),__init__dt_ck__e(),$(".__o__f_m-search-results-data:visible").length||(h?f__insert_dir_up():c&&"/"!=c&&!$(p+" tbody tr.directory_go_up").length&&$(p+" tbody").prepend('<tr class="ui_checked_columns directory_go_up" style="height: 23px;"><td colspan="'+$($v__fm__container_fluid+" .active thead tr th:visible").length+'"><input class="hidden" type="hidden">&nbsp;<i class="fa fa-fw fa-folder-btl"></i>&nbsp;..</td></tr>')),$($v__fm__container_fluid+" .active td.dataTables_empty").length?$($v__fm__container_fluid+" tr.directory_go_up").trigger("mouseover"):$($v__fm__container_fluid+" tr.directory_go_up").removeClass("hidden"),tree_view_draw($(p)),select_all_entries("test")?(selectAll(),select_all_entries()):select_all_entries("test_unconf")&&select_all_entries("remove"),a.flush&&deselectAllRows(),a.flush_reset&&__f___ds_a(),table_resize()},initComplete:function(){d&&__f___up__d("index.cgi?path="+Convert.uriEncodeComponent(c?c:h),n,!1),!d&&__f___upd___tb(c,n),!d&&__f___up__tb_store(),0!=m&&d&&$($v__fm__container_fluid+' a[href="#tab-'+n+'"]').attr("newly-created","1").trigger("click"),$(u+' select[name^="DataTables_Table"][name$="_length"]').val(T).change(),this.fnSort(__f___up__tb_sort()),$(p+" tbody").on("mouseout","tr",function(e){__f___cs()}).on("mouseover","tr",function(e){$(this).addClass("m-active")}),(0===t||1===$(p+" tbody tr").length&&$(p+" tbody tr td.dataTables_empty").length)&&page.render.content.filter.clear(),"upd"!==e||t||$(".paginate_button:visible").find('[data-dt-idx="1"]').first().trigger("click"),$(p)&&!$(p).parent().is("[data-table-wrap]")&&($(p).wrap("<div data-table-wrap></div>"),tree_resize());var _=$(u+" table").parents(".row").next(".row").find(".col-sm-7"),i=$(u+" table").parents(".row").next(".row").find(".col-sm-5").find(".dataTables_info");r&&r.length&&(_.html(r),i.text(l));var o=a.page_requested;o&&!r&&(o=parseInt(o),!isNaN(o)&&this.api().page(o-1).draw("page")),a.searched&&format_search_breadcrum(),a.flush&&select_all_entries("remove"),setTimeout(function(){f_m__bm__c()},300)},bInfo:!0,destroy:!0,oLanguage:{sEmptyTable:theme_language("theme_xhred_datatable_semptydirectory"),sInfo:l||theme_language("theme_xhred_datatable_sinfo"),sInfoEmpty:theme_language("theme_xhred_datatable_sinfoempty"),sLengthMenu:theme_language("theme_xhred_datatable_slengthmenu"),sLoadingRecords:theme_language("theme_xhred_datatable_sloadingrecords"),sProcessing:theme_language("theme_xhred_datatable_sprocessing"),sSearch:" ",sZeroRecords:theme_language("theme_xhred_datatable_szerorecords")},conditionalPaging:!0,columnDefs:[{orderable:!1,targets:[0,1,y?y:0]},{width:"32px",targets:0},{width:"64px",targets:1},{width:"90%",targets:2}],fixedColumns:!0,bStateSave:!0,bPaginate:T,aLengthMenu:[[5,10,15,20,25,30,35,40,45,50,55,60,70,80,90,100,250,500],[5,10,15,20,25,30,35,40,45,50,55,60,70,80,90,100,250,500]]}),setTimeout(function(){theme_title_generate()},0),setTimeout(function(){store_last_tab()},2),tree_gset_node(),$($v__fm__container_fluid+' div button[onclick="removeDialog()"]').addClass("disabled o__f_m-button-delete").removeAttr("onclick"),$($v__fm__container_fluid+' a[onclick="chmodDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-chmod"),$($v__fm__container_fluid+' a[onclick="chownDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-chown"),$($v__fm__container_fluid+' a[onclick="chattrDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-chattr"),$($v__fm__container_fluid+' a[onclick="chconDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-chcon"),$($v__fm__container_fluid+' a[onclick="compressDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-compress"),$($v__fm__container_fluid+' a[onclick="copySelected()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-copy"),$($v__fm__container_fluid+" li.o__f_m-button-copy").addClass("disabled"),$($v__fm__container_fluid+' a[onclick="cutSelected()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-cut"),$($v__fm__container_fluid+" li.o__f_m-button-cut").addClass("disabled"),localStorage.getItem(v___server_hostname+"-copy")||localStorage.getItem(v___server_hostname+"-cut")?$($v__fm__container_fluid+' a[onclick*="paste.cgi"]').removeAttr("onclick").parent("li").addClass("o__f_m-button-paste"):$($v__fm__container_fluid+' a[onclick*="paste.cgi"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-paste"),"extract"===_){var S=theme_language("theme_xhred_filemanager_successful_extraction");theme_message_exists(_+"_warning")?theme_message_dismiss(_+"_info"):plugins.messenger.post('<i class="fa fa-lg fa-fw fa-file-archive-o"></i>'+S,5,"success",_+"_info")}if("chmod"===_&&plugins.messenger.post('<i class="fa fa-lg fa-fw fa-cogs"></i>'+theme_language("theme_xhred_filemanager_successful_permissions"),5,"info",_+"_info"),"chown"===_&&plugins.messenger.post('<i class="fa fa-lg fa-fw fa-users"></i>'+theme_language("theme_xhred_filemanager_successful_ownership"),5,"info",_+"_info"),"compress"===_&&plugins.messenger.post('<i class="fa fa-lg fa-fw fa-file-archive-o"></i>'+theme_language("theme_xhred_filemanager_successful_compression"),5,"info",_+"_info"),"rename"===_&&plugins.messenger.post('<i class="fa fa-lg fa-fw fa-i-cursor"></i>'+theme_language("theme_xhred_filemanager_successful_rename").replace("%from",Convert.htmlEscape($('#renameForm input[name="file"]').val())).replace("%to",Convert.htmlEscape($('#renameForm input[name="name"]').val())),5,"info",_+"_info"),"create_folder"===_&&plugins.messenger.post('<i class="fa fa-lg fa-fw fa-folder"></i>'+theme_language("theme_xhred_filemanager_successful_directory_creation").replace("%value",Convert.htmlEscape($('#createFolderForm input[name="name"]').val())),5,"info",_+"_info"),"create_file"===_&&plugins.messenger.post('<i class="fa fa-lg fa-fw fa-file"></i>'+theme_language("theme_xhred_filemanager_successful_file_creation").replace("%value",Convert.htmlEscape($('#createFileForm input[name="name"]').val())),5,"info",_+"_info"),"encrypt"===_||"decrypt"===_){var S=theme_language("theme_xhred_filemanager_crypt_"+_+"ed"),E="fa-key-plus";"decrypt"===_&&(E="fa2 fa2-key-minus"),theme_message_exists(_+"_warning")?theme_message_dismiss(_+"_info"):plugins.messenger.post('<i class="fa fa-lg fa-fw '+E+'"></i>'+S,5,"success",_+"_info")}}}function f_m__bm__cm(){var e=$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val(),e=void 0!==e&&(e.length?e:"/");$($v__fm__container_fluid+" .btn-group > .at-o__f_m-favorites-dropdown").find('li a[href*="index.cgi?path="]').filter(function(){return Convert.uriEncodeComponent($(this).text())===e}).length?$("#__f__c__m").find(".fa-star-o").addClass("fa-star").removeClass("fa-star-o"):$("#__f__c__m").find(".fa-star").removeClass("fa-star").addClass("fa-star-o"),setTimeout(function(){var e=$(".btn-group .dropdown-menu.at-o__f_m-favorites-dropdown > li"),a=e.find('a[href]:not([href^="bookmark.cgi"], [href="#"])');e.find(".no_effect").parent("li").remove(),a.length?$(".bm_e__me").remove():($(".bm_e__me").remove(),e.parent("ul").append('<li class="bm_e__me"><span class="bm_e__me_l">'+theme_language("theme_xhred_filemanager__no_bookmarks")+"</span></li>"))},0)}function f_m__bm__c(){var e=$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val(),e=void 0!==e&&(e.length?e:"/");$.each($(".btn-group > .at-o__f_m-favorites-dropdown").find('li a[href*="index.cgi?path="]'),function(){if(Convert.uriEncodeComponent($(this).text())==e)return $(this).parents(".at-o__f_m-favorites-dropdown").find('a[href^="bookmark.cgi?path="]').html('<i class="fa fa-fw fa-star" aria-hidden="true">&nbsp;&nbsp;</i>'+theme_language("theme_xhred_filemanager_unbookmark")),!1;$(this).parents(".at-o__f_m-favorites-dropdown").find('a[href^="bookmark.cgi?path="]').html('<i class="fa fa-fw fa-star-o" aria-hidden="true">&nbsp;&nbsp;</i>'+theme_language("theme_xhred_filemanager_bookmark"))}).promise().done(function(){setTimeout(function(){f_m__bm__cm()},100)})}function f_m__bm__u(){var e=$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val(),e=void 0!==e?e.length?e:Convert.uriEncodeComponent("/"):"",a=$(".file-manager .btn-group > .at-o__f_m-favorites-dropdown").find('li a[href*="index.cgi?path="]').filter(function(){return Convert.uriEncodeComponent($(this).text())===e});return a.length?(a.parents(".at-o__f_m-favorites-dropdown").find('a[href^="bookmark.cgi?path="]').html('<i class="fa fa-fw fa-star-o" aria-hidden="true">&nbsp;&nbsp;</i>'+theme_language("theme_xhred_filemanager_bookmark")),a.parent("li").remove()):($($v__fm__container_fluid+" .btn-group > .at-o__f_m-favorites-dropdown").find('a[href^="bookmark.cgi?path="]').html('<i class="fa fa-fw fa-star" aria-hidden="true">&nbsp;&nbsp;</i>'+theme_language("theme_xhred_filemanager_unbookmark")),$("body.file-manager").find("ul.dropdown-menu.at-o__f_m-favorites-dropdown").append('<li><a href="index.cgi?path='+Convert.uriEncodeComponent(e)+'" style="padding-left: 12px;"><i class="fa fa-fw fa-minus-circle pull-right file-manager-remove-bookmark"></i>'+Convert.htmlEscape(Convert.uriDecodeComponent(e))+"</a></li>")),f_m__bm__cm(),a}function __f___upd___cr(e,a){var t=$("body.file-manager"),_="";t.find(".breadcrumb").empty(),0==get_access_level()||1==get_access_level()?t.find(".breadcrumb").append('<li class="fm___root__"><a href="index.cgi?path="><i class="fa fa-folder-root"></i></a></li>'):t.find(".breadcrumb").append('<li class="fm___root__"><a href="index.cgi?path="><i class="fa fa-home text-light"></i></a></li>'),$.each($(e),function(e,a){if(_+=""!=a?"/"+a:"",""!=a){var n='<i data-path="'+Convert.uriEncodeComponent(_.replace(a,""))+'" class="fa fa-fw fa-lg fa-caret-right margined-left-4"></i>';3==get_access_level()&&_.indexOf(v___server_userhome+"/")===-1&&(n=""),t.find(".breadcrumb").append('<li><a href="index.cgi?path='+Convert.uriEncodeComponent(_)+'">'+Convert.htmlEscape(a)+n+"</a></li>")}}).promise().done(function(){$.isEmptyObject(a)?$($v__fm__container_fluid+" .breadcrumb li:first-child").find(".fa.fa-keyboard-o").length||$($v__fm__container_fluid+" a.popover-path").length||($($v__fm__container_fluid+" .breadcrumb li:first-child").prepend('<a class="fa fa-fw fa-keyboard-o popover-path" style="position: absolute; margin-left: -12px; margin-top: 4px; font-size: 80%;" data-container="body" data-animation="false" data-toggle="popover-path" data-placement="'+(1!=config_portable_module_filemanager_hide_toolbar?"auto right":"auto left")+'" data-html="true" data-trigger="click" data-content=\'<div class="form-horizontal"> <div class="input-group input-group-sm"> <span class="input-group-addon"><i class="fa fa-fw fa-folder-open-o"></i></span><input type="text" class="form-control popover-path-input" placeholder="'+theme_language("theme_xhred_filemanager_manual_path")+'"> <span class="input-group-btn" style="width:0;"> <button class="btn btn-sm btn-default popover-path-button" type="button"><i class="fa fa-fw fa-chevron-circle-right text-lighter"></i><span class="cspinner hidden" style="margin-top: 2px; margin-left: -17px;"><span class="cspinner-icon small"></span></span></button> </span> </div> </div>\'></a>'),1!=config_portable_module_filemanager_hide_toolbar&&($($v__fm__container_fluid+" .fa.fa-keyboard-o.popover-path").detach().appendTo(".breadcrumb li:last-child"),$($v__fm__container_fluid+" .fa.fa-keyboard-o.popover-path").css("margin-left","2px")),$($v__fm__container_fluid+' [data-toggle="popover-path"]').popover({sanitize:!1})):(t.find(".breadcrumb li a").removeAttr("href").replaceTagName("span"),t.find(".breadcrumb li:last-child span").after($(a[0])),t.find(".breadcrumb li:first-child").replaceWith('<li class="fm___root__ text-light"><span><i class="fa fa-search text-light"></i></span></li>'),$($v__fm__container_fluid+" div.total").html(a[1]))})}function __f___upd___tb(e,a){var t=e.replace(/\/$/,"").split("/").slice(-1)[0];t=t?t:"/",a?($($v__fm__container_fluid+' li a[href="#tab-'+a+'"] span[data-tab-path]').text(t).attr("data-original-title",e?Convert.htmlEscape(e):"/"),$("#file-manager-new-instance").removeClass("disabled").find("span.cspinner").parent("span").replaceWith('<i class="fa fa-plus"></i>')):$($v__fm__container_fluid+" li.active a span[data-tab-path]").text(t).attr("data-original-title",e?Convert.htmlEscape(e):"/")}function __f___up__tb_store(){if(!page.handle.content.preloader(-1)){var e=[],a=v___server_username;$t_uri_virtualmin&&(a+="_"+$('[name="dom"]').val()),$($v__fm__container_fluid+" .nav.nav-tabs li a span[data-original-title]").each(function(a,t){var _=$(t).attr("data-original-title").replace(/\/$/,"");e.push(_)}).promise().done(function(){var t={};t[a]=e;var _=JSON.parse(localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_remembered_tabs"));$.isEmptyObject(_)||delete _[a];var n=$.extend({},t,_);localStorage.setItem(v___server_hostname+"-settings_thirdparty_filemanager_remembered_tabs",JSON.stringify(n))})}}function __f___ld__tb_stored_chk(){var e=JSON.parse(localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_remembered_tabs")),a=v___server_username;return $t_uri_virtualmin&&(a+="_"+$('[name="dom"]').val()),!$.isEmptyObject(e)&&e[a]}function __f___ld__tb_stored(){var e=__f___ld__tb_stored_chk(),a=path_parse(v___location.href),t=[],_=0;$.isArray(e)&&$.each($(e),function(e,n){var i=Convert.uriDecodeComponent(n);Convert.uriDecodeComponent(a)!==i&&(n||"/"!==a&&"%2F"!==a)&&!t.includes(i)&&(t.push(i),setTimeout(function(){__f___nt(n,!1,!1,!0),_||(_++,__f___up__tb_vis())},2*e+10))})}function __f___up__tb_vis(){1===$($v__fm__container_fluid+" .nav.nav-tabs li").length?$($v__fm__container_fluid+" .nav.nav-tabs li:first-child").addClass("hidden"):$($v__fm__container_fluid+" .nav.nav-tabs li:first-child").removeClass("hidden")}function __f___up__d(e,a,t){var _=Convert.htmlUnEscape(Convert.uriDecodeComponent(e)).replace("//","/").replace("index.cgi?path=",""),n=_.split("/");$("body.file-manager");$($v__fm__container_fluid+' [data-toggle="popover-path"]').popover("hide"),$($v__fm__container_fluid+" .popover-path-button").find("i").removeClass("invisible").parent().find(".cspinner").addClass("hidden"),__f___upd___cr(n,t),__f___upd___tb(_,a),_?$($v__fm__container_fluid+' #headln2l > div.btn-group > a[href*="'+v___module_file_manager+'"][href*="index.cgi"]').removeClass("hidden"):$($v__fm__container_fluid+' #headln2l > div.btn-group > a[href*="'+v___module_file_manager+'"][href*="index.cgi"]').addClass("hidden"),$.each($($v__fm__container_fluid+' .modal .modal-body form input[name="path"]'),function(){$(this).val(_)}),$($v__fm__container_fluid+' ul li a[href^="bookmark.cgi?path="]').attr("href","bookmark.cgi?path="+Convert.htmlEscape(_)),f_m__bm__c(),plugins.favorites.detect(),setTimeout(function(){theme_title_generate(),__r____changed(),__f___up__tb_vis(),__f___up__tb_store()},0)}function __f___new_symlink(e,a){console.log(e,a),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/create_symlink.cgi?module="+v___module+__f___um()+"&path="+Convert.uriEncodeComponent(e)+"&name="+Convert.uriEncodeComponent(a)+extra_query(),data:!1,dataType:"json",success:function(a){if(a[0].error&&a[0].error.length)return plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+a[0].error,10,"error",t+"_error"),void __f_____ul();var t=Convert.htmlUnEscape(Convert.uriDecodeComponent(e)).replace("//","/").replace("index.cgi?path=","");__f___u("upd",a[0],1,t,!1)},error:function(e){get_login_required(e)}})}function __f___nt(e,a,t,_){var n=Convert.uriEncodeComponent(Convert.htmlUnEscape(Convert.uriDecodeComponent(e)));$this=$("#file-manager-new-instance"),$this.blur(),$($v__fm__container_fluid+" .nav.nav-tabs li").addClass("disabled"),tab___to______create+=1;var i=String(),r=String(),o=String(),l=String();t&&(i="active",r=" in",o=i+" "+r,$tabs_container=$($v__fm__container_fluid+" .tabs-top"),$tabs=$tabs_container.find(".nav.nav-tabs"),$tabs_content=$tabs_container.find(".tab-content"),ariaExpandedStr="aria-expanded",l=ariaExpandedStr+'="true"',$tabs.find("li").removeClass(i).find("a").removeAttr(ariaExpandedStr),$tabs_content.find(".tab-pane").removeClass(o));var s=$($v__fm__container_fluid+" .tabs-top > .nav.nav-tabs > .ui-sortable-handle.active"),d='<li class="ui-sortable-handle '+i+'"><a href="#tab-'+tab___to______create+'" data-toggle="tab" '+l+'><i class="fa fa-fw fa-close-box pull-right invisible"></i><span data-tab-path data-container="#content .panel-body" data-toggle="tooltip" data-placement="auto top"><span style="margin-top: 2px; margin-left: -3px" class="cspinner"><span class="cspinner-icon smaller"></span></span>&nbsp;</span></a></li>';_?(s=$($v__fm__container_fluid+" .tabs-top > .nav.nav-tabs"),s.append(d)):s.after(d),$($v__fm__container_fluid+" .tabs-top > .tab-content").append('<div class="tab-pane fade'+o+'" id="tab-'+tab___to______create+'">                <form class="ui_form" role="form" action="" method="post" id="list_form_AuthenticThemeTmp'+tab___to______create+'" name="list_form_AuthenticThemeTmp'+tab___to______create+'">                    <table class="table table-striped table-hover table-condensed"><tbody></tbody></table>                    <input class="ui_hidden heighter-34" type="hidden" name="path_AuthenticThemeTmp'+tab___to______create+'" id="path_AuthenticThemeTmp'+tab___to______create+'" value="'+n+'">                </form>            </div>');var c=$($v__fm__container_fluid+" .active table thead").clone();c.removeClass("hidden"),c.prependTo("#list_form_AuthenticThemeTmp"+tab___to______create+" table"),__f____r("get","index.cgi?path="+n,!1,0,[tab___to______create,a]),tab___is______new=!0}function path_parse(e){var a=$.url(e).param("path");return a&&(a=Convert.uriEncodeComponent(a.replace("//","/"))),a?a:String()}function __f____r(e,a,t,_,n,i){if(f__ck_init_err(1))return void f__ck_init_err();if(void 0===i&&(i=!1),"object"==typeof n)var r=n[1],n=n[0];else var r=!0;a&&!$.isArray(a)&&(a=uriEncodeParam(a,"path"));var o=path_parse(a);if(void 0===n&&(n=!1),"get"===e){if("undefined"!=typeof getflist&&i&&(getflist.abort(),__f_____ul()),__f__ck_lock()&&r)return;__f_____lo(!0,!0);var l=extra_query(a,!1,"list");getflist=$.ajax({xhr:function(){return new window.XMLHttpRequest},type:"POST",url:v___server_extensions_path+"/file-manager/list.cgi?path="+o+"&module="+v___module_file_manager+l,data:!1,dataType:"json",success:function(e){if(Test.strContains(e,v___page_signin_form))return void(v___available_session=0);if(theme_message_exists("refreshDir_info")&&(select_all_entries("remove"),theme_message_dismiss("refreshDir_info")),e[0].error&&e[0].error.length||e[0].error_fatal&&e[0].error_fatal.length){var t=e[0].error||e[0].error_fatal;return plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-circle"></i>'+t.replace(" :",":").replace(" ,",","),15,"error","getPath_error"),__f_____ul(),$($v__fm__container_fluid+" .active table .cspinner").remove(),void(n&&($($v__fm__container_fluid+' a[href="#tab-'+n+'"]').parent("li").remove(),$($v__fm__container_fluid+' .tab-content .tab-pane[id="tab-'+n+'"]').remove()))}$($v__fm__container_fluid+' [data-toggle="popover-path"]').popover("hide");var i=$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val(),l=path_parse(a);"undefined"==l&&(l=""),Convert.uriEncodeComponent(i)!==Convert.uriEncodeComponent(l)&&select_all_entries("remove"),n||$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val(Convert.uriEncodeComponent(l));var s=$(e[0].total).append(__f___tl_v()).html();r&&$($v__fm__container_fluid+" .total").html(s),n?$($v__fm__container_fluid+' .tab-pane[id="tab-'+n+'"]').data("totalValue",s):$($v__fm__container_fluid+" .tab-pane.active").data("totalValue",s),__f___u("upd",e[0],_,!1,[n,r,Convert.uriDecodeComponent(o),s]),$("._select-unselect_").parent(".awcheckbox").remove(),$("#__f__c__m").css("display","none"),setTimeout(function(){__f___us_a(),"function"==typeof sortable&&sortable($($v__fm__container_fluid+" .tabs-top > ul.nav"))},10)},error:function(e){var a=$(e.responseText);if(a.find("#headln2r").length){var t=a.filter("h3").text();t&&t.length&&(__f_____ul(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-circle"></i>'+theme_language("theme_xhred_global_error")+":&nbsp;&nbsp;"+t.replace(" :"," ").replace(" ,",","),15,"error","getPath_error"))}else get_login_required(e)}})}}function __f___us_a(){if(0==get_access_level()&&1==config_portable_module_filemanager_switch_user){var e=$($v__fm__container_fluid+" #path").val();e&&e.indexOf($g__v__home_base)>-1&&e!=$g__v__home_base?$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/fetcher.cgi?module="+v___module+"&list_users=1",data:!1,dataType:"JSON",success:function(a){if(Test.strContains(a,v___page_signin_form))return void(v___available_session=0);$.each(Convert.arrFlip(a),function(a,t){var _=Convert.uriEncodeComponent(a.split(":")[2]);(e==_||e.startsWith(_+"%2F"))&&localStorage.setItem(v___server_hostname+"-settings_thirdparty_filemanager_usermode",t),__f___us_tl()})},error:function(e){get_login_required(e)}}):(__f___us_m_def(),__f___us_tl())}}function __f___us_m_def(){localStorage.setItem(v___server_hostname+"-settings_thirdparty_filemanager_usermode","")}function __f___us_tl(){var e=localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_usermode"),a=theme_language("theme_xhred_filemanager_user_switch")+"<br><hr class='hr-dashed hr-no-margin hr-darker'>"+theme_language("theme_xhred_filemanager_user_switch_current_user")+": <em>"+(e?e:v___server_username)+"</em>",t="#file-manager-switch-user";$(t).attr("data-original-title",a),e?$(t).addClass("btn-warning"):$(t).removeClass("btn-warning")}function __f___tl_v(){var e=theme_language("theme_xhred_filemanager_selected_entries").replace("%value","<span>0</span>"),a=$('.total_selected[data-all="1"]');return a.length?". "+a[0].outerHTML:'. <span class="total_selected">'+e+'</span> <span class="label label-warning total_size hidden"><span class="total_size_data"></span></span>'}function update_per_page(e){$('[name="per_page"]').val(e)}function update_records_for_server_pagination(e){$('[name="config_portable_module_filemanager_records_for_server_pagination"]').val(parseInt(e)).trigger("input")}function block_events(){vars.events.blocked=!0,setTimeout(function(){vars.events.blocked=!1},5*vars.event.stopped_typing_delay)}function alert_json_errors(e,a,t){var _=JSON.parse(e),n=t.endsWith("_")?t+a:t;if(extract_err=theme_language(n)+":<br><ul>",_){var i=0,r=String(),o=theme_language("theme_xhred_filemanager_batch_error");for(var l in _)i++,i<=10?extract_err+="<li>"+l+" - "+_[l]+"</li>":r='<div class="margined-top-3">'+o.replace("%1",'<span class="label label-danger">'+(i-10)+"</span>")+"</div>";extract_err+="</ul>"+r,plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+extract_err,20,"warning",a+"_warning")}}function encryptDecryptModalA(e){var a=$("#encryptDecrypt"),t=a.find("[data-title-text]"),_=a.find("[data-title-icon]"),n=a.find("[data-encrypt]"),i=a.find("[data-decrypt]"),r=a.find("[data-label-text]"),o=a.find("[data-button-text]"),l=n.find('select[name="key"]'),s=a.find("[data-button-reverse]"),d=$("#__f__c__m li.context-o__f_m-dependent-encrypt:not(.divider)"),c=d.find("a"),f=d.find("i"),m=theme_language("theme_xhred_global_encrypt"),p=theme_language("theme_xhred_global_decrypt"),u=theme_language("theme_xhred_filemanager_encrypt_option_delete_afterwards"),g=theme_language("theme_xhred_filemanager_decrypt_option_delete_afterwards");e?(f.add(_).removeClass("fa-key-plus").addClass("fa2 fa2-key-minus"),t.add(o).text(p),c.html(d.find("i")[0].outerHTML+"&nbsp;&nbsp;"+p),s.text(m),n.addClass("hidden"),i.removeClass("hidden"),o.addClass("btn-warning").removeClass("disabled"),r.text(g)):(f.add(_).addClass("fa-key-plus").removeClass("fa2 fa2-key-minus"),t.add(o).text(m),c.html(d.find("i")[0].outerHTML+"&nbsp;&nbsp;"+m),s.text(p),n.removeClass("hidden"),i.addClass("hidden"),o.removeClass("btn-warning"),r.text(u),l.val()?o.removeClass("disabled"):o.addClass("disabled"))}function fm_install_deps(e,a,t){var _=a[0],n=a[1],i=a[2],r=a[3];plugins.messenger.post('<i class="fa fa-lg fa-fw fa-package-install fa-1_50x margined-left--2"></i>'+r+" "+theme_language("theme_xhred_global_please_wait")+'&nbsp;&nbsp;&nbsp;<span class="cspinner"><span class="cspinner-icon white smallest margined-top-4"></span></span>',3e5,"info","galleryError"),$.ajax({type:"POST",url:e,data:!1,dataType:"html",success:function(e){if(Test.strContains(e,v___page_signin_form))return void(v___available_session=0);!e||e&&e.includes(_)?plugins.messenger.post('<i class="fa fa-lg fa-fw fa-package-install fa-1_50x margined-left--2"></i>'+i,15,"error","galleryError"):plugins.messenger.post('<i class="fa fa-lg fa-fw fa-package-install fa-1_50x margined-left--2"></i>'+n,10,"success","galleryError")}})}function image_download(e,a){link="download.cgi?file="+Convert.uriEncodeComponent(a)+"&path="+Convert.uriEncodeComponent(e),window.location.replace(v___location_prefix+"/"+v___module_file_manager+"/"+link)}function image_preview(e,a,t){if("function"!=typeof PhotoSwipe)return void load.bundle("photoswipe",1,{image_preview:arguments},2);var _=String();if(t&&(_+="&files_selected=1"),a&&(_+="&files_all=1"),e&&(_+="&file_requested="+e),a||t){var n=t?" fa-1_25x fa2 fa2-image-selected":" fa-1_15x fa2 fa2-images";plugins.messenger.post('<i class="fa fa-lg fa-fw '+n+' margined-top--2"></i>'+theme_language("theme_xhred_filemanager_preview_images_building")+" "+theme_language("theme_xhred_global_please_wait")+'&nbsp;&nbsp;&nbsp;<span class="cspinner"><span class="cspinner-icon white smallest margined-top-4"></span></span>',3e5,"info","galleryError")}$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/list-images.cgi?module="+v___module+_+extra_query()+"&width="+parseInt(.75*window.innerWidth)+"&height="+parseInt(.75*window.innerHeight),data:__f___gd(),dataType:"JSON",success:function(e){if(e=e[0],e.error)plugins.messenger.post('<i class="fa fa-lg fa-fw fa-package-install fa-1_50x margined-left--2"></i>'+e.error,30,"warning","galleryError");else if(e.warning)plugins.messenger.post('<i class="fa fa-lg fa-fw fa-1_15x fa2 fa2-images margined-top--2"></i>'+e.warning,10,"warning","galleryError");else if(e.items){
var a='<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">    <div class="pswp__bg"></div>    <div class="pswp__scroll-wrap">        <div class="pswp__container">            <div class="pswp__item"></div>            <div class="pswp__item"></div>            <div class="pswp__item"></div>        </div>        <div class="pswp__ui pswp__ui--hidden">            <div class="pswp__top-bar">                <div class="pswp__counter"></div>                <button class="pswp__button pswp__button--close" title="'+theme_language("theme_xhred_global_close")+' (Esc)"></button>                <button class="pswp__button pswp__button--download" title="'+theme_language("theme_xhred_filemanager_context_download_file")+'"</button>                <button class="pswp__button pswp__button--fs" title="'+theme_language("theme_xhred_global_toggle_fullscreen")+'"></button>                <button class="pswp__button pswp__button--zoom" title="'+theme_language("theme_xhred_global_zoom_in_out")+'"></button>                <div class="pswp__preloader">                    <div class="pswp__preloader__icn">                      <div class="pswp__preloader__cut">                        <div class="pswp__preloader__donut"></div>                      </div>                    </div>                </div>            </div>            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">                <div class="pswp__share-tooltip"></div>             </div>            <button class="pswp__button pswp__button--arrow--left" title="'+theme_language("theme_xhred_global_prev_arrow_left")+'">            </button>            <button class="pswp__button pswp__button--arrow--right" title="'+theme_language("theme_xhred_global_next_arrow_right")+'">            </button>            <div class="pswp__caption">                <div class="pswp__caption__center"></div>            </div>        </div>    </div></div>';document.querySelector("body").insertAdjacentHTML("beforeend",a),pswpElem=document.querySelector(".pswp"),items=e.items,index_requested=e.index_requested,gallery=new PhotoSwipe(pswpElem,PhotoSwipeUI_Default,items,{history:!1,shareEl:!1,fullscreenEl:!1,escKey:!0,downloadEl:!0,closeElClasses:["ui"],index:index_requested}),gallery.listen("destroy",function(){pswpElem.remove()}),theme_message_dismiss("galleryError"),gallery.init()}},error:function(e){get_login_required(e)}})}function ___f__tw(){function e(e){void 0===e&&(e=$('input[name="config_portable_module_filemanager_hide_toolbar"]:checked'));var a=["config_portable_module_filemanager_hovered_toolbar"];"true"==e.val()?$.each(a,function(e,a){$('input[name="'+a+'"], select[name="'+a+'"]').prop("disabled",!0),$('input[name="'+a+'"], select[name="'+a+'"]').parent(".aradio").addClass("disabled")}):$.each(a,function(e,a){$('input[name="'+a+'"], select[name="'+a+'"]').prop("disabled",!1),$('input[name="'+a+'"], select[name="'+a+'"]').parent(".aradio").removeClass("disabled")})}function a(){m=!1}function t(){$.ajax({type:"POST",url:v___location_prefix+"/index.cgi/?xhr-get_command_exists=1&xhr-get_command_exists_name=zip",data:!1,dataType:"text",success:function(e){if(Test.strContains(e,v___page_signin_form))return void(v___available_session=0);var a=select_all_entries("test");if(!e||a){$($v__fm__container_fluid+' select[name="method"]').val("tar").trigger("change"),$($v__fm__container_fluid+' select[name="method"] option[value="zip"]').prop("disabled",!0);var t=e&&a?theme_language("theme_xhred_filemanager_mass_selected_no_zip"):theme_language("theme_xhred_global_no_such_command").replace("$1","zip");plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+t,15,"error")}else $($v__fm__container_fluid+' select[name="method"] option[value="zip"]').prop("disabled",!1)},error:function(e){}})}__f___globals(),__f_____undel();var _=config_portable_module_filemanager_hide_tree_view?' class="hidden"':"",n=config_portable_module_filemanager_hide_tree_view?" hidden":"",r=document.body;if($(r).attr("class")&&$(r).attr("class").indexOf(v___module_file_manager)>-1){if($__f__rf_s="fa-refresh","object"!=typeof jsPanel&&$.getScript(v___location_prefix+"/unauthenticated/js/jquery.jspanel."+v___source_type+".js?"+v___theme_version_plain,function(){$('head link[rel="stylesheet"]:first').before('<link href="'+v___location_prefix+"/unauthenticated/css/jquery.jspanel."+v___source_type+".css?"+v___theme_version_plain+'" rel="stylesheet" type="text/css">')}).fail(function(e){"canceled"!==e.statusText&&connection_error(e,1)}),setTimeout(function(){$($v__fm__container_fluid+" #upload-form").removeAttr("onsubmit"),$($v__fm__container_fluid+" #upload-form").append("<p>"+theme_language("theme_xhred_upload_initial_info")+"</p>"),$($v__fm__container_fluid+' #upload-form input[name="upfiles"]').removeClass("heighter-28"),$($v__fm__container_fluid+" #readyForUploadDialog .modal-footer").prepend('<button type="button" data-upload-reset class="btn btn-default pull-left"><i class="fa fa-fw fa-times-circle"></i> '+theme_language("theme_xhred_global_reset")+"</button>"),$($v__fm__container_fluid+' #readyForUploadDialog button[onclick="uploadFiles()"]').addClass("disabled").html('<i class="fa fa-fw fa-check-circle"></i> '+theme_language("theme_xhred_global_upload")),$($v__fm__container_fluid+" #readyForUploadDialog #readyForUploadList").remove()},3),"config.cgi"==v___location_file){$('input[name="per_page"], input[name="disable_pagination"], input[name="menu_style"]').parents("td.col_value").parent("tr").addClass("hidden"),$("#columns_size").parent(".awobject").remove(),$('input[value="size"]').parent(".awcheckbox").addClass("hidden");var o=$('input[name="columns"]:visible');$('form[action="save_config.cgi"]').append('<input type="hidden" name="columns" value="size">');var l=$(".table-subtable .sub_table_container.table-hardcoded").find("tbody");l.append('      <tr>        <td class="col_label"><b>'+theme_language("theme_xhred_filemanager_records_per_page")+'</b></td>        <td class="col_value">          <select class="ui_select" name="config_portable_module_filemanager_records_per_page" onchange="update_per_page(this.value);">            <option value="5">5</option>            <option value="10">10</option>            <option value="15">15</option>            <option value="20">20</option>            <option value="25">25</option>            <option value="30">30 ('+theme_language("theme_xhred_global_default")+')</option>            <option value="35">35</option>            <option value="40">40</option>            <option value="45">45</option>            <option value="50">50</option>            <option value="55">55</option>            <option value="60">60</option>            <option value="70">70</option>            <option value="80">80</option>            <option value="90">90</option>            <option value="100">100</option>            <option value="250">250</option>            <option value="500">500</option>          </select>        </td>      </tr>      <tr>      <tr>        <td class="col_label"><b>'+theme_language("theme_xhred_filemanager_records_for_server_pagination")+'</b></td>        <td class="col_value">          <input type="hidden" name="config_portable_module_filemanager_records_for_server_pagination" value="'+config_portable_module_filemanager_records_for_server_pagination+'">          <select class="ui_select" name="max_allowed" onchange="update_records_for_server_pagination(this.value);">            <option value="100">100</option>            <option value="200">200</option>            <option value="300">300 ('+theme_language("theme_xhred_global_default")+')</option>            <option value="400">400</option>            <option value="500">500</option>            <option value="600">600</option>            <option value="700">700</option>            <option value="800">800</option>            <option value="900">900</option>            <option value="1000">1000</option>            <option value="1250">1250</option>            <option value="1500">1500</option>            <option value="1750">1750</option>            <option value="2000">2000</option>          </select>        </td>      </tr>      <tr>        <td class="col_label"><b>'+theme_language("theme_xhred_filemanager_sorting")+'</b></td>        <td class="col_value">          <select class="ui_select" name="config_portable_module_filemanager_default_sort">            <option value="0" data-empty></option>            <option data-label disabled>'+theme_language("theme_xhred_filemanager_sorting_asc")+'</option>            <option data-head-name value="name">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_name")+'</option>            <option data-head-type value="type">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_type")+'</option>            <option data-head-size value="size">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_size")+'</option>            <option data-head-owner_user value="owner_user">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_ownership")+'</option>            <option data-head-permissions value="permissions">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_permissions")+'</option>            <option data-head-attributes value="attributes"'+($('input[value="attributes"][type="checkbox"]').length?"":' class="hidden"')+">&nbsp;"+theme_language("theme_xhred_filemanager_sorting_by_attributes")+'</option>            <option data-head-selinux value="selinux"'+($('input[value="selinux"][type="checkbox"]').length?"":' class="hidden"')+">&nbsp;"+theme_language("theme_xhred_filemanager_sorting_by_selinux")+'</option>            <option data-head-last_mod_time value="last_mod_time">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_last_mod_time")+"</option>            <option data-label disabled>"+theme_language("theme_xhred_filemanager_sorting_desc")+'</option>            <option data-head-name value="name--">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_name")+'</option>            <option data-head-type value="type--">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_type")+'</option>            <option data-head-size value="size--">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_size")+'</option>            <option data-head-owner_user value="owner_user--">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_ownership")+'</option>            <option data-head-permissions value="permissions--">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_permissions")+'</option>            <option data-head-attributes value="attributes--"'+($('input[value="attributes"][type="checkbox"]').length?"":' class="hidden"')+">&nbsp;"+theme_language("theme_xhred_filemanager_sorting_by_attributes")+'</option>            <option data-head-selinux value="selinux--"'+($('input[value="selinux"][type="checkbox"]').length?"":' class="hidden"')+">&nbsp;"+theme_language("theme_xhred_filemanager_sorting_by_selinux")+'</option>            <option data-head-last_mod_time value="last_mod_time--">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_last_mod_time")+'</option>          </select>        </td>      </tr>        <tr>        <td class="col_label"><b>'+theme_language("theme_xhred_filemanager_hide_tree_view")+'</b></td>        <td class="col_value"><span>        <span class="awradio awobject">        <input class="iawobject" name="config_portable_module_filemanager_hide_tree_view" id="config_portable_module_filemanager_hide_tree_view_0" value="false"'+(Test.true(config_portable_module_filemanager_hide_tree_view)?"":" checked")+' type="radio">        <label class="lawobject" for="config_portable_module_filemanager_hide_tree_view_0">'+theme_language("theme_xhred_global_yes")+'</label>        <input class="iawobject" name="config_portable_module_filemanager_hide_tree_view" id="config_portable_module_filemanager_hide_tree_view_1" value="true"'+(Test.true(config_portable_module_filemanager_hide_tree_view)?" checked":"")+' type="radio">        <label class="lawobject" for="config_portable_module_filemanager_hide_tree_view_1">'+theme_language("theme_xhred_global_no")+'</label>        </span>        </span></td>        </tr>        <tr>        <td class="col_label">&nbsp;&nbsp;<b>'+theme_language("theme_xhred_filemanager_tree_expand_search")+'</b></td>        <td class="col_value"><span>        <span class="awradio awobject">        <input class="iawobject" name="config_portable_module_filemanager_tree_expand_search" id="config_portable_module_filemanager_tree_expand_search_1" value="true"'+(Test.true(config_portable_module_filemanager_tree_expand_search)?" checked":"")+' type="radio">        <label class="lawobject" for="config_portable_module_filemanager_tree_expand_search_1">'+theme_language("theme_xhred_global_yes")+'</label>        <input class="iawobject" name="config_portable_module_filemanager_tree_expand_search" id="config_portable_module_filemanager_tree_expand_search_0" value="false"'+(Test.true(config_portable_module_filemanager_tree_expand_search)?"":" checked")+' type="radio">        <label class="lawobject" for="config_portable_module_filemanager_tree_expand_search_0">'+theme_language("theme_xhred_global_no")+'</label>        </span>        </span></td>        </tr>        <tr>          <td class="col_label">&nbsp;&nbsp;<b>'+theme_language("theme_xhred_filemanager_tree_view_depth")+'</b></td>          <td class="col_value">            <select class="ui_select" name="config_portable_module_filemanager_tree_view_depth">              <option value="1">1</option>              <option value="2">2 ('+theme_language("theme_xhred_global_default")+')</option>              <option value="3">3</option>              <option value="4">4</option>              <option value="5">5</option>              <option value="6">6</option>              <option value="7">7</option>              <option value="8">8</option>              <option value="9">9</option>              <option value="10">10</option>              <option value="15">15</option>              <option value="20">20</option>              <option value="25">25</option>              <option value="50">50</option>              <option value="100">100</option>              <option value="0">'+theme_language("theme_xhred_global_unlimited")+"</option>            </select>          </td>        </tr>                <tr"+(0!==get_access_level()&&1!==get_access_level()&&' class="hidden-force"')+'>                    <td class="col_label">&nbsp;&nbsp;<b>'+theme_language("theme_xhred_filemanager_tree_exclude_on_first_load")+'</b>&nbsp;<sup><span title="/cdrom, /dev, /lib, /lost+found, /mnt, /proc, /run, /snaps, /sys, /tmp"><i class="fa font-size-75p fa-question-circle text-light"></i></span></sup></td>                    <td class="col_value"><span>                    <span class="awradio awobject">                        <input class="iawobject" name="config_portable_module_filemanager_tree_exclude_on_first_load" id="config_portable_module_filemanager_tree_exclude_on_first_load_1" value="true"'+(Test.true(config_portable_module_filemanager_tree_exclude_on_first_load)?" checked":"")+' type="radio">                        <label class="lawobject" for="config_portable_module_filemanager_tree_exclude_on_first_load_1">'+theme_language("theme_xhred_global_yes")+'</label>                        <input class="iawobject" name="config_portable_module_filemanager_tree_exclude_on_first_load" id="config_portable_module_filemanager_tree_exclude_on_first_load_0" value="false"'+(Test.true(config_portable_module_filemanager_tree_exclude_on_first_load)?"":" checked")+' type="radio">                        <label class="lawobject" for="config_portable_module_filemanager_tree_exclude_on_first_load_0">'+theme_language("theme_xhred_global_no")+'</label>                    </span>                  </span></td>                </tr>        <tr>                    <td class="col_label"><b>'+theme_language("theme_xhred_filemanager_hide_toolbar")+'</b></td>                    <td class="col_value"><span>                    <span class="awradio awobject">                        <input class="iawobject" name="config_portable_module_filemanager_hide_toolbar" id="config_portable_module_filemanager_hide_toolbar_1" value="true"'+(Test.true(config_portable_module_filemanager_hide_toolbar)?" checked":"")+' type="radio">                        <label class="lawobject" for="config_portable_module_filemanager_hide_toolbar_1">'+theme_language("theme_xhred_global_yes")+'</label>                        <input class="iawobject" name="config_portable_module_filemanager_hide_toolbar" id="config_portable_module_filemanager_hide_toolbar_0" value="false"'+(Test.true(config_portable_module_filemanager_hide_toolbar)?"":" checked")+' type="radio">                        <label class="lawobject" for="config_portable_module_filemanager_hide_toolbar_0">'+theme_language("theme_xhred_global_no")+'</label>                    </span>                  </span></td>                </tr>        <tr>                    <td class="col_label"><b>'+theme_language("theme_xhred_filemanager_hovered_toolbar")+'</b></td>                    <td class="col_value"><span>                    <span class="awradio awobject">                        <input class="iawobject" name="config_portable_module_filemanager_hovered_toolbar" id="config_portable_module_filemanager_hovered_toolbar_1" value="true"'+(Test.true(config_portable_module_filemanager_hovered_toolbar)?" checked":"")+' type="radio">                        <label class="lawobject" for="config_portable_module_filemanager_hovered_toolbar_1">'+theme_language("theme_xhred_global_yes")+'</label>                        <input class="iawobject" name="config_portable_module_filemanager_hovered_toolbar" id="config_portable_module_filemanager_hovered_toolbar_0" value="false"'+(Test.true(config_portable_module_filemanager_hovered_toolbar)?"":" checked")+' type="radio">                        <label class="lawobject" for="config_portable_module_filemanager_hovered_toolbar_0">'+theme_language("theme_xhred_global_no")+'</label>                    </span>                </span></td>                </tr>                <tr>                    <td class="col_label"><b>'+theme_language("theme_xhred_filemanager_hide_actions")+'</b></td>                    <td class="col_value"><span>                    <span class="awradio awobject">                        <input class="iawobject" name="config_portable_module_filemanager_hide_actions" id="config_portable_module_filemanager_hide_actions_1" value="true"'+(Test.true(config_portable_module_filemanager_hide_actions)?" checked":"")+' type="radio">                        <label class="lawobject" for="config_portable_module_filemanager_hide_actions_1">'+theme_language("theme_xhred_global_yes")+'</label>                        <input class="iawobject" name="config_portable_module_filemanager_hide_actions" id="config_portable_module_filemanager_hide_actions_0" value="false"'+(Test.true(config_portable_module_filemanager_hide_actions)?"":" checked")+' type="radio">                        <label class="lawobject" for="config_portable_module_filemanager_hide_actions_0">'+theme_language("theme_xhred_global_no")+'</label>                    </span>                </span></td>                </tr>                <tr>                    <td class="col_label"><b>'+theme_language("theme_xhred_filemanager_settings_tabs_remember_state")+'</b></td>                    <td class="col_value"><span>                    <span class="awradio awobject">                        <input class="iawobject" name="config_portable_module_filemanager_remember_tabs" id="config_portable_module_filemanager_remember_tabs_1" value="true"'+(Test.true(config_portable_module_filemanager_remember_tabs)?" checked":"")+' type="radio">                        <label class="lawobject" for="config_portable_module_filemanager_remember_tabs_1">'+theme_language("theme_xhred_global_yes")+'</label>                        <input class="iawobject" name="config_portable_module_filemanager_remember_tabs" id="config_portable_module_filemanager_remember_tabs_0" value="false"'+(Test.true(config_portable_module_filemanager_remember_tabs)?"":" checked")+' type="radio">                        <label class="lawobject" for="config_portable_module_filemanager_remember_tabs_0">'+theme_language("theme_xhred_global_no")+'</label>                    </span>                </span></td>                </tr>                <tr>                    <td class="col_label"><b>'+theme_language("theme_xhred_filemanager_context_calculate_size")+'</b></td>                    <td class="col_value"><span>                    <span class="awradio awobject">                        <input class="iawobject" name="config_portable_module_filemanager_calculate_size" id="config_portable_module_filemanager_calculate_size_1" value="true"'+(Test.true(config_portable_module_filemanager_calculate_size)?" checked":"")+' type="radio">                        <label class="lawobject" for="config_portable_module_filemanager_calculate_size_1">'+theme_language("theme_xhred_global_yes")+'</label>                        <input class="iawobject" name="config_portable_module_filemanager_calculate_size" id="config_portable_module_filemanager_calculate_size_0" value="false"'+(Test.true(config_portable_module_filemanager_calculate_size)?"":" checked")+' type="radio">                        <label class="lawobject" for="config_portable_module_filemanager_calculate_size_0">'+theme_language("theme_xhred_global_no")+'</label>                    </span>                </span></td>                </tr>        <tr>                    <td class="col_label"><b>'+theme_language("theme_xhred_filemanager_settings_force_tar_download")+'</b></td>                    <td class="col_value"><span>                    <span class="awradio awobject">                        <input class="iawobject" name="config_portable_module_filemanager_force_tar" id="config_portable_module_filemanager_force_tar_1" value="true"'+(Test.true(config_portable_module_filemanager_force_tar)?" checked":"")+' type="radio">                        <label class="lawobject" for="config_portable_module_filemanager_force_tar_1">'+theme_language("theme_xhred_global_yes")+'</label>                        <input class="iawobject" name="config_portable_module_filemanager_force_tar" id="config_portable_module_filemanager_force_tar_0" value="false"'+(Test.true(config_portable_module_filemanager_force_tar)?"":" checked")+' type="radio">                        <label class="lawobject" for="config_portable_module_filemanager_force_tar_0">'+theme_language("theme_xhred_global_no")+"</label>                    </span>                </span></td>                </tr>        <tr"+(0!=get_access_level()?' class="hidden"':"")+'>                    <td class="col_label"><b>'+theme_language("theme_xhred_filemanager_user_switch_option")+'</b></td>                    <td class="col_value"><span>                    <span class="awradio awobject">          <input class="iawobject" name="config_portable_module_filemanager_switch_user" id="config_portable_module_filemanager_switch_user_1" value="true"'+(Test.true(config_portable_module_filemanager_switch_user)?" checked":"")+' type="radio">          <label class="lawobject" for="config_portable_module_filemanager_switch_user_1">'+theme_language("theme_xhred_global_yes")+'</label>          <input class="iawobject" name="config_portable_module_filemanager_switch_user" id="config_portable_module_filemanager_switch_user_0" value="false"'+(Test.true(config_portable_module_filemanager_switch_user)?"":" checked")+' type="radio">          <label class="lawobject" for="config_portable_module_filemanager_switch_user_0">'+theme_language("theme_xhred_global_no")+"</label>                    </span>                </span></td>                </tr>            ");var s=$('textarea[name="bookmarks"]').parents("td.col_value").parent("tr").detach();l.append(s),e();var d='input[name="config_portable_module_filemanager_hide_toolbar"]';$(d).on("change.fm",function(){e($(this))}),setTimeout(function(){var e='select[name="config_portable_module_filemanager_records_per_page"], input[name="config_portable_module_filemanager_records_for_server_pagination"], select[name="config_portable_module_filemanager_default_sort"], input[name="config_portable_module_filemanager_hide_tree_view"], input[name="config_portable_module_filemanager_tree_expand_search"], select[name="config_portable_module_filemanager_tree_view_depth"], input[name="config_portable_module_filemanager_tree_exclude_on_first_load"], input[name="config_portable_module_filemanager_hide_toolbar"], input[name="config_portable_module_filemanager_hovered_toolbar"], input[name="config_portable_module_filemanager_hide_actions"], input[name="config_portable_module_filemanager_remember_tabs"], input[name="config_portable_module_filemanager_switch_user"], input[name="config_portable_module_filemanager_calculate_size"], input[name="config_portable_module_filemanager_force_tar"]',a=$('select[name="config_portable_module_filemanager_tree_view_depth"]'),t=$('input[name="config_portable_module_filemanager_tree_expand_search"], input[name="config_portable_module_filemanager_tree_exclude_on_first_load"]');$(e).on("change.fm input.fm",function(){var e=$(this).attr("name"),_=$(this).val();"false"===_?_=!1:"true"===_&&(_=!0),"config_portable_module_filemanager_switch_user"==e&&__f___us_m_def(),"config_portable_module_filemanager_hide_tree_view"==e&&(_?a.parent("td").parent("tr").addClass("hidden"):a.parent("td").parent("tr").removeClass("hidden"),_?t.parent().parent().parent("td").parent("tr").addClass("hidden"):t.parent().parent().parent("td").parent("tr").removeClass("hidden"))}),$('form[action*="save_config.cgi"]').on("submit.fm",function(a){$.each($(e),function(){var e=$(this).attr("name"),a=$(this).is('input[name^="config_portable_module_filemanager"]')?$("input[name="+e+"]:checked").val():$(this).val();void 0==a&&(a=$(this).val()),"false"===a?a=!1:"true"===a&&(a=!0),localStorage.setItem(v___server_hostname+"-"+e,a),window[e]=a}).promise().done(function(){theme_config("save")})}),check_pagination_option(),$('select[name="config_portable_module_filemanager_records_per_page"]').val(config_portable_module_filemanager_records_per_page),$('select[name="config_portable_module_filemanager_default_sort"]').val(config_portable_module_filemanager_default_sort),$('select[name="config_portable_module_filemanager_tree_view_depth"]').val(config_portable_module_filemanager_tree_view_depth),config_portable_module_filemanager_hide_tree_view&&a.parent("td").parent("tr").addClass("hidden"),config_portable_module_filemanager_hide_tree_view&&t.parent().parent().parent("td").parent("tr").addClass("hidden"),update_per_page($('[name="config_portable_module_filemanager_records_per_page"]').val()),$('select[name="max_allowed"], input[name="config_portable_module_filemanager_records_for_server_pagination"]').val(config_portable_module_filemanager_records_for_server_pagination);var _=$('select[name="config_portable_module_filemanager_default_sort"]');_.find("option:not([disabled])").addClass("font-weight-normal font-style-normal"),o.on("change.fm",function(e){!$(this).is(":checked")&&Test.strContains(_.val(),$(this).attr("value"))&&_.val("0"),_.find("option[data-head-"+$(this).attr("value")+"]").prop("disabled",!$(this).is(":checked"))}),o.trigger("change")},120)}else{if($($v__fm__container_fluid+" .panel-body").append('            <div class="data-content-container">        <div data-tree-view'+_+'>        <div data-resizer></div>          <span class="cspinner centered-initial"><span class="cspinner-icon"></span></span>        </div>        <div class="tree-view-filter hidden-content '+n+'"><input type="text" placeholder="'+theme_language("theme_xhred_datatable_filter")+'"></div>        <div class="data-table">            <div class="tabs-top">                <ul class="nav nav-tabs">                    <li class="active ui-sortable-handle"><a href="#tab-1" data-toggle="tab"><i class="fa fa-fw fa-close-box pull-right invisible"></i><span data-tab-path data-container="body" data-toggle="tooltip" data-placement="auto top" data-title="/">/</span></a></li>                </ul>                <div class="tab-content">                    <div class="tab-pane fade in active" id="tab-1">                    </div>                </div>            </div>        </div>      </div>        '),$($v__fm__container_fluid_form).detach().appendTo("#tab-1"),"function"==typeof sortable){var d=$($v__fm__container_fluid+" .tabs-top > ul.nav");sortable(d).on("sortupdate.fm",function(){__f___up__tb_store()})}config_portable_module_filemanager_remember_tabs&&__f___ld__tb_stored_chk()&&setTimeout(function(){__f___ld__tb_stored()},10),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/fetcher.cgi?module="+v___module+"&home_base=1",data:!1,dataType:"JSON",success:function(e){$g__v__home_base=jQuery.isEmptyObject(e)?v___server_userhome:Convert.uriEncodeComponent(e.home_base)},error:function(e){get_login_required(e)}}),0==get_access_level()&&0==config_portable_module_filemanager_switch_user&&($("#headln2r .btn-group").prepend('<a id="file-manager-switch-user" data-container="body" data-toggle="tooltip" data-html="true" class="btn btn-link '+(__f___um()?"btn-warning ":"")+'text-lighter pull-left"><i class="fa fa-user-switch"></i></a>'),__f___us_tl(),$(r).attr("data-user-switch",1));var c=$("#headln2r .btn-group"),f="path-to-shell";core.moduleAvailable("shell")&&(c.prepend("<a "+theme_inject_tooltip(theme_language("theme_xhred_path_to_console"),"#headln2r",!1,!1,!1,"(")+' class="btn btn-link text-lighter pull-left '+f+'"><i class="fa fa-terminal" aria-hidden="true"></i></a>'),$($v__fm__container_fluid+" ."+f).on("click.fm",function(e){e.preventDefault(),v___module===v___module_file_manager&&(plugins.shell.set($($v__fm__container_fluid+" #path").val()),plugins.shell.open())})),c.prepend('<a id="file-manager-new-instance" '+theme_inject_tooltip(theme_language("theme_xhred_filemanager_new_tab"),"#headln2r",!1,!1,!1,"(")+' class="btn btn-link text-lighter pull-left"><i class="fa fa-plus"></i></a>'),c.prepend('<a data-tree-toggle data-container="body" data-toggle="tooltip" data-title="'+theme_language("theme_xhred_filemanager_tree_view_toggle")+'" class="btn btn-link text-lighter pull-left"><i class="fa fa-tree-view fa-rotate-90"></i></a>'),c.find("i.fa.fa-cog").parent("a").attr("data-original-title",theme_language("theme_xhred_global_module_config"))}$(r).on("click.fm",".tab-pane.active .ui_checked_columns > .ui_checked_checkbox:nth-child(1) + td > a",function(e){e.preventDefault(),e.stopPropagation(),e.offsetX<=-2&&e.offsetX>=-11&&!$(e.target).is("img")&&$(this).trigger("contextmenu")}).on("click.fm",".symlink-text-string",function(e){e.preventDefault(),e.stopPropagation();var a=$(this);$(r).append('<button class="hidden tmp-clipboard-obj" data-clipboard-text="'+Convert.htmlEscape(a.text())+'"></button>');var t=$(".file-manager .tmp-clipboard-obj"),_=new Clipboard(".tmp-clipboard-obj");t.trigger("click").remove(),_.destroy(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clipboard"></i>'+theme_language("theme_xhred_filemanager_link_to_clipboard").replace("%value",Convert.htmlEscape(a.text())),7,"info","link_to_clipboard")});var m;$(r).on("contextmenu.fm",function(){m=!0}),$(r).on("click.fm",a).on("mouseleave.fm",".popover:not(.file-manager-help)",function(e){var a=$(this);e.preventDefault(),e.stopPropagation(),m?$(r).one("click.fm",function(){a.popover("hide")}):a.popover("hide")}),$($v__fm__container_fluid+" div.total").append(__f___tl_v()),$($v__fm__container_fluid+" .tab-pane.active").data("totalValue",$("div.total").html()),
$("body.file-manager #content").append('<ul id="__f__c__m" class="dropdown-menu" role="menu" style="display:none">                <li data-block data-go_up-target><a tabindex="-1" href="#" data-context-back="1"><i class="fa fa-fw fa-arrow-left"></i></a></li>                <li data-block data-go_up-target><a tabindex="-1" href="#" data-context-refresh="1"><i class="fa fa-fw fa-refresh"></i></a></li>                <li data-block data-go_up-target><a tabindex="-1" href="#" data-context-bookmarks="1"><i class="fa fa-fw fa-star"></i></a></li>                <li data-block data-go_up-target><a tabindex="-1" href="#" data-context-search="1"><i class="fa fa-fw fa-search"></i></a></li>                <li class="divider"></li>                                    <li class="context-o__f_m-dependent-goto hidden"><a tabindex="-1" href="#" data-context-goto="1"><i class="fa fa-fw fa-folder-open-o"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_goto")+'</a></li>                    <li class="divider context-o__f_m-dependent-goto"></li>                    <li class="context-o__f_m-dependent-open-new-tab hidden"><a tabindex="-1" href="#" data-context-open-new-tab="1"><i class="fa fa-fw fa-tab"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_open_new_tab")+'</a></li>                    <li class="divider context-o__f_m-dependent-open-new-tab hidden"></li>                    <li class="dropdown-submenu prelocked" role="menu">                        <a tabindex="-1" href="#" data-context-select-all="1"><i class="fa fa-fw fa-check-square-o"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_select_all")+'</a>                        <ul class="dropdown-menu" role="menu">                            <li><a tabindex="-1" href="#" data-context-deselect-all="1"><i class="fa fa-fw fa-square-o"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_deselect_all")+'</a></li>                        </ul>                    </li>                    <li><a tabindex="-1" href="#" data-context-invert-selection="1"><i class="fa fa-fw fa-share-square-o"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_select_invert")+'</a></li>                    <li data-go_up-target class="divider"></li>                    <li data-go_up-target class="dropdown-submenu" role="menu">                        <a tabindex="-1" href="#" data-prevent-default>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_new")+'</a>                        <ul class="dropdown-menu" role="menu">                    <li><a tabindex="-1" href="#" data-context-newsymlink="1"><i class="fa fa-fw fa-smm fa-file-symlink margined-right--1 margined-left--1"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_symlink")+'</a></li>                            <li data-go_up-target><a tabindex="-1" href="#" data-context-newfile="1"><i class="fa fa-fw fa-file-o"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newfile")+'</a></li>                            <li data-go_up-target><a tabindex="-1" href="#" data-context-newfolder="1"><i class="fa fa-fw fa-folder-o"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newfoder")+'</a></li>                            <li><a tabindex="-1" href="#" data-context-newarchive="1"><i class="fa fa-fw fa-file-archive-o"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newarchive")+'</a></li>                            <li data-go_up-target class="dropdown-submenu" role="menu">                                <a tabindex="-1" href="#"><i class="fa fa-fw fa-exchange"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_transfer")+'</a>                                <ul class="dropdown-menu" role="menu">                                    <li data-go_up-target><a tabindex="-1" href="#" data-context-upload="1"><i class="fa fa-fw fa-upload"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_upload")+'</a></li>                                    <li data-go_up-target><a tabindex="-1" href="#" data-context-download="1"><i class="fa fa-fw fa-download"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_download")+'</a></li>                                </ul>                            </li>                        </ul>                    </li>                    <li class="divider"></li>                    <li class="dropdown-submenu prelocked" role="menu">                        <a tabindex="-1" href="#" data-context-copy="1"><i class="fa fa-fw fa-files-o"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_copy")+'</a>                        <ul class="dropdown-menu" role="menu">                            <li><a tabindex="-1" href="#" data-context-clipboard="1"><i class="fa fa-fw fa-clone"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_clipboard")+'</a></li>                            <li><a tabindex="-1" href="#" data-context-clipboard-selection="2"><i class="fa fa-fw fa-sm fa2 fa2-copy-selection"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_clipboard_selection")+'</a></li>                        </ul>                    </li>                    <li><a tabindex="-1" href="#" data-context-cut="1"><i class="fa fa-fw fa-scissors"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_cut")+'</a></li>                    <li><a tabindex="-1" href="#" data-context-paste="1"><i class="fa fa-fw fa-clipboard"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_paste")+'</a></li>                    <li class="divider"></li>                    <li><a tabindex="-1" href="#" data-context-delete="1"><i class="fa fa-fw fa-trash"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_delete")+'</a></li>                                        <li class="divider context-o__f_m-dependent-preview"></li>                    <li class="dropdown-submenu prelocked context-o__f_m-dependent-preview" role="menu">                        <a tabindex="-1" href="#" data-context-preview-image="1"><i class="fa fa-fw fa-image"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_global_preview_img")+'</a>                        <ul class="dropdown-menu" role="menu">                            <li><a tabindex="-1" href="#" data-context-preview-image="3"><i class="fa fa-fw fa2 fa2-image-selected"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_global_preview_img_sel")+'</a></li>                            <li><a tabindex="-1" href="#" data-context-preview-image="2"><i class="fa fa-fw fa2 fa2-images"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_global_preview_img_all")+'</a></li>                        </ul>                    </li>                                        <li class="divider"></li>                    <li class="dropdown-submenu context-o__f_m-dependent-edit prelocked" role="menu">                        <a tabindex="-1" href="#" data-context-edit="1">&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_edit")+'</a>                        <ul class="dropdown-menu" role="menu" context-o__f_m-dependent-htmledit="1">                            <li><a tabindex="-1" href="#" context-o__f_m-dependent-htmledit="1"><i class="fa fa-fw fa-html"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_edit_html")+'</a></li>                        </ul>                    </li>                    <li><a tabindex="-1" href="#" data-context-rename="1">&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_rename")+'</a></li>                    <li class="context-o__f_m-dependent-download"><a tabindex="-1" href="#" data-context-download-file="1">&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_download_file")+'</a></li>                                        <li class="divider context-o__f_m-dependent-encrypt"></li>                    <li class="context-o__f_m-dependent-encrypt"><a tabindex="-1" href="#" data-context-encrypt="1"><i class="fa fa-fw fa-key-plus"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_global_encrypt")+'</a></li>                    <li class="divider context-o__f_m-dependent-extract"></li>                    <li class="context-o__f_m-dependent-extract dropdown-submenu prelocked" role="menu">                        <a tabindex="-1" href="#" data-context-extract="1"><i class="fa fa-fw fa-extract-archive"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_extract")+'</a>                        <ul class="dropdown-menu" role="menu">                            <li><a tabindex="-1" href="#" data-context-extract-encrypted="1"><i class="fa fa-fw fa2 fa2-users-cog"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_extract_encrypted")+'</a></li>                        </ul>                    </li>                    <li class="divider"></li>                    <li class="dropdown-submenu context-properties" role="menu">                        <a tabindex="-1" href="#" data-prevent-default>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_properties")+'</a>                        <ul class="dropdown-menu dropdown-submenu-properties" role="menu">                            <li><a tabindex="-1" href="#" data-context-calculate-selected-size="1"><i class="fa fa-fw fa-calculator"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_calculate_selected_size")+'</a></li>                            <li><a tabindex="-1" href="#" data-context-chmod="1"><i class="fa fa-fw fa-cogs"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chmod")+'</a></li>                            <li><a tabindex="-1" href="#" data-context-chown="1"><i class="fa fa-fw fa-users"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chown")+'</a></li>                            <li><a tabindex="-1" href="#" data-context-chattr="1"><i class="fa fa-fw fa-tags"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chattr")+'</a></li>                            <li><a tabindex="-1" href="#" data-context-chcon="1"><i class="fa fa-fw fa-shield"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chcon")+"</a></li>                        </ul>                    </li>                </ul>"),$(r).on("click.fm","#__f__c__m li i.fa",function(e){$(this).parents("a").trigger("click")}).on("hidden.bs.modal",$v__fm__container_fluid,function(){$(".modal-backdrop").remove()}).on("click.fm",function(e){$(".tooltip").each(function(){$(this).is(e.target)||0!==$(this).has(e.target).length||0!==$(".tooltip").has(e.target).length||$(this).tooltip("hide")})}).on("click.fm",$v__fm__container_fluid+" .breadcrumb .fa-caret-right",function(e){e.preventDefault(),e.stopPropagation();var a=$($v__fm__container_fluid+" .breadcrumb span[data-tree]"),t=$($v__fm__container_fluid+" .breadcrumb .fa-caret-down"),_=$(this),n=_.attr("data-path"),i=n?n:"/";_.parent("a").attr("href");$dirCurrent=_.parent("a").text(),a.remove(),t.addClass("fa-caret-right").removeClass("fa-caret-down"),_.parent("a").next("span[data-tree]").length||(_.addClass("invisible").after('<span class="cspinner"><span class="cspinner-icon smallest"></span></span>'),$(this).removeClass("fa-caret-right").addClass("fa-caret-down"),_.parent("a").after('<span class="hidden" data-tree=""></div>'),$.ajax({type:"POST",url:v___location_prefix+"/index.cgi/?xhr-get_list=1&xhr-get_list_path="+i,data:!1,dataType:"JSON",success:function(e){$.each($(e),function(e,a){_.parent("a").next("span[data-tree]").append('<a href="index.cgi?path='+Convert.uriEncodeComponent(Convert.htmlEscape(i)+"/"+Convert.uriEncodeComponent(Convert.htmlEscape(a)))+'"><i class="fa fa-fw '+($dirCurrent==a?"fa-folder-open-o":"fa-folder-o")+'">&nbsp;&nbsp;</i>'+($dirCurrent==a?" <strong>"+Convert.htmlEscape(a)+"</strong>":" "+Convert.htmlEscape(a))+"</a>")}).promise().done(function(){_.removeClass("invisible").next(".cspinner").remove(),_.parent("a").removeClass("text-black"),_.parent("a").next("span[data-tree]").removeClass("hidden");var e=_.parent("a").next("span[data-tree]"),a=$("span[data-tree] i.fa-folder-open-o").parent("a");void 0!==a.offset()&&void 0!==e.offset()&&e.animate({scrollTop:a.offset().top-e.offset().top+e.scrollTop()},0)})},error:function(e){get_login_required(e)}}))}).on("mouseenter.fm",$v__fm__container_fluid+" .breadcrumb .fa-caret-right",function(e){$(this).parent("a").addClass("text-black")}).on("mouseleave.fm",$v__fm__container_fluid+" .breadcrumb .fa-caret-right",function(e){$(this).parent("a").removeClass("text-black")}).on("click.fm",function(e){var a=$($v__fm__container_fluid+" .breadcrumb a + span[data-tree]"),t=$($v__fm__container_fluid+" .breadcrumb .fa-caret-down");a.length&&(a.remove(),t.addClass("fa-caret-right").removeClass("fa-caret-down"))}),$.each($($v__fm__container_fluid+" .modal .modal-content .modal-footer"),function(e,a){$(this).wrapInner('<div class="btn-group"></div>')}),$($v__fm__container_fluid+" .btn-group.pull-right").find(".fa-check-square").removeClass("fa-check-square").addClass("fa-share-square-o"),$($v__fm__container_fluid+" #headln2l .help_popup").css("padding","6px 12px"),$($v__fm__container_fluid+" #headln2l .btn-group > a.btn:first-child > i").attr("data-title",theme_language("theme_xhred_global_dir_up")).attr("data-toggle","tooltip"),$($v__fm__container_fluid+' ul > li > a[href^="bookmark.cgi?path="]').parents("ul").addClass("at-o__f_m-favorites-dropdown").find(".fa-bookmark-o").removeClass("fa-bookmark-o").addClass("fa-fw fa-star-o"),$($v__fm__container_fluid+' div button[onclick="removeDialog()"]').addClass("disabled o__f_m-button-delete").removeAttr("onclick"),$($v__fm__container_fluid+' a[onclick="chmodDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-chmod"),$($v__fm__container_fluid+' a[onclick="chownDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-chown"),$($v__fm__container_fluid+' a[onclick="chattrDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-chattr"),$($v__fm__container_fluid+' a[onclick="chconDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-chcon"),$($v__fm__container_fluid+' a[onclick="compressDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-compress"),$($v__fm__container_fluid+' a[onclick="copySelected()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-copy"),$($v__fm__container_fluid+' a[onclick="cutSelected()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-cut"),$($v__fm__container_fluid+' #chmodDialog input[id="perms"]').val(""),localStorage.getItem(v___server_hostname+"-copy")||localStorage.getItem(v___server_hostname+"-cut")?$($v__fm__container_fluid+' a[onclick*="paste.cgi"]').removeAttr("onclick").parent("li").addClass("o__f_m-button-paste"):$($v__fm__container_fluid+' a[onclick*="paste.cgi"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-paste"),$($v__fm__container_fluid+' form[name="chmod"] input[name="t_total"]').attr("type","number"),v___server_sestatus||($($v__fm__container_fluid+" li.o__f_m-button-chcon").addClass("hidden"),$($v__fm__container_fluid+" #__f__c__m a[data-context-chcon]").parent("li").addClass("hidden"),$($v__fm__container_fluid+" #__f__c__m .dropdown-submenu-properties").css("top","-74px")),$(r).on("click.fm",$v__fm__container_fluid+' button + .dropdown-menu.at-o__f_m-favorites-dropdown > li > a:not([href^="bookmark.cgi"])',function(){$(this).parents("ul").trigger("mouseleave")}),$.each($($v__fm__container_fluid+" .btn-group.pull-right .btn-group"),function(){$(this).find("button > .caret").css("margin-left","3px"),$(this).find("button + ul.dropdown-menu > li > a").css("padding-left","12px"),$(this).find("button + ul.dropdown-menu > li > a > i").append("&nbsp;&nbsp;"),$(this).find("ul").addClass("pull-right").find(".fa-paste").removeClass("fa-paste").addClass("fa-fw fa-clipboard").text("").after("&nbsp;&nbsp;"),$(this).find("ul").addClass("pull-right").find(".fa-search").addClass("fa-fw").text("").after("&nbsp;")}).promise().done(function(){f_m__bm__c()}),$(r).on("click.fm",$v__fm__container_fluid+" .file-manager-remove-bookmark",function(e){e.preventDefault(),e.stopPropagation();var a=URI.parseQuery(URI($(this).parent("a").attr("href")).query()).path;$(this).parent("a").parent("li").remove(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/bookmark.cgi?path="+Convert.uriEncodeComponent(a)+"&module="+v___module_file_manager,data:!1,dataType:"text",success:function(e){if(Test.strContains(e,v___page_signin_form))return void(v___available_session=0);f_m__bm__c(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-star-o"></i>'+theme_language("theme_xhred_filemanager_unbookmark_success").replace("%value",a?Convert.htmlEscape(a):"/"),5,"warning","bookmarkAddRemove")},error:function(e){}})}).on("mousemove.fm",function(e){$(this).data("mousePageX",e.pageX).data("mousePageY",e.pageY)}).on("MacIntel"!==window.navigator.platform||browser.detect.safari()?"click.fm":"mouseup.fm",".___f_m__q__:visible .ui_checked_columns",function(e){if(e.ctrlKey){if($(e.target).is('input[name="name"].iawobject'))return;e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),$(this).find("td:first-child").trigger("contextmenu")}}),0!==get_access_level()&&1!==get_access_level()&&$(r).find($v__fm__container_fluid+" .breadcrumb li:first-child a").html('<i class="fa fa-home text-light">&nbsp;</i>'),$(r).find($v__fm__container_fluid+" .breadcrumb li:first-child").addClass("fm___root__"),__f___u(!1,!1,0,0),$($v__fm__container_fluid+' button[onclick="selectAll()"], '+$v__fm__container_fluid+' button[onclick="invertSelection()"]').click(function(){setTimeout(function(){__r____changed()},0);var e=$(this).attr("onclick");e&&e.includes("selectAll")&&select_all_entries()}),$(r).on("click.fm",$v__fm__container_fluid+' #headln2l > div.btn-group > a[href*="'+v___module_file_manager+'"][href*="index.cgi"]',function(e){e.preventDefault(),e.stopPropagation(),__f___b_dr(e)}).on("click.fm",$v__fm__container_fluid+" .breadcrumb li > a:not(.fa-keyboard-o), .breadcrumb li > a + span[data-tree] > a, .dropdown-menu.at-o__f_m-favorites-dropdown > li:not(.data-context-bookmarks) > a:not(.no_effect), .active table label > a.o__f_m-follow-file",function(e){e.preventDefault(),e.stopPropagation();var a="index.cgi?path=",t=0,_=$(e.target).find(".file-manager-add-bookmark, .file-manager-remove-bookmark").length;$(this).attr("href")&&$(this).attr("href").indexOf("/"+v___module_file_manager)===-1&&(a=$(this).attr("href")),"index.cgi?path=/"===a&&(a="index.cgi?path=");var n=a.indexOf("bookmark.cgi?")>-1;if(a&&n)return void(t=1);__f____r("get",a,!1,t,!1,void 0!==e.originalEvent),$($v__fm__container_fluid_form).find(".cspinner").remove(),!_&&$($v__fm__container_fluid+" .active i.fa-folder-btl").after('<span class="cspinner" style="margin-top: 1px; margin-left: 20px;"><span class="cspinner-icon smaller"></span></span>')}).on("click.fm",$v__fm__container_fluid+' li.o__f_m-button-copy:not(".disabled") a',function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clone"></i>'+theme_language("theme_xhred_filemanager_copying_selected")+" "+theme_language("theme_xhred_global_please_wait"),10,"info","copy_info"),__f____a("copy",!1)}).on("click.fm",$v__fm__container_fluid+' li.o__f_m-button-cut:not(".disabled") a',function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-scissors"></i>'+theme_language("theme_xhred_filemanager_cutting_selected")+" "+theme_language("theme_xhred_global_please_wait"),10,"warning","cut_warning"),__f____a("cut",!1)}).on("click.fm",$v__fm__container_fluid+' li.o__f_m-button-paste:not(".disabled") a',function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clipboard"></i>'+theme_language("theme_xhred_filemanager_pasting_selected")+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","paste_info"),__f____a("paste",!1)}).on("click.fm",$v__fm__container_fluid+' a[href^="extract.cgi"]',function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-file-archive-o"></i>'+theme_language("theme_xhred_filemanager_unpacking_archive")+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","extract_info"),__f____a("extract")}),$(r).find($v__fm__container_fluid+' #removeDialog button[type="button"][onclick="removeSelected()"]').removeAttr("onclick").addClass("_at_filemanager_delete_submit"),$(r).on("click.fm",$v__fm__container_fluid+" #removeDialog button._at_filemanager_delete_submit",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-trash-o"></i>'+theme_language("theme_xhred_filemanager_deleting_selected")+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","delete_info"),__f____a("delete",!1),theme_modal_dismiss()}),$($v__fm__container_fluid+" #removeDialog").on("show.bs.modal",function(){var e=$(this).find("#items-to-remove");if(e.empty(),select_all_entries("test")){var a=get_current_list_stats(),t=a[0],_=(a[1],theme_language("theme_xhred_filemanager_mass_selected_for_delete").replace("%1","<em><b>"+t+"</b></em>").replace("%2","<em><b>"+Convert.htmlEscape(Convert.uriDecodeComponent($($v__fm__container_fluid+" #path").val()))+"</b></em>")),n='<span class="text-warning">'+_+"</span>";e.html(n)}else $.each(_f__gr("checked"),function(){e.append(Convert.htmlEscape($(this).val())+"<br>")})}),$(r).find($v__fm__container_fluid+' #renameDialog button[type="button"][onclick="renameSelected()"]').removeAttr("onclick").addClass("_at_filemanager_rename_submit"),$(r).on("click.fm",$v__fm__container_fluid+" #renameDialog button._at_filemanager_rename_submit",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-i-cursor"></i>'+theme_language("theme_xhred_filemanager_renaming_selected")+" "+theme_language("theme_xhred_global_please_wait"),10,"info","rename_info"),__f____a("rename",!1)}).on("submit.fm",$v__fm__container_fluid+" #renameDialog",function(e){e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" #renameDialog button._at_filemanager_rename_submit").trigger("click")}),$($v__fm__container_fluid+" #renameDialog").on("shown.bs.modal",function(){var e=$(this).find('input[type="text"]');e.focus(),e.select()}),$($v__fm__container_fluid+" #renameDialog").on("show.bs.modal",function(e){$(this).find('input[type="text"]'),$(this).find("button._at_filemanager_rename_submit")}),$($v__fm__container_fluid+' #renameDialog input[type="text"]').on("keyup.fm change.fm click.fm input.fm",function(e){var a=$($v__fm__container_fluid+" #renameDialog").find("button._at_filemanager_rename_submit");$(this).val()?a.prop("disabled",!1):a.prop("disabled",!0)}),$(r).find($v__fm__container_fluid+' #createFolderDialog button[type="button"][onclick="createFolder()"]').removeAttr("onclick").addClass("_at_filemanager_create_folder_submit"),$(r).on("click.fm",$v__fm__container_fluid+" #createFolderDialog button._at_filemanager_create_folder_submit",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-folder"></i>'+theme_language("theme_xhred_filemanager_creating_directory")+" `<strong>"+Convert.htmlEscape($('#createFolderForm input[name="name"]').val())+"</strong>`. "+theme_language("theme_xhred_global_please_wait"),10,"info","create_folder_info"),__f____a("create_folder",!1)}).on("submit.fm",$v__fm__container_fluid+" #createFolderForm",function(e){e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" #createFolderDialog button._at_filemanager_create_folder_submit").trigger("click")}),$($v__fm__container_fluid+" #createFolderDialog").on("shown.bs.modal",function(){$(this).find('input[type="text"]').focus()}),$($v__fm__container_fluid+" #createFolderDialog").on("show.bs.modal",function(){var e=$(this).find('input[type="text"]'),a=$(this).find("button._at_filemanager_create_folder_submit");e.val(""),!e.val()&&a.prop("disabled",!0)}),$($v__fm__container_fluid+' #createFolderDialog input[type="text"]').on("keyup.fm change.fm click.fm input.fm",function(e){var a=$($v__fm__container_fluid+" #createFolderDialog").find("button._at_filemanager_create_folder_submit");$(this).val()?a.prop("disabled",!1):a.prop("disabled",!0)}),$(r).find($v__fm__container_fluid+' #createFileDialog button[type="button"][onclick="createFile()"]').removeAttr("onclick").addClass("_at_filemanager_create_file_submit"),$(r).on("click.fm",$v__fm__container_fluid+" #createFileDialog button._at_filemanager_create_file_submit",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-file"></i>'+theme_language("theme_xhred_filemanager_creating_file")+" `<strong>"+Convert.htmlEscape($('#createFileForm input[name="name"]').val())+"</strong>`. "+theme_language("theme_xhred_global_please_wait"),10,"info","create_file_info"),__f____a("create_file",!1)}).on("submit.fm",$v__fm__container_fluid+" #createFileForm",function(e){e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" #createFileDialog button._at_filemanager_create_file_submit").trigger("click")}),$($v__fm__container_fluid+" #createFileDialog").on("shown.bs.modal",function(){$(this).find('input[type="text"]').focus()}),$($v__fm__container_fluid+" #createFileDialog").on("show.bs.modal",function(){var e=$(this).find('input[type="text"]'),a=$(this).find("button._at_filemanager_create_file_submit");e.val(""),!e.val()&&a.prop("disabled",!0)}),$($v__fm__container_fluid+' #createFileDialog input[type="text"]').on("keyup.fm change.fm click.fm input.fm",function(e){var a=$($v__fm__container_fluid+" #createFileDialog").find("button._at_filemanager_create_file_submit");$(this).val()?a.prop("disabled",!1):a.prop("disabled",!0)}),$(r).find($v__fm__container_fluid+' #downFromUrlDialog button[type="button"][onclick="downFromUrl()"]').removeAttr("onclick").addClass("o__f_m-submitter-url_download"),$(r).on("click.fm",$v__fm__container_fluid+" #downFromUrlDialog button.o__f_m-submitter-url_download",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-download"></i>'+theme_language("theme_xhred_filemanager_downloading_from")+" <strong>"+URI(Convert.htmlEscape($('#downFromUrlForm input[name="link"]').val())).hostname()+"</strong>. "+theme_language("theme_xhred_global_please_wait"),1e6,"info","url_download_info"),__f____a("url_download",!1)}).on("submit.fm",$v__fm__container_fluid+" #downFromUrlForm",function(e){e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" #downFromUrlDialog button.o__f_m-submitter-url_download").trigger("click")}),$($v__fm__container_fluid+" #downFromUrlDialog").on("shown.bs.modal",function(){$(this).find('input[name="link"]').focus()}),$($v__fm__container_fluid+" #downFromUrlDialog").on("show.bs.modal",function(){var e=$(this).find('input[name="link"]'),a=$(this).find("button.o__f_m-submitter-url_download");!e.val()&&a.prop("disabled",!0)}),$($v__fm__container_fluid+' #downFromUrlDialog input[name="link"]').on("keyup.fm change.fm click.fm input.fm",function(e){var a=$($v__fm__container_fluid+" #downFromUrlDialog").find("button.o__f_m-submitter-url_download");$(this).val()?a.prop("disabled",!1):a.prop("disabled",!0)}),$($v__fm__container_fluid+" #readyForUploadDialog").on("show.bs.modal",function(){var e=URI.parseQuery(URI($($v__fm__container_fluid+" #upload-form").attr("action")).query()).id;$($v__fm__container_fluid+" #upload-form").attr("action","upload.cgi?path="+Convert.uriEncodeComponent($("#upload-form").find('input[name="path"]').val())+"&id="+e),$(this).find("#upload-form").get(0).reset(),countUploads($(this).find("#upfiles")[0]),$(this).find(".file-input-name").remove(),$(this).find('button[onclick="uploadFiles()"]').addClass("disabled").find(".cspinner").replaceWith('<i class="fa fa-fw fa-check-circle"></i>')}),$(r).on("click.fm",$v__fm__container_fluid+" #readyForUploadDialog [data-upload-reset]",function(){$("#upload-form").get(0).reset(),countUploads()}).on("submit.fm",$v__fm__container_fluid+" #upload-form",function(e){function a(e,a){var t=r.parent("div").prev(".modal-header").find('[data-dismiss-id="'+a+'"][data-dismiss="modal"]:visible');if(e)return t.length;t.trigger("click")}function t(e){i===e&&($____loader_block__manual=1,$($v__fm__container_fluid+" ."+$__f__rf_s).trigger("click"),$____loader_block__manual=0)}function _(e,_,n){l||(a(1)?(a(0,n),setTimeout(function(){t(e)},300)):t(e),l++)}e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();var n=parseInt(1e18*Math.random()),i=$($v__fm__container_fluid+" #path").val(),r=$(this),o=1,l=0;$(this).parents("#readyForUploadDialog").find('button[onclick="uploadFiles()"]').addClass("disabled").find(".fa").replaceWith(theme_spinner_small(!1,"white","width:12px; height:12px; margin-right: 3px; margin-left: 3px;")),r.parent("div").prev(".modal-header").find('[data-dismiss="modal"]:visible').attr("data-dismiss-id",n),window["progress_id_ref_"+n]=$.ajax({type:"POST",url:v___location_prefix+"/"+v___module_file_manager+"/upload.cgi?path="+i+"&id="+n,processData:!1,contentType:!1,data:new FormData(r[0]),complete:function(e){_($($v__fm__container_fluid+" #path").val(),1,n),a(0,n)},error:function(e){_($($v__fm__container_fluid+" #path").val(),2,n),a(0,n),$("[data-progress-id="+n+"] .bottom_progress_cancel").trigger("click")}}),theme_message_dismiss("upload_error");var s;window["progress_id_ref_"+n+"_tracker"]=$.ajax({xhr:function(){var e=new window.XMLHttpRequest;return e.addEventListener("progress",function(e){var _=e.target.responseText,i=regex.matches(_,/.file\.value\s+=\s+"(.*)";/g,0,1),r=regex.matches(_,/.size\.value\s+=\s+"(.*)";/g,0,1),l=regex.matches(_,/.pc\.value\s+=\s+"(.*)";/g,0,1);if(i&&r&&l){var l=parseInt((l.match(/|/g)||[]).length/50*100);if(l>100&&(l=100),progress_percent.control(n,"success",l,[i,r,l]),s||(s=i),s!=i){s=i;t($($v__fm__container_fluid+" #path").val())}o&&(a(0,n),o=0)}if(Test.strContains(_,v___page_signin_form))return v___available_session=0,window["progress_id_ref_"+n].abort(),void window["progress_id_ref_"+n+"_tracker"].abort()},!1),e},type:"GET",url:v___location_prefix+"/uptracker.cgi?id="+n+"&uid="+(0===get_access_level()||1===get_access_level()?"":get_server_data("user-id")),complete:function(){_($($v__fm__container_fluid+" #path").val(),2,n),a(0,n)}})}),$(r).find($v__fm__container_fluid+' #searchDialog button[type="button"][onclick="search()"]').removeAttr("onclick").addClass("_at_filemanager_search_submit"),$(r).on("click.fm",$v__fm__container_fluid+" #searchDialog button._at_filemanager_search_submit",function(e){e.preventDefault(),e.stopPropagation(),__f____a("search",!1)}).on("submit.fm",$v__fm__container_fluid+" #searchForm",function(e){e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" #searchDialog button._at_filemanager_search_submit").trigger("click")}),$($v__fm__container_fluid+" #searchDialog").on("shown.bs.modal",function(){$(this).find('input[name="query"]')}).on("show.bs.modal",function(){$($v__fm__container_fluid+' #searchDialog input[name="query"]').trigger("keyup"),$($v__fm__container_fluid+' input[name="grepreplace"]').prop("disabled",!0).val(""),$($v__fm__container_fluid+" ._at_filemanager_search_submit").text(theme_language("theme_xhred_global_find")).removeClass("btn-warning").addClass("btn-primary")}).on("keyup.fm",'input[name="query"]',function(){$(this).val().length?$($v__fm__container_fluid+' input[name="grepstring"], '+$v__fm__container_fluid+' input[name="grepreplace"]').removeAttr("disabled"):$($v__fm__container_fluid+' input[name="grepstring"], '+$v__fm__container_fluid+' input[name="grepreplace"]').prop("disabled",!0),
$($v__fm__container_fluid+' #searchDialog input[name="grepstring"]').trigger("keyup")}).on("keyup.fm",'input[name="grepstring"]',function(){$(this).val().length?$($v__fm__container_fluid+' input[name="grepreplace"]').removeAttr("disabled"):$($v__fm__container_fluid+' input[name="grepreplace"]').prop("disabled",!0)}).on("keyup.fm",'input[name="grepreplace"]',function(){$.trim($(this).val()).length?$($v__fm__container_fluid+" ._at_filemanager_search_submit").text(theme_language("theme_xhred_global_replace")).removeClass("btn-primary").addClass("btn-warning"):$($v__fm__container_fluid+" ._at_filemanager_search_submit").text(theme_language("theme_xhred_global_find")).removeClass("btn-warning").addClass("btn-primary")}),$($v__fm__container_fluid+" #searchDialog").on("show.bs.modal",function(){var e=$(this).find('input[type="text"]'),a=$(this).find("button._at_filemanager_search_submit");!e.val()&&a.prop("disabled",!0)}),$(r).on("click.fm",$v__fm__container_fluid+" .__o__f_m-search-results-data",function(e){var e=$($v__fm__container_fluid+" #path").val();__f____r("get","index.cgi?path="+(e?Convert.uriEncodeComponent(e):"")+"&flush_reset=1",!1,0),theme_message_dismiss("search_preMe"),theme_message_dismiss("search_error")}),$($v__fm__container_fluid+' #searchDialog input[type="text"]').on("keyup.fm change.fm click.fm input.fm",function(e){var a=$($v__fm__container_fluid+" #searchDialog").find("button._at_filemanager_search_submit");$(this).val()?a.prop("disabled",!1):a.prop("disabled",!0)}),$(r).on("click.fm",$v__fm__container_fluid+' a[href^="bookmark.cgi"]',function(e){e.preventDefault(),e.stopPropagation();var a=$(this).attr("href");"bookmark.cgi?path="===a&&(a+="/"),__f____a("bookmark",a)}),$('body .container-fluid #chmodDialog button[onclick="chmodSelected()"]').removeAttr("onclick").addClass("o__f_m-submitter-chmod"),$(r).on("click.fm",$v__fm__container_fluid+" #chmodDialog button.o__f_m-submitter-chmod",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-user"></i>'+theme_language("theme_xhred_filemanager_setting_permissions").replace("%value",Convert.htmlEscape($("#perms").val()))+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","chmod_info"),__f____a("chmod",[$("#perms").val(),$('#chmodForm select[name="applyto"] option:selected').val()])}),$($v__fm__container_fluid+" #chmodDialog").on("shown.bs.modal",function(){var e=$($v__fm__container_fluid+' #chmodDialog input[id="perms"]'),a=$($v__fm__container_fluid+" th span[data-head-permissions]").parent().index();if(a>1){var t=$v__fm__global_last_row.find("td:nth-child("+(a+1)+")").text();1===__f__cnt___selected()&&e.val(t).trigger("keyup")}}),$($v__fm__container_fluid+" #chmodDialog").on("hidden.bs.modal",function(){$($v__fm__container_fluid+' #chmodDialog input[id="perms"]').val("").keyup()}),$('body .container-fluid #chownDialog button[onclick="chownSelected()"]').removeAttr("onclick").addClass("o__f_m-submitter-chown"),$(r).on("click.fm",$v__fm__container_fluid+" #chownDialog button.o__f_m-submitter-chown",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-users"></i>'+theme_language("theme_xhred_filemanager_changing_ownership").replace("%value",Convert.htmlEscape($('#chownForm input[name="owner"]').val())+":"+Convert.htmlEscape($('#chownForm input[name="group"]').val()))+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","chown_info"),__f____a("chown",[$('#chownForm input[name="owner"]').val(),$('#chownForm input[name="group"]').val(),$('#chownForm input[name="recursive"]').prop("checked")])}),$($v__fm__container_fluid+" #chownDialog").on("shown.bs.modal",function(){var e=$($v__fm__container_fluid+' #chownDialog input[name="owner"]'),a=$($v__fm__container_fluid+' #chownDialog input[name="group"]'),t=$v__fm__global_last_row.find("td.col-ownership").text();if(t){var _=t.split(":");_[0]&&e.val(_[0]),_[1]&&a.val(_[1])}}),$($v__fm__container_fluid+" #chownDialog").on("show.bs.modal",function(){$(this).find("button.o__f_m-submitter-chown").prop("disabled",!0)}),$($v__fm__container_fluid+' #chownDialog input[name="owner"], '+$v__fm__container_fluid+' #chownDialog input[name="group"]').on("keyup.fm change.fm click.fm input.fm",function(e){var a=$($v__fm__container_fluid+" #chownDialog").find("button.o__f_m-submitter-chown");$($v__fm__container_fluid+' #chownDialog input[name="owner"]').val()&&$($v__fm__container_fluid+' #chownDialog input[name="group"]').val()?a.prop("disabled",!1):a.prop("disabled",!0)}),$($v__fm__container_fluid+' #chownDialog input[name="owner"], '+$v__fm__container_fluid+' #chownDialog input[name="group"]').on("keyup.fm",function(e){e.preventDefault(),13==e.which&&$($v__fm__container_fluid+" #chownDialog button.o__f_m-submitter-chown").trigger("click")}),$($v__fm__container_fluid+" #chownDialog").on("show.bs.modal",function(){$($v__fm__container_fluid+' #chownDialog input[name="owner"], '+$v__fm__container_fluid+' #chownDialog input[name="group"]').val(""),$($v__fm__container_fluid+' #chownDialog input[name="recursive"]').removeAttr("checked")}),$('body .container-fluid #chattrDialog button[onclick="chattrSelected()"]').removeAttr("onclick").addClass("o__f_m-submitter-chattr"),$(r).on("click.fm",$v__fm__container_fluid+" #chattrDialog button.o__f_m-submitter-chattr",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-tags"></i>'+theme_language("theme_xhred_filemanager_changing_attributes").replace("%value",Convert.htmlEscape($('#chattrForm input[name="label"]').val()))+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","chattr_info"),__f____a("chattr",[$('#chattrForm input[name="label"]').val(),$('#chattrForm input[name="recursive"]').prop("checked")])}),$($v__fm__container_fluid+" #chattrDialog").on("show.bs.modal",function(){$(this).find("button.o__f_m-submitter-chattr").prop("disabled",!0)}),$($v__fm__container_fluid+' #chattrDialog input[name="label"]').on("keyup.fm change.fm click.fm input.fm",function(e){var a=$($v__fm__container_fluid+" #chattrDialog").find("button.o__f_m-submitter-chattr");$($v__fm__container_fluid+' #chattrDialog input[name="label"]').val()?a.prop("disabled",!1):a.prop("disabled",!0)}),$($v__fm__container_fluid+' #chattrDialog input[name="label"]').on("keyup.fm",function(e){e.preventDefault(),13==e.which&&$($v__fm__container_fluid+" #chattrDialog button.o__f_m-submitter-chattr").trigger("click")}),$($v__fm__container_fluid+" #chattrDialog").on("show.bs.modal",function(){$($v__fm__container_fluid+' #chattrDialog input[name="label"]').val(""),$($v__fm__container_fluid+' #chattrForm input[name="recursive"]').removeAttr("checked")}),$('body .container-fluid #chconDialog button[onclick="chconSelected()"]').removeAttr("onclick").addClass("o__f_m-submitter-chcon"),$(r).on("click.fm",$v__fm__container_fluid+" #chconDialog button.o__f_m-submitter-chcon",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-tags"></i>'+theme_language("theme_xhred_filemanager_changing_secontext").replace("%value",Convert.htmlEscape($('#chconForm input[name="label"]').val()))+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","chcon_info"),__f____a("chcon",[$($v__fm__container_fluid+' #chconForm input[name="label"]').val(),$($v__fm__container_fluid+' #chconForm input[name="recursive"]').prop("checked")])}),$($v__fm__container_fluid+" #chconDialog").on("shown.bs.modal",function(){var e=$($v__fm__container_fluid+' #chconDialog input[name="label"]'),a=$v__fm__global_last_row.find("td.col-selinux").text();a&&e.val(a)}),$($v__fm__container_fluid+" #chconDialog").on("show.bs.modal",function(){$(this).find("button.o__f_m-submitter-chcon").prop("disabled",!0);var e={};$.unique($($v__fm__container_fluid+" tr td span[data-secontext]").map(function(){e[$(this).text()]=$(this).text()}).get());var a=$.map(e,function(e,a){if("undefined"!=a)return{value:e,url:a,data:{category:0}}});"function"==typeof $().autocomplete&&function(e){$($v__fm__container_fluid+' #chconDialog input[name="label"]').autocomplete({lookup:a,onSelect:function(e){},showNoSuggestionNotice:!0,noSuggestionNotice:theme_language("theme_xhred_global_no_results_found")})}()}),$($v__fm__container_fluid+' #chconDialog input[name="label"]').on("keyup.fm change.fm click.fm input.fm",function(e){var a=$($v__fm__container_fluid+" #chconDialog").find("button.o__f_m-submitter-chcon");$('#chconDialog input[name="label"]').val()?a.prop("disabled",!1):a.prop("disabled",!0)}),$($v__fm__container_fluid+' #chconDialog input[name="label"]').on("keydown.fm",function(e){13!=e.which||$(".autocomplete-suggestions:visible").length||$($v__fm__container_fluid+" #chconDialog button.o__f_m-submitter-chcon").trigger("click")}),$($v__fm__container_fluid+" #chconDialog").on("show.bs.modal",function(){$($v__fm__container_fluid+' #chconDialog input[name="label"]').val(""),$($v__fm__container_fluid+' #chconForm input[name="recursive"]').removeAttr("checked")}),$('body .container-fluid #compressDialog button[onclick="compressSelected()"]').removeAttr("onclick").addClass("o__f_m-submitter-compress").prop("disabled",!0),$(r).on("click.fm",$v__fm__container_fluid+" #compressDialog button.o__f_m-submitter-compress",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-file-archive-o"></i>'+theme_language("theme_xhred_filemanager_compressing_selected")+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","compress_info",0);var a=$("#compressSelectedForm");__f____a("compress",[Convert.htmlEscape(a.find('input[name="filename"]').val()),a.find('select[name="method"] option:selected').val(),a.find('input[name="arcmove"]').is(":checked"),a.find('input[name="arcencr"]').is(":checked"),a.find('input[name="arcencr_val"]').val(),a.find('select[name="arkkey"] option:selected').val(),a.find('input[name="arcencr_pass"]').val(),a.find('select[name="arkkey"]').data("gpgpath")])}),$($v__fm__container_fluid+' #compressDialog input[name="filename"]').on("keyup.fm change.fm click.fm input.fm",function(e){var a=$("#compressDialog").find("button.o__f_m-submitter-compress");$(this).val()?a.prop("disabled",!1):a.prop("disabled",!0)}),$(r).on("submit.fm",$v__fm__container_fluid+" #compressSelectedForm",function(e){e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" #compressDialog button.o__f_m-submitter-compress").trigger("click")}),$($v__fm__container_fluid+" #compressDialog").on("show.bs.modal",function(){$($v__fm__container_fluid+' #compressDialog input[name="filename"]').val("");var e=$($v__fm__container_fluid+' #compressDialog input[name="arcencr"]');$($v__fm__container_fluid+' #compressDialog input[name="arcmove"]')[0].checked=!1,e.is(":checked")&&e.trigger("change")}).on("shown.bs.modal",function(){$($v__fm__container_fluid+' select[name="method"] option[value="zip"]').prop("disabled",!1),"zip"==$($v__fm__container_fluid+' select[name="method"]').val()&&t()}),$($v__fm__container_fluid+' select[name="method"]').change(function(e){"zip"==$(this).val()&&t();var a=$(this).parents(".modal").find('[name="arcencr"]');a[0].checked=!1,a.trigger("change")}),$(r).on("click.fm",$v__fm__container_fluid+" .dropdown-menu > li.disabled",function(e){e.preventDefault(),e.stopPropagation()}),"index.cgi"!==v___location_file||URI(v___location).hasQuery("path")||$($v__fm__container_fluid+" #headln2l").find('a[href*="'+v___module_file_manager+'"][href*="index.cgi"]').addClass("hidden"),$($v__fm__container_fluid+" .btn-group.pull-right > button:eq(2)").removeAttr("onclick"),$(r).on("click.fm",$v__fm__container_fluid+" .btn-group.pull-right > button:eq(2)",function(e){var a=$($v__fm__container_fluid+" #path").val();__f____r("get","index.cgi?path="+(a?Convert.uriEncodeComponent(a):""),!1,0),0===$____loader_block__&&0===$____loader_block__manual&&plugins.messenger.post('<i class="fa fa-lg fa-fw '+$__f__rf_s+'"></i>'+theme_language("theme_xhred_filemanager_refreshing")+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","refreshDir_info")}),setTimeout(function(){1!=config_portable_module_filemanager_hovered_toolbar&&$($v__fm__container_fluid+" .btn-group.pull-right > .btn-group > button").hover(function(e){e.preventDefault(),e.stopPropagation()})},100),$(r).on("click.fm",$v__fm__container_fluid+" .btn-group.pull-right > button:eq(0), "+$v__fm__container_fluid+" .btn-group.pull-right > button:eq(1), "+$v__fm__container_fluid+" input",function(){0!==$($v__fm__container_fluid+" .active table tbody input:checked").length?setTimeout(__f___ub,100):setTimeout(__f___lb,100)}),$($v__fm__container_fluid+" .o__f_m-button-chmod a").html('<i class="fa fa-fw fa-cogs" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chmod")),$($v__fm__container_fluid+" #chmodDialog .modal-header h4").html('<i class="fa fa-fw fa-cogs" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chmod")),$($v__fm__container_fluid+" .o__f_m-button-chown a").html('<i class="fa fa-fw fa-users" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chown")),$($v__fm__container_fluid+" #chownDialog .modal-header h4").html('<i class="fa fa-fw fa-users" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chown")),$($v__fm__container_fluid+" .o__f_m-button-chattr a").html('<i class="fa fa-fw fa-tags" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chattr")),$($v__fm__container_fluid+" #chattrDialog .modal-header h4").html('<i class="fa fa-fw fa-tags" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chattr")),$($v__fm__container_fluid+" .o__f_m-button-chcon a").html('<i class="fa fa-fw fa-shield" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chcon")),$($v__fm__container_fluid+" #chconDialog .modal-header h4").html('<i class="fa fa-fw fa-shield" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chcon")),$($v__fm__container_fluid+" .o__f_m-button-compress a").html('<i class="fa fa-fw fa-file-archive-o" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newarchive")),$($v__fm__container_fluid+" #compressDialog .modal-header h4").html('<i class="fa fa-fw fa-file-archive-o" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newarchive")),$($v__fm__container_fluid+" #searchDialog .modal-header h4").html('<i class="fa fa-fw fa-search" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_search")),$($v__fm__container_fluid+" .o__f_m-button-copy a").html('<i class="fa fa-fw fa-files-o" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_copy")),$($v__fm__container_fluid+" .o__f_m-button-cut a").html('<i class="fa fa-fw fa-scissors" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_cut")),$($v__fm__container_fluid+' .btn-group .btn-group a[onclick="createFileDialog()"]').html('<i class="fa fa-fw fa-file-o" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newfile")),$($v__fm__container_fluid+" #createFileDialog .modal-header h4").html('<i class="fa fa-fw fa-file-o" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newfile")),$($v__fm__container_fluid+' .btn-group .btn-group a[onclick="createFolderDialog()"]').parent("li").addClass("_createFolderDialog_"),$($v__fm__container_fluid+' .btn-group .btn-group a[onclick="createFolderDialog()"]').html('<i class="fa fa-fw fa-folder-o" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newfoder")),$($v__fm__container_fluid+" #createFolderDialog .modal-header h4").html('<i class="fa fa-fw fa-folder-o" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newfoder")),$($v__fm__container_fluid+' .btn-group .btn-group a[onclick="viewReadyForUpload()"]').html('<i class="fa fa-fw fa-upload" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_upload")),$($v__fm__container_fluid+" #readyForUploadDialog .modal-header h4").html('<i class="fa fa-fw fa-upload" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_upload")),$($v__fm__container_fluid+' .btn-group .btn-group a[onclick="downFromUrlDialog()"]').html('<i class="fa fa-fw fa-download" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_download")),$($v__fm__container_fluid+" #downFromUrlDialog .modal-header h4").html('<i class="fa fa-fw fa-download" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_download")),$($v__fm__container_fluid+" #renameDialog .modal-header h4").prepend('<i class="fa fa-fw fa-i-cursor" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'),$($v__fm__container_fluid+' .btn-group .btn-group a[onclick="downFromUrlDialog()"] i').removeClass("fa-globe").addClass("fa-download"),$($v__fm__container_fluid+" #removeDialog .modal-header h4").html('<i class="fa fa-fw fa-trash-o" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_delete_selected")),$($v__fm__container_fluid+" .o__f_m-button-compress").detach().insertAfter("._createFolderDialog_");var p='<br><br><div class="form-inline"><div class="form-group"><span class="awcheckbox awobject awobjectm"><input id="arcmove" name="arcmove" type="checkbox" class="iawobject" value="3"><label class="lawobject font-weight-normal" for="arcmove">'+theme_language("theme_xhred_filemanager_archive_move_to")+'&nbsp;&nbsp;&nbsp;</label></span><span class="awcheckbox awobject awobjectm encrypt"><input id="arcencr" name="arcencr" type="checkbox" class="iawobject" value="4"><label class="lawobject font-weight-normal" for="arcencr">'+theme_language("theme_xhred_global_encrypt")+'</label></span><input placeholder="'+theme_language("theme_xhred_login_pass")+'" name="arcencr_val" type="password" class="form-control heighter-28" size="15"></div></div>';$($v__fm__container_fluid+" #compressDialog").find('select[name="method"]').addClass("form-control heighter-28").after(p);var u=$v__fm__container_fluid+' input[name="arcencr_val"]',g=theme_spinner_small("hidden vertical-align-inherit loader-arkkey"," dark smallest"),h=$v__fm__container_fluid+' select[name="method"]',v=$v__fm__container_fluid+" .loader-arkkey",b=$v__fm__container_fluid+' select[name="arkkey"]',x=(theme_language("theme_xhred_login_passphrase"),$v__fm__container_fluid+' input[name="arcencr_pass"]');$(u).password({usernamePartialMatch:!1,showText:!1,minimumLength:3,animateSpeed:0}),$input_arcencr_wrap=$(u).parents(".pass-wrapper-cont"),$input_arcencr_wrap.addClass("invisible"),$input_arcencr_wrap.before(g+'<select class="invisible invisible-force" name="arkkey"></select>'),$($v__fm__container_fluid+" #arcencr").on("change",function(e){var a=$(b);this.checked?"tar"===$(h).val()?($(v).removeClass("hidden"),$input_arcencr_wrap.addClass("invisible").addClass("hidden"),a.add(x).removeClass("invisible hidden"),w()):($input_arcencr_wrap.removeClass("invisible").removeClass("hidden"),a.add(x).addClass("invisible hidden")):($input_arcencr_wrap.addClass("invisible").removeClass("hidden"),a.add(x).addClass("invisible hidden"))});var w=function(e){var a=$($v__fm__container_fluid+' select[name="arkkey"]'),t=$v__fm__container_fluid+' input[name="arcencr_pass"]';a.css("width",0).addClass("invisible"),$($v__fm__container_fluid+" .loader-arkkey").removeClass("hidden"),$.ajax({type:"POST",url:v___location_prefix+"/index.cgi/?xhr-get_gpg_keys=1&xhr-get_gpg_keys_all="+(vars.events.keypressed.alt?1:0)+__f___um(),data:!1,dataType:"json",success:function(_){$($v__fm__container_fluid+" .loader-arkkey").addClass("hidden");var n=_.public,i=_.gpgpath;if($new_ark_key_sel=$('<select name="arkkey"></select>').addClass("form-control heighter-28").data("gpgpath",i),are_there_keys=0,$.each(n,function(e,a){$new_ark_key_sel.append('<option value="'+e+'">'+a+"</option>"),are_there_keys++}),are_there_keys)$new_ark_key_sel.prepend('<option class="text-muted" value="" disabled selected>'+theme_language("theme_xhred_filemanager_gpg_select_the_key")+"</option>");else{var r=localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_usermode");r||(r=get_server_data("user")),$new_ark_key_sel.prepend('<option  class="text-muted" value="" disabled selected>'+theme_language("theme_xhred_filemanager_archive_gpg_no_keys")+" ["+r+"]</option>")}var o=a.parents(".modal-body");modal_body_outerWidth=parseInt(o.outerWidth()),$parents_form_inline=o.find(".form-inline"),$cbs=$parents_form_inline.find(".awcheckbox"),$move_to_arch_cb=$cbs[0],$encr_cb=$cbs[1],move_to_arch_cb_outerWidth=parseInt($($move_to_arch_cb).outerWidth()),encr_cb_outerWidth=parseInt($($encr_cb).outerWidth());var l=parseInt(modal_body_outerWidth-move_to_arch_cb_outerWidth-encr_cb_outerWidth-48);e&&(l/=2),$(t).css("width",l),$new_ark_key_sel.css("width",l);var s=a.val();$new_ark_key_sel.find('option[value="'+s+'"]').length&&$new_ark_key_sel.val(a.val()),a.replaceWith($new_ark_key_sel)},error:function(e){get_login_required(e)}})},y='<li class="o__f_m-button-symlink disabled"><a class="no_effect" style="padding-left: 12px;"><i class="fa fa-fw fa-sms fa-file-symlink margined-right--1 margined-left--1" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_symlink")+"</a></li>";$($v__fm__container_fluid+" .btn-group ._createFolderDialog_").parent("ul").prepend(y),$($v__fm__container_fluid+" .btn-group .o__f_m-button-symlink").on("click",function(){if(!$(this).hasClass("disabled")){var e=__f__cnt___selected();e&&e.length;if(1===__f__cnt___selected()){__f___new_symlink($($v__fm__container_fluid+" #path").val(),e.find("td a[data-filemin-link]").attr("data-filemin-link"))}}}),config_portable_module_filemanager_hide_toolbar&&($($v__fm__container_fluid+" .btn-group.pull-right").addClass("hidden"),$($v__fm__container_fluid+" .breadcrumb.pull-left").removeClass("pull-left").addClass("pull-right").css("margin-bottom","-20px"),$($v__fm__container_fluid+" .o__f_m-main-spinner").css({"margin-top":"40px","margin-left":"170px"}));var d='.breadcrumb:visible [data-toggle="popover-path"]';$(r).on("inserted.bs.popover",d,function(){$(".popover-path-input").parents(".popover").addClass("popover-path-data")}).on("shown.bs.popover",d,function(){$(".popover-path-input").val(Convert.uriDecodeComponent($($v__fm__container_fluid+" #path").val())),$(".popover-path-input").focus(),$(".popover-path-input").keydown(function(e){13==(e.keyCode?e.keyCode:e.which)&&(block_events(),$(".breadcrumb").append('<li class="hidden popover-path-input-value"><a href="index.cgi?path='+Convert.uriEncodeComponent($(this).val())+'"></a></li>'),$(".popover-path-button").find("i").addClass("invisible").parent().find(".cspinner").removeClass("hidden"),$(".popover-path-input-value").find("a").trigger("click").remove(),$('[data-toggle="popover-path"]').popover("hide"),__f__ld__sh())}),$(".popover-path-data").css({opacity:1})});var d=$v__fm__container_fluid+' [data-toggle="popover-path"]';$(r).on("hide.bs.popover",d,function(){$($v__fm__container_fluid+" .popover-path-data").css("opacity",0)}).on("click.fm",$v__fm__container_fluid+" .popover-path-button",function(){var e=jQuery.Event("keydown");e.which=13,$($v__fm__container_fluid+" .popover-path-input").trigger(e)}).on("contextmenu.fm",$v__fm__container_fluid+" .breadcrumb",function(e){e.preventDefault(),$(".__o__f_m-search-results-data:visible").length||$($v__fm__container_fluid+' [data-toggle="popover-path"]').popover("show")}),$($v__fm__container_fluid+" #nothingSelected").remove(),$($v__fm__container_fluid+" .active ul.pagination li:first-child").trigger("click")}page.render.content.filter.init(),$($v__fm__container_fluid+' .modal-content input:not([type="radio"], '+$v__fm__container_fluid+' [type="checkbox"], '+$v__fm__container_fluid+' [type="hidden"])').addClass("heighter-28"),setTimeout(function(){page.render.content.filter.clear()},10),$(r).on("click.fm",$v__fm__container_fluid+" .active .ui_checked_columns",function(e){var a=e.keyCode?e.keyCode:e.which;if(!check_selected_text()&&1===a){var t=$(e.target).parents("tr");if(!$(e.target).is(":checkbox")&&!$(e.target).is(".lawobject")){var _=$($v__fm__container_fluid+" #path").val();return goup=t.hasClass("directory_go_up"),link=t.find('td a[href*="index.cgi?path="]').attr("href"),link_escaped=t.find("td a[data-filemin-link]").attr("data-filemin-link"),download=t.find('td a[href*="download.cgi?"]').attr("href"),td_tag=$(e.target).is("td"),goup&&__f___b_dr(e),download&&!td_tag?(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),void $(e.target).parents("tr").find('td.ui_checked_checkbox input[type="checkbox"]').trigger("click")):(e.preventDefault(),link?void __f___o_dr($(this),_,link_escaped,void 0!==e.originalEvent):td_tag?void $(e.target).parents("tr").find('td.ui_checked_checkbox input[type="checkbox"]').trigger("click"):void 0)}}}),$(r).on("keydown.fm",function(e){var a=e.keyCode?e.keyCode:e.which;if(!($("aside input").is(":focus")||plugins.shell.status()||$("input.popover-path-input").is(":focus")||$($v__fm__container_fluid+" input.dataTable-mirror").is(":focus")&&13!=a&&40!=a||$($v__fm__container_fluid+' textarea[name="bookmarks"]').is(":focus")||$(".bootbox.modal").length||document.querySelector(".pswp"))){if(13===a&&$(e.target).is('input[name="passphrase"]'))return e.preventDefault(),void $('input[name="passphrase"]').parents("#encryptDecrypt").find(".o__f_m-submitter-decrypt_encrypt").trigger("click");if($("#__f__c__m").is(":visible")&&27==a)return void $("#__f__c__m").css("display","none");if(!$("#__f__c__m").is(":visible")){var t=$(":focus").is(".jsPanel")||$(":focus").parents(".jsPanel").is(".jsPanel")||$(".modal.in").length?0:1,_=$(".cke_dialog_background_cover:visible").length||$(".tree-view-filter input").is(":focus");if("r"==String.fromCharCode(a).toLowerCase()&&e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){if(e.preventDefault(),!t||_)return;return __f__refresh__dir_and_tree(),void plugins.messenger.post('<i class="fa fa-lg fa-fw '+$__f__rf_s+'"></i>'+theme_language("theme_xhred_filemanager_refreshing")+" "+theme_language("theme_xhred_global_please_wait"),3600,"info","refreshDir_info")}if(!($($v__fm__container_fluid+" input.popover-path-input").is(":focus")||$(".popover:visible").length||_)&&t||(13==a||e.ctrlKey||e.shiftKey)&&!_){if(t){if(32==a&&e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),e.shiftKey?$($v__fm__container_fluid+" .nav.nav-tabs").find("li.active").find("a").find("i").trigger("click"):$("#file-manager-new-instance:not(.disabled_no_styling)").trigger("click")),(37==a||39==a)&&e.ctrlKey)return e.preventDefault(),e.stopPropagation(),void(37==a?$($v__fm__container_fluid+" .nav.nav-tabs").find("li.active").prev("li").find("a").trigger("click"):$($v__fm__container_fluid+" .nav.nav-tabs").find("li.active").next("li").find("a").trigger("click"));if((49==a||50==a||51==a||52==a||53==a||54==a||55==a||56==a||57==a)&&e.ctrlKey){var n=a-48;return e.preventDefault(),e.stopPropagation(),void $.each($($v__fm__container_fluid+" .nav.nav-tabs").find("li"),function(e,a){if(e+1==n)return void $(this).find("a").trigger("click")})}}if((120==a||121==a)&&!e.ctrlKey&&!e.shiftKey&&t){if(120==a)return void $($v__fm__container_fluid+' a[onclick="downFromUrlDialog()"]').trigger("click");if(121==a)return void $($v__fm__container_fluid+' a[onclick="viewReadyForUpload()"]').trigger("click")}if("l"==String.fromCharCode(a).toLowerCase()&&e.shiftKey&&!e.altKey&&!e.metaKey&&e.ctrlKey&&t)return e.preventDefault(),e.stopPropagation(),void $($v__fm__container_fluid+" ."+f).trigger("click");if(!$($v__fm__container_fluid+" input.popover-path-input").is(":focus")&&"l"==String.fromCharCode(a).toLowerCase()&&!e.shiftKey&&!e.altKey&&!e.metaKey&&e.ctrlKey&&t){e.preventDefault(),e.stopPropagation();var o=$($v__fm__container_fluid+' #headln2r > div.btn-group > a[href^="config.cgi"]');return void(Test.scrolledIntoView(o)?$('[data-toggle="popover-path"]').popover("show"):o.scrollIntoView({duration:200,direction:"vertical",complete:function(){$($v__fm__container_fluid+' [data-toggle="popover-path"]').popover("show")}}))}if(93==a&&t)return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid_form+" table tbody tr.m-active").length||$($v__fm__container_fluid_form+" table tbody tr:first-child:not(.directory_go_up)").addClass("m-active"),void $($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child input").trigger("contextmenu");if(!$(":focus").parents(".jsPanel").is(".jsPanel"))if(13!=a||1!==$($v__fm__container_fluid_form+" table tbody tr.m-active").length||$(".modal.in").length){if($($v__fm__container_fluid_modal_in).length||!e.ctrlKey||"c"!=String.fromCharCode(a).toLowerCase()&&"v"!=String.fromCharCode(a).toLowerCase()&&"x"!=String.fromCharCode(a).toLowerCase()||0!==$($v__fm__container_fluid_form+" table tbody tr td:first-child").find("input:checked").length||1!==$($v__fm__container_fluid_form+" table tbody tr.m-active").length||!e.ctrlKey||"c"!=String.fromCharCode(a).toLowerCase()&&"v"!=String.fromCharCode(a).toLowerCase()&&"x"!=String.fromCharCode(a).toLowerCase()||$($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child input").trigger("click"),13==a&&$($v__fm__container_fluid_modal_in).length&&(e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_delete_submit").length?$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_delete_submit").trigger("click"):$($v__fm__container_fluid_modal_in+" .modal-footer button.o__f_m-submitter-chmod").length?$($v__fm__container_fluid_modal_in+" .modal-footer button.o__f_m-submitter-chmod").trigger("click"):$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_create_folder_submit").length?$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_create_folder_submit").trigger("click"):$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_create_file_submit").length?$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_create_file_submit").trigger("click"):$($v__fm__container_fluid_modal_in+" .modal-footer button.o__f_m-submitter-compress").length?$($v__fm__container_fluid_modal_in+" .modal-footer button.o__f_m-submitter-compress").trigger("click"):$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_rename_submit").length?$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_rename_submit").trigger("click"):$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_search_submit").length&&$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_search_submit").trigger("click")),13==a&&1===$($v__fm__container_fluid_form+" table tbody tr:not(.directory_go_up)").length&&!_&&t){var l=$($v__fm__container_fluid+' .active form table tbody tr td a[href*="index.cgi?path="]'),s=$($v__fm__container_fluid+" #path").val();return link_escaped=l.last().attr("data-filemin-link"),void __f___o_dr(l,s,link_escaped)}if(13!=a&&(32!=a||e.shiftKey||$($v__fm__container_fluid_form+" table tbody tr.m-active").length)){
if((46==a||113==a||114==a||115==a||116==a||117==a||119==a)&&!__f__cnt___selected()&&!$($v__fm__container_fluid+" .ui_checked_columns input:checked").length&&!$($v__fm__container_fluid_modal_in).length&&!$($v__fm__container_fluid+" .popover").is(":visible")&&!$($v__fm__container_fluid+" input").is(":focus")&&!$($v__fm__container_fluid_form+" table tbody tr.m-active").length&&(!e.shiftKey||116==a&&e.shiftKey||115==a&&!e.shiftKey)){if(e.preventDefault(),e.stopPropagation(),quirks.active_element()&&$(quirks.active_element()).is('a[href^="edit_file.cgi"]'))return;return void plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-circle"></i>'+theme_language("theme_xhred_filemanager_nothing_is_selected"),.75,"warning","noSelection_warning")}var d=$($v__fm__container_fluid_form+" table tbody tr.m-active"),c=(d.index(),d.index());if(!(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||$("#__f__c__m").is(":visible"))){if(33!=a&&34!=a&&$($v__fm__container_fluid_form+" table tbody tr.m-active").length&&(e.preventDefault(),e.stopPropagation(),d.removeClass("m-active")),"undefined"!=typeof ___contextmenu__triggered___)return;38!=a||$($v__fm__container_fluid_modal_in).length||($($v__fm__container_fluid+" .dataTable-mirror").is(":focus")&&(d.removeClass("m-active"),$.each($($v__fm__container_fluid+" input"),function(){$(this).blur()})),c--,$($v__fm__container_fluid+" .dataTables_filter label input").blur(),$($v__fm__container_fluid_form+" table tbody tr").addClass("m-not-active")),40!=a||$($v__fm__container_fluid_modal_in).length||($($v__fm__container_fluid+" .dataTable-mirror").is(":focus")&&(d.removeClass("m-active"),$.each($($v__fm__container_fluid+" input"),function(){$(this).blur()})),c++,$($v__fm__container_fluid+" .dataTables_filter label input").blur(),$($v__fm__container_fluid_form+" table tbody tr").addClass("m-not-active"))}38!=a&&40!=a&&32!=a&&13!=a&&46!=a&&119!=a&&117!=a&&115!=a&&116!=a&&113!=a&&114!=a||$(".modal.in").length||(d=!$($v__fm__container_fluid_form+" table tbody tr").find(".dataTables_empty").length&&$($v__fm__container_fluid_form+" table tbody tr").eq(c).addClass("m-active m-not-active"));var m=$($v__fm__container_fluid_form+" table tbody tr.m-active");if($v__fm__global_last_row=m,27==a)return e.preventDefault(),e.stopPropagation(),void $($v__fm__container_fluid_modal_in+' button[data-dismiss="modal"]').trigger("click");if(35==a&&!$("input").is(":focus")&&!$(".modal.in").length)return e.preventDefault(),e.stopPropagation(),void(d=$($v__fm__container_fluid_form+" table tbody tr").eq(parseInt($($v__fm__container_fluid_form+" table tbody tr").length)-1).addClass("m-active m-not-active"));if(36==a&&!$("input").is(":focus")&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),void(d=$($v__fm__container_fluid_form+" table tbody tr").eq(0).addClass("m-active m-not-active"));if(13==a&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" .dataTables_filter label input").blur(),void $($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child").trigger("click");if(!(8!=a||$($v__fm__container_fluid+" .o__f_m-main-spinner").is(":visible")||$($v__fm__container_fluid+" input").is(":focus")||$($v__fm__container_fluid+" textarea").is(":focus")||$($v__fm__container_fluid_modal_in).length))return e.preventDefault(),e.stopPropagation(),void __f___b_dr(e);if("m"==String.fromCharCode(a).toLowerCase()&&e.ctrlKey&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),void $("#file-manager-switch-user").trigger("click");if(32==a&&!e.ctrlKey&&!$($v__fm__container_fluid_modal_in).length){e.preventDefault(),e.stopPropagation();var p=$($v__fm__container_fluid_form+" table tbody:visible tr.m-active"),u=jQuery.Event("keydown");u.which=40;var g=p.find("td:first-child input"),h=g.is(":checked");return g[0].checked=!h,g.trigger("change"),$(r).trigger(u),void(config_portable_module_filemanager_calculate_size&&setTimeout(__f__get_fs,100))}if((106==a||e.shiftKey&&56==a)&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),void $('body .container-fluid button[onclick="invertSelection()"]').trigger("click");if((107==a||e.shiftKey&&187==a||"a"==String.fromCharCode(a).toLowerCase()&&e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey)&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),select_all_entries("test_unconf")&&$('[data-select-all-entries="affirmative"] [data-yes="1"]')[0].click(),void $('body .container-fluid button[onclick="selectAll()"]').trigger("click");if((109==a||e.shiftKey&&189==a||"a"==String.fromCharCode(a).toLowerCase()&&e.ctrlKey&&e.shiftKey&&!e.altKey&&!e.metaKey)&&!$($v__fm__container_fluid_modal_in).length){e.preventDefault(),e.stopPropagation();var v=document.querySelectorAll(".container-fluid .ui_checked_columns");for(i=0;i<v.length;i++){var b=v[i].getElementsByTagName("input")[0];b.checked&&rowClick(v[i])}return __f___lb(),void __r____changed()}if(!(46!=a&&119!=a||$($v__fm__container_fluid+" input").is(":focus")||$($v__fm__container_fluid_modal_in).length))return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" .o__f_m-button-delete.disabled").length&&$($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child input").trigger("click"),$("body .container-fluid .o__f_m-button-delete").trigger("click"),void __f___cs();if(113!=a||e.shiftKey){if(113===a&&e.shiftKey&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" .o__f_m-button-chattr.disabled").length&&$($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child input").trigger("click"),$("body .container-fluid .o__f_m-button-chattr a").trigger("click"),void __f___cs()}else if(!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" .o__f_m-button-chmod.disabled").length&&$($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child input").trigger("click"),$("body .container-fluid .o__f_m-button-chmod a").trigger("click"),void __f___cs();if(114!=a||e.shiftKey){if(114===a&&e.shiftKey&&"1"==v___server_sestatus&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" .o__f_m-button-chcon.disabled").length&&$($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child input").trigger("click"),$("body .container-fluid .o__f_m-button-chcon a").trigger("click"),void __f___cs()}else $($v__fm__container_fluid_modal_in).length||(e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" .o__f_m-button-chown.disabled").length&&$($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child input").trigger("click"),$("body .container-fluid .o__f_m-button-chown a").trigger("click"),__f___cs());if(116==a&&!e.shiftKey&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" .o__f_m-button-compress.disabled").length&&$($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child input").trigger("click"),$("body .container-fluid .o__f_m-button-compress a").trigger("click"),void __f___cs();if(118==a&&!e.shiftKey&&!e.ctrlKey&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+' a[onclick = "createFolderDialog()"]').trigger("click"),void __f___cs();if(117==a&&!$($v__fm__container_fluid_modal_in).length&&$($v__fm__container_fluid_form+" table tbody tr.m-active").find("i.fa-i-cursor").parent("a").length)return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid_form+" table tbody tr.m-active").find("i.fa-i-cursor").parent("a").trigger("click"),void __f___cs();if(115==a&&!e.shiftKey&&!$($v__fm__container_fluid_modal_in).length)return void($($v__fm__container_fluid_form+" table tbody tr.m-active").find("i.fa-pencil-square-o").parent("a").length?(e.preventDefault(),edit_file()):plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-circle"></i>'+theme_language("theme_xhred_filemanager_not_editable"),.75,"warning","notEditableTarget"));if(!($("input").is(":focus")||$("select").is(":focus")||$("textarea").is(":focus")||$(".modal.in").length||32==a||113==a||114==a||106==a||107==a||116==a||109==a||46==a||119==a||118==a||115==a)){if($($v__fm__container_fluid+" .tab-pane.active .paginate_button.next").parents("ul.pagination").hasClass("pointer-events-none"))return;if(39===a)return $($v__fm__container_fluid+" .tab-pane.active .paginate_button.next").trigger("click"),$($v__fm__container_fluid_form+" table tbody tr.m-active").removeClass("m-active"),void $($v__fm__container_fluid_form+" table tbody tr").addClass("m-not-active");if(37===a)$($v__fm__container_fluid+" .tab-pane.active .paginate_button.previous").trigger("click"),$($v__fm__container_fluid_form+" table tbody tr.m-active").removeClass("m-active"),$($v__fm__container_fluid_form+" table tbody tr").addClass("m-not-active");else{var x=String.fromCharCode(a);!x||!/[a-zA-Z0-9]/.test(x)||e.ctrlKey||e.altKey||e.metaKey||$($v__fm__container_fluid+" .dataTables_filter label input").trigger("keyup").focus()}}if("s"==String.fromCharCode(a).toLowerCase()&&e.ctrlKey)return e.preventDefault(),e.stopPropagation(),void(__f__cnt___selected()&&__f__get_fs());if(e.shiftKey&&e.ctrlKey)return void console.log();if($($v__fm__container_fluid_modal_in).length||$($v__fm__container_fluid+" .popover").is(":visible")||$($v__fm__container_fluid+" input.popover-path-input").is(":focus")||$($v__fm__container_fluid+" .btn-filter-top-right input").is(":focus")||115!=a&&116!=a&&118!=a&&"c"!=String.fromCharCode(a).toLowerCase()&&"v"!=String.fromCharCode(a).toLowerCase()&&"x"!=String.fromCharCode(a).toLowerCase());else{if(!("c"==String.fromCharCode(e.which).toLowerCase()&&e.ctrlKey||"v"==String.fromCharCode(e.which).toLowerCase()&&e.ctrlKey||"x"==String.fromCharCode(e.which).toLowerCase()&&e.ctrlKey||115==a&&e.shiftKey||116==a&&e.shiftKey||118==a&&e.shiftKey||19==e.which))return!0;if(e.preventDefault(),115==a&&!$($v__fm__container_fluid_modal_in).length)return e.stopPropagation(),$($v__fm__container_fluid+' a[onclick = "createFileDialog()"]').trigger("click"),void __f___cs();if(116==a&&!$($v__fm__container_fluid_modal_in).length){if(e.stopPropagation(),$($v__fm__container_fluid_form+" table tbody tr.m-active").find("i.fa-extract-archive").parent("a").length){var w=$($v__fm__container_fluid_form+" table tbody tr.m-active").find("td.ui_checked_checkbox input");!w.is(":checked")&&w.trigger("click"),e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid_form+" table tbody tr.m-active").find("i.fa-extract-archive").parent("a")[0].click(),__f___cs()}else plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-circle"></i>'+theme_language("theme_xhred_filemanager_not_decompressable"),.75,"warning","notDecompressableTarget");return}if(118==a&&!$($v__fm__container_fluid_modal_in).length)return e.stopPropagation(),$($v__fm__container_fluid+' a[onclick = "searchDialog()"]').trigger("click"),void __f___cs();if("c"==String.fromCharCode(a).toLowerCase()&&!$($v__fm__container_fluid_modal_in).length&&!$(".popover").is(":visible")&&!$($v__fm__container_fluid+" input.popover-path-input").is(":focus"))return e.stopPropagation(),void($($v__fm__container_fluid+" .o__f_m-button-copy.disabled").length?plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+theme_language("theme_xhred_filemanager_no_selection_to_copy"),.75,"warning","nothingSelected"):($("body .container-fluid .o__f_m-button-copy a").trigger("click"),__f___cs()));if("v"==String.fromCharCode(a).toLowerCase()&&!$($v__fm__container_fluid_modal_in).length&&!$($v__fm__container_fluid+" .popover").is(":visible")&&!$($v__fm__container_fluid+" input.popover-path-input").is(":focus"))return e.stopPropagation(),void($($v__fm__container_fluid+" .o__f_m-button-paste.disabled").length?plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clipboard"></i>'+theme_language("theme_xhred_filemanager_empty_clipboard"),.75,"warning","emptyClipboard"):($("body .container-fluid .o__f_m-button-paste a").trigger("click"),__f___cs()));if("x"==String.fromCharCode(a).toLowerCase()&&!$($v__fm__container_fluid_modal_in).length&&!$($v__fm__container_fluid+" .popover").is(":visible")&&!$($v__fm__container_fluid+" input.popover-path-input").is(":focus"))return e.stopPropagation(),void($($v__fm__container_fluid+" .o__f_m-button-cut.disabled").length?plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+theme_language("theme_xhred_filemanager_no_selection_to_cut"),.75,"warning","nothingSelected"):($("body .container-fluid .o__f_m-button-cut a").trigger("click"),__f___cs()))}}}else if($($v__fm__container_fluid_form+" table tbody tr.m-active").hasClass("directory_go_up"))__f___b_dr(e);else{var l=$($v__fm__container_fluid+' .active form table tbody tr.m-active td a[href*="index.cgi?path="]'),s=$($v__fm__container_fluid+" #path").val();link_escaped=l.last().attr("data-filemin-link"),__f___o_dr(l,s,link_escaped,void 0!==e.originalEvent)}}}}}).on("click.fm",$v__fm__container_fluid+" a.action-link > .fa",function(e){if(e.preventDefault(),$(this).hasClass("fa-extract-archive")){var a=$(this).parents("tr").find("td.ui_checked_checkbox input");!a.is(":checked")&&a.trigger("click")}else $(this).hasClass("fa-i-cursor")&&e.stopPropagation()}).on("click.fm",$v__fm__container_fluid+" #file-manager-switch-user:not(.disabled_no_styling)",function(e){var a=$(this);a.addClass("disabled_no_styling"),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/fetcher.cgi?module="+v___module+"&list_users=1",data:!1,dataType:"JSON",success:function(e){if(Test.strContains(e,v___page_signin_form))return void(v___available_session=0);var t=localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_usermode"),_='<option value="" class="text-success"'+(t&&""!=t?"":" selected")+"><em>"+v___server_username+"</em></option>";$.each(e,function(e,a){_+='<option value="'+e+'"'+(t==e?" selected":"")+">"+e+'<span class="text-danger"> ['+a.split(":")[0]+"]</span></option>"});var n=$(r),i='            <div class="modal fade9 modal-list-users" tabindex="-1" role="dialog">              <div class="modal-dialog modal-md">                <div class="modal-content">                  <div class="modal-header background-warning background--bordered">                    <button type="button" class="close" data-dismiss="modal" aria-label="'+theme_language("theme_xhred_global_close")+'"><span aria-hidden="true">&times;</span></button>                    <h4 class="modal-title"><i class="fa fa-fw fa-user-switch">&nbsp;&nbsp;</i> '+theme_language("theme_xhred_filemanager_user_switch").replace(/\(.*?\)/g,"").replace(/\s+$/,"")+'</h4>                  </div>                  <div class="modal-body">                    <p>'+theme_language("theme_xhred_filemanager_user_switch_description")+'</p>                <label class="select-styled fstreched"><select data-no-appearance>                  '+_+"                </select></label>                <hr>                <p>"+theme_language("theme_xhred_filemanager_user_switch_description_back")+"</p>                  </div>                </div>              </div>            </div>        ";n.append(i);var o=".modal-list-users";$("body "+o).on("show.bs.modal",function(){$("body "+o).find("select").on("change.fm",function(){var e=$(this).val();localStorage.setItem(v___server_hostname+"-settings_thirdparty_filemanager_usermode",e),0==config_portable_module_filemanager_switch_user&&__f___us_tl(),$("body "+o).modal("hide")})}),$("body "+o).on("shown.bs.modal",function(){setTimeout(function(){$("body "+o).focus(),$("body "+o).find("select").trigger("focus")},360)}),$("body "+o).on("hidden.bs.modal",function(){$(this).remove(),a.removeClass("disabled_no_styling")}),$("body "+o).modal("show")},error:function(e){}})}).on("click.fm",$v__fm__container_fluid+" [data-tree-toggle]",function(e){$(".row + .tree-view, .data-content-container > [data-tree-view], .data-content-container > [data-tree-view] + .tree-view-filter").toggleClass("hidden"),theme_config("save",!1,"config_portable_module_filemanager_hide_tree_view",!config_portable_module_filemanager_hide_tree_view),_f__table().DataTable().draw(!1),config_portable_module_filemanager_hide_tree_view||($____loader_block__manual=1,tree_view_get(),$____loader_block__manual=0),tree_resize()}).on("click.fm",$v__fm__container_fluid+" #file-manager-new-instance:not(.disabled_no_styling)",function(e){e.preventDefault(),__f___nt($($v__fm__container_fluid+" #path").val(),!0,!1,void 0!==e.originalEvent)}).on("click.fm",$v__fm__container_fluid+" .nav.nav-tabs li.ui-sortable-handle.disabled",function(e){return e.preventDefault,e.stopPropagation,!1}).on("mouseenter.fm mousemove.fm",$v__fm__container_fluid+" .nav.nav-tabs li",function(){$(this).find("a > i").removeClass("invisible")}).on("mouseleave.fm",$v__fm__container_fluid+" .nav.nav-tabs li",function(){$(this).find("a > i").addClass("invisible")}).on("mousemove.fm",'[data-context-extract="1"], [data-context-preview-image="1"], [data-context-copy="1"], [data-context-select-all="1"], [data-context-edit="1"]',function(e){var a=$(this).parent(),t=$("#__f__c__m").offset().left,_=a.width();parseInt(e.pageX-t-_)>-24?(a.removeClass("locked"),this.allowed=!a.hasClass("right")):(void 0===this.allowed||this.allowed)&&a.addClass("locked")}).on("mouseleave.fm",'[data-context-copy="1"], [data-context-select-all="1"]',function(){this.allowed="undefined"}).on("contextmenu.fm",$v__fm__container_fluid+" .directory_go_up:visible",function(){$(this).addClass("m-active").trigger("contextmenu")}).on("click.fm",$v__fm__container_fluid+" .nav.nav-tabs li:not(.disabled) i",function(e){if(e.preventDefault,!($($v__fm__container_fluid+" .nav.nav-tabs li:not(.ui-sortable-placeholder)").length<=1)){var a=$(this),t=a.parent("a").parent("li"),_=parseInt(a.parent("a").attr("href").replace(/^\D+/g,""));return t.hasClass("active")?(tab___to______delete=_,a.parent("a").parent("li").prev("li:not(.active)").length?a.parent("a").parent("li").prev("li:not(.active)").find("a").trigger("click"):a.parent("a").parent("li").next("li:not(.active)").length&&a.parent("a").parent("li").next("li:not(.active)").find("a").trigger("click")):($($v__fm__container_fluid+' a[href="#tab-'+_+'"]').parent("li").remove(),$($v__fm__container_fluid+' .tab-content .tab-pane[id="tab-'+_+'"]').remove(),__f___up__tb_vis(),__f___up__tb_store(),setTimeout(function(){"function"==typeof sortable&&sortable($($v__fm__container_fluid+" .tabs-top > ul.nav"))},100)),!1}});var d=$v__fm__container_fluid+' a[data-toggle="tab"]';$(r).on("hide.bs.tab",d,function(e){var a=$(e.target).attr("href").replace(/^\D+/g,"");$($v__fm__container_fluid+" .__o__f_m-search-results").length&&$($v__fm__container_fluid+' .tab-content .tab-pane[id="tab-'+a+'"]').data("searchQuery",$($v__fm__container_fluid+" .__o__f_m-search-results")).data("searchQueryTotal",$($v__fm__container_fluid+" .total").html())}).on("show.bs.tab",d,function(e){$($v__fm__container_fluid+" .nav.nav-tabs li").addClass("disabled")}).on("shown.bs.tab",d,function(e){select_all_entries("remove"),setTimeout(function(){$($v__fm__container_fluid+" .nav.nav-tabs li").removeClass("disabled")},400);var a=$(e.target).attr("href"),t=a.replace(/^\D+/g,""),_=$(e.relatedTarget).attr("href"),n=_.replace(/^\D+/g,""),i="_AuthenticThemeTmp"+n;store_last_tab($(e.target)),$(_).find("form").attr({id:"list_form"+i,name:"list_form"+i}),$(_).find(".ui_checked_columns").removeClass("ui_checked_columns").addClass("_ui_checked_columns_tmp"),$.each($(_).find("form *[id]"),function(){var e=$(this).attr("id"),a=$(this).attr("name"),t=e+i,_=!!a&&a+i;e.indexOf("DataTable")===-1&&($(this).attr({id:t}),a&&$(this).attr({name:_}))}).promise().done(function(){var _="_AuthenticThemeTmp"+t;$(a).find("._ui_checked_columns_tmp").addClass("ui_checked_columns").removeClass("_ui_checked_columns_tmp"),$(a).find("form").attr({id:"list_form",name:"list_form"}),$.each($(a).find("form *[id]"),function(){var e=$(this).attr("id"),a=$(this).attr("name"),t=e.replace(_,""),n=!!a&&a.replace(_,"");e.indexOf(_)>-1&&($(this).attr({id:t}),a&&$(this).attr({name:n}))}).promise().done(function(){var _=$('.tab-content .tab-pane[id="tab-'+t+'"] .table:visible'),n=$(a).find("form input#path").val(),i=$('.tab-content .tab-pane[id="tab-'+t+'"]').data("searchQuery");if(f__insert_dir_up(),__f__c__m(),"1"==$(e.target).attr("newly-created"))$(e.target).removeAttr("newly-created");else{var r=$('.tab-content .tab-pane[id="tab-'+t+'"]').data("searchQueryTotal"),o=[];i&&(o.push(i),o.push(r),$('.tab-content .tab-pane[id="tab-'+t+'"]').removeData("searchQuery").removeData("searchQueryTotal")),__f___up__d("index.cgi?path="+Convert.uriEncodeComponent(n),!1,o)}if(!i){var l=$(".tab-pane.active").data("totalValue");!i&&$($v__fm__container_fluid+" .total").html(l)}var s=_f__table();if("undefined"!=typeof tab___is______new?(s.DataTable().draw(),delete tab___is______new):__init__dt_ck__e(),"undefined"!=typeof tab___to______delete){var d=tab___to______delete;delete tab___to______delete,$('a[href="#tab-'+d+'"]').parent("li").remove(),$('.tab-content .tab-pane[id="tab-'+d+'"]').remove()}__f___us_a(),tree_view_draw(_),tree_gset_node(),format_search_breadcrum(1)&&format_search_breadcrum(),tree_resize(0,1),$(".__page")[0].scrollTop=0})})}),$($v__fm__container_fluid+" #searchForm label:first-child").text(theme_language("theme_xhred_filemanager_search_file_mask")),$($v__fm__container_fluid+" #searchForm .form-group").after('        <div class="form-inline">            <div class="form-group">                <label>'+theme_language("theme_xhred_filemanager_search_match")+'</label>                <br>                <input id="grepstring" name="grepstring" type="text" class="form-control heighter-28">            </div>            <div class="form-group"">                <label>'+theme_language("theme_xhred_filemanager_search_replace")+'</label>                <br>                <input id="grepreplace" name="grepreplace" type="text" class="form-control heighter-28">            </div>        </div>    ');var k=$("#searchForm").find("span.awcheckbox");k.prev("br").remove(),k.detach().appendTo($("#searchForm .form-inline")),$($v__fm__container_fluid+" #searchForm .awcheckbox").after('<span class="awcheckbox awobject awobjectm"><input id="regex" name="regex" type="checkbox" class="iawobject"><label class="lawobject" for="regex">'+theme_language("theme_xhred_filemanager_search_regex")+'&nbsp;&nbsp; </label></span><span class="awcheckbox awobject awobjectm"><input id="follow_symlinks" name="follow" type="checkbox" class="iawobject"><label class="lawobject" for="follow_symlinks">'+theme_language("theme_xhred_filemanager_search_follow_symlinks")+"&nbsp;&nbsp; </label></span>"),plugins.navigation.detect("/filemin/index.cgi?path=/",1),setTimeout(function(){__f__refresh__dir_and_tree(),$____loader_block__=0},$.support.spa?0:100),"config.cgi"!==v___location_file&&f__chk_loading(),$($v__fm__container_fluid).on("click.fm",".spaginates .paginate_button.previous:not(.disabled)",function(e){$(this).parent().find(".active").prev(".paginate_button").find("a").trigger("click")}),$($v__fm__container_fluid).on("click.fm",".spaginates .paginate_button.next:not(.disabled)",function(e){$(this).parent().find(".active").next(".paginate_button").find("a").trigger("click")}),$($v__fm__container_fluid).on("click.fm",".spaginates .spaginated",function(e){e.preventDefault(),e.stopPropagation(),get_link(this.href),$(this).parents(".spaginates").after(theme_spinner_small(!1,"semi-dark","width:12px; height:12px; margin-right: 3px; margin-left: 3px;"))}),$($v__fm__container_fluid).on("click.fm",".active .dataTables_length select",function(e){e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid).find(".active .spaginates .spaginated").first().trigger("click"),setTimeout(table_resize)}),$($v__fm__container_fluid).find(".modal.fade").removeClass("fade").addClass("fade6").attr("tabindex",-1),$($v__fm__container_fluid+" .modal").on("shown.bs.modal",function(){var e=$(this).find('input[type="text"]:visible, input[type="url"]:visible, input[type="number"]:visible, input[type="file"]:visible').first()[0];setTimeout(function(){e&&(e.focus(),$(e).select()),$('input[type="hidden"][class*="_o__f_m-tmp-"]').remove()},0)}),$($v__fm__container_fluid+" #compressDialog.modal").after('<div id="extractEncrypted" class="modal fade6" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">Ã—</button><h4 class="warning"><i class="fa fa-fw fa fa2 fa2-users-cog" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_extract_encrypted")+'</h4></div><div class="modal-body"><form id="extractEncryptedForm" action="extract.cgi" method="post"><div class="form-group"><label>'+theme_language("theme_xhred_filemanager_extract_encrypted_password_or_passphrase")+'</label><input autofocus name="password" type="password" class="form-control heighter-28" data-placement="top"><small>'+theme_language("theme_xhred_filemanager_extract_encrypted_password_or_passphrase_desc")+'</small></div><div class="form-group"><span class="awcheckbox awobject awobjectm"><input id="delete_afterwards" name="delete_afterwards" type="checkbox" class="iawobject" value="3"><label class="lawobject font-weight-normal" for="delete_afterwards">'+theme_language("theme_xhred_filemanager_extract_option_delete_afterwards")+'&nbsp;&nbsp; </label></span></div></form></div><div class="modal-footer"><div class="btn-group"><button type="button" class="btn btn-success o__f_m-submitter-decrypt_archive">'+theme_language("theme_xhred_filemanager_context_extract")+'</button><button type="button" class="btn btn-default" data-dismiss="modal">'+theme_language("theme_xhred_global_cancel")+"</button></div></div></div></div></div>");var C=$("#extractEncrypted");C.on("click.fm",".o__f_m-submitter-decrypt_archive",function(e){e.preventDefault(),e.stopPropagation();var a=$(this).parents(".modal.in"),t=a.find('input[name="password"]'),_=t.val(),n=a.find('input[name="delete_afterwards"]'),i=n.is(":checked");plugins.messenger.post('<i class="fa fa-lg fa-fw fa-file-archive-o"></i>'+theme_language("theme_xhred_filemanager_unpacking_archive")+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","extract_info"),t.val(String()),__f____a("extract",[_,i]),a.modal("hide")}).on("keyup",'input[name="password"]',function(e){e.preventDefault(),13===(e.keyCode?e.keyCode:e.which)&&$(this).parents(".modal.in").find(".o__f_m-submitter-decrypt_archive").trigger("click")}),C.on("shown.bs.modal",function(e){e.preventDefault();var a=$(this);setTimeout(function(){a.find("input")[0].focus()},61),$(this).find('input[name="delete_afterwards"]')[0].checked=!1}),$($v__fm__container_fluid+" #compressDialog.modal").after('<div id="encryptDecrypt" class="modal fade6" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">Ã—</button><h4 class="warning"><i data-title-icon class="fa fa-fw fa fa-key-plus" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;<span data-title-text>'+theme_language("theme_xhred_global_encrypt")+'</span></h4></div><div class="modal-body"><form id="encryptDecryptForm" action="gpg.cgi" method="post"><div class="form-group" data-encrypt><label>'+theme_language("theme_xhred_filemanager_encrypt_gpg_key")+'</label><select name="key" class="form-control heighter-28"><option disabled selected></option></select></div><div class="form-group" data-decrypt><label>'+theme_language("theme_xhred_login_passphrase")+'</label><input name="passphrase" type="password" class="form-control heighter-28" data-placement="top"><small>'+theme_language("theme_xhred_login_passphrase_desc")+'</small></div><div class="form-group"><span class="awcheckbox awobject awobjectm"><input id="delete_afterwards_encrypt" name="delete_afterwards_encrypt" type="checkbox" class="iawobject" value="3"><label class="lawobject font-weight-normal" for="delete_afterwards_encrypt" data-label-text>'+theme_language("theme_xhred_filemanager_encrypt_option_delete_afterwards")+'&nbsp;&nbsp; </label></span></div></form></div><div class="modal-footer"><div class="btn-group pull-left"><button type="button" class="btn btn-default pull-left" data-button-reverse>'+theme_language("theme_xhred_global_decrypt")+'</button></div><div class="btn-group"><button type="button" class="btn btn-success o__f_m-submitter-decrypt_encrypt" data-button-text>'+theme_language("theme_xhred_global_encrypt")+'</button><button type="button" class="btn btn-default" data-dismiss="modal">'+theme_language("theme_xhred_global_cancel")+"</button></div></div></div></div></div>"),setTimeout(encryptDecryptModalA,300);var D=$("#encryptDecrypt");if(D.find('select[name="key"]').on("change.fm",function(){var e=$(this).parents(".modal"),a=e.find("[data-button-text]");$(this).val()?a.removeClass("disabled"):a.addClass("disabled")}),D.on("click.fm","[data-button-reverse], [data-button-text]:not(.disabled)",function(e){var a=$(this).parents(".modal"),t=a.find(".modal-header .fa2-key-minus").length?1:0,_=t?"decrypt":"encrypt",n="?action="+_+"&module="+v___module+__f___um()+extra_query();if($(e.target).is(".o__f_m-submitter-decrypt_encrypt")){var i=a.find('[name="delete_afterwards_encrypt"]').is(":checked")?1:0,r=a.find('[name="passphrase"]').val(),o=a.find('[name="key"]').val();i&&(n+="&delete="+i),"decrypt"!==_?o&&(n+="&key="+o):r&&(n+="&passphrase="+r),theme_message_dismiss(_+"_warning");var l="fa-key-plus";"decrypt"===_&&(l="fa2 fa2-key-minus"),plugins.messenger.post('<i class="fa fa-lg fa-fw '+l+'"></i>'+theme_language("theme_xhred_filemanager_crypt_"+_)+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info",_+"_info"),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/gpg.cgi"+n,data:__f___gd(),dataType:"json",success:function(e){e[0].error&&e[0].error.length&&alert_json_errors(e[0].error,_,"theme_xhred_filemanager_errors_"),__f___u("upd",e[0],1,_,!1),tree_update_node()},error:function(e){get_login_required(e)}}),$(this).parents(".modal").modal("hide")}else encryptDecryptModalA(!t)}),D.on("hide.bs.modal",function(){$(this).find('input[name="delete_afterwards_encrypt"]')[0].checked=!1,$(this).find('input[name="passphrase"]').val(String()),block_events()}),D.on("show.bs.modal",function(){var e=$(this).find('select[name="key"]'),a=e.val();$.ajax({type:"POST",url:v___location_prefix+"/index.cgi/?xhr-get_gpg_keys=1&xhr-get_gpg_keys_all="+(vars.events.keypressed.alt?1:0)+__f___um(),data:!1,dataType:"json",success:function(t){e.empty();var _=t.public,n=0;if($.each(_,function(a,t){e.append('<option value="'+a+'">'+t+"</option>"),n++}),n)e.prepend('<option class="text-muted" value="" disabled selected>'+theme_language("theme_xhred_filemanager_gpg_select_the_key")+"</option>");else{var i=localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_usermode");i||(i=get_server_data("user")),e.prepend('<option  class="text-muted" value="" disabled selected>'+theme_language("theme_xhred_filemanager_archive_gpg_no_keys")+" ["+i+"]</option>")}e.find('option[value="'+a+'"]').length&&e.val(a)},error:function(e){get_login_required(e)}})}),D.on("shown.bs.modal",function(){var e=$(this);setTimeout(function(){e.find('input[name="passphrase"]')[0].focus()},61)}),$(".bnt-primary, .bnt-default").removeClass(".bnt-primary, .bnt-default").addClass("btn-default"),"config.cgi"!==v___location_file){if(f__ck_init_err(1))return void f__ck_init_err();__f___up__tb_vis(),
browser.detect.firefox()?setTimeout(function(){page.handle.content.preloader()},0):page.handle.content.preloader(),tree_view_get()}}setTimeout(function(){!$.support.spa&&___f__tw(),$(window).off("resize.fm"),$(window).on("resize.fm",function(e){"config.cgi"!==v___location_file&&v___module===v___module_file_manager&&(_f__table().DataTable().draw(),tree_resize())})},$.support.spa?0:200),$.each(localStorage,function(e,a){/^(DataTables_DataTables_Table_[\d]*_\/file)/.test(e)&&localStorage.removeItem(e)});