/*!
 * Authentic Theme (https://github.com/authentic-theme/authentic-theme)
 * Copyright Ilia Rostovtsev <ilia@virtualmin.com>
 * Licensed under MIT (https://github.com/authentic-theme/authentic-theme/blob/master/LICENSE)
 */
var b=window,f=b,html=$("html"),r=$('link[href*="configserver"]'),empty=$("style:not([data-persist])"),v___theme_night_mode_enabled=$('html[data-bgs="nightRider"]').length&&$('link[href*="nightrider"]').length?1:0;f.v___initial_load=0;empty.remove();r.remove();function __c_____undel(t){CSFpause=1;b.CSFcreateRequestObject=function(){return false};b.CSFsendRequest=function(){return false};b.CSFhandleResponse=function(){return false};b.CSFgrep=function(){return false};b.CSFtimer=function(){return false};b.CSFpausetimer=function(){return false};b.CSFrefreshtimer=function(){return false};b.windowSize=function(){return false};var e="html, body",a=$(e),n="keydown.csf mousedown.csf click.csf click.csf2 click.csf3 click.csf4 click.csf5 click.csf6 click.csf7 click.csf8 ";a.off(n);$(e+" *").undelegate(n).unbind(n).off(n);if(!Test.strContains(t,"/csf/")&&(v___module==="csf"&&t!=="index.cgi")){$(".csf-container").removeClass("csf-container")}}function csf_init(){function t(t){return false}t.prototype.navigate=function(t){return false};if(session.server.data("post")!="logtail"){CSFpause=1}if(session.server.data("post")==="logtail"){$('button[onclick="CSFrefreshtimer()"], button[onclick="CSFpausetimer()"]').addClass("heighter-28");setTimeout(function(){$('button[onclick="CSFrefreshtimer()"]').click()},1)}if(typeof CSFhandleResponse==="function"){core.fnExtend("CSFhandleResponse",function(){if(CSFajaxHTTP.readyState==4&&CSFajaxHTTP.status==200){var t=CSFajaxHTTP.responseText;if(t){e(false,false)}}})}function e(t,e){if(i.find(".csf-container").find('textarea[name="formdata"]').length||!$("html[data-post]").attr("data-post")){return}if(i.find(".csf-container").find('pre:not(:contains("<---"))').length){var a="log";t&&i.find(".csf-container").find("pre").css({position:"initial",left:"initial",opacity:"0"});T();i.find(".csf-container").find("pre").removeClass("text-center");i.find(".csf-container").find("pre").each(function(n,i){var s=$(this),r=Convert.htmlStrip(s.html());var o=$.trim($("#CSFgrep:first").val());if(o&&o.length){var l=0;try{new RegExp(o,"i")}catch(t){l=1}if(!l){CodeMirror.defineMode("highlightSearch",function(t,e){var a={token:function(t,e){var a=t.string.match(new RegExp(o,"i")),n=a&&a[1];if(n){o="";$.each(a,function(t,e){if(Test.numeric(t)&&t>0){if(o.length){o+="|"+e}else{o=e}}})}o=new RegExp(o,"i");if(t.match(o)){return"highlightSearch"}while(t.next()!=null&&!t.match(o,false)){}return null}};return CodeMirror.overlayMode(CodeMirror.getMode(t,e.backdrop),a)})}}s.empty();window[a+"_"+n]=window.CodeMirror(this,{value:r,lineNumbers:e,mode:o?"highlightSearch":null,theme:$.support.spa&&!f.v___theme_night_mode?f.settings_cm_editor_palette:"monokai",readOnly:true,viewportMargin:Infinity});var d=content_page_calc_height("editor");d=d-d*.05;t&&window[a+"_"+n].setSize(null,d)}).promise().done(function(){if(t){i.find(".csf-container").find("pre").css({position:"initial",left:"initial"});i.find(".csf-container").find("pre").animate({opacity:1},175)}if(!t){var e=$("pre[style]").length;$.each($("pre[style]"),function(t,n){var i=content_page_calc_height("editor");i=i-i*.05;var s=i/e,r=$(this).find(".CodeMirror-code").find("pre").length*17;if(r>s){window[a+"_"+t].setSize(null,s)}else{window[a+"_"+t].setSize(null,r-10)}$(n).height($(n).find(".CodeMirror").first().height()+4)})}if(session.server.data("post")=="logtail"||session.server.data("post")=="loggrep"){$(".CodeMirror-scroll").scrollTop($(".CodeMirror-code").height())}})}else{i.find(".csf-container").find("pre").css({position:"initial",left:"initial"});f.settings_cm_editor_palette==="monokai"&&i.find(".csf-container").find("pre").addClass("no_data");var n=i.find(".csf-container").find("pre"),s='<i class="label text-center label-transparent-15">';n.addClass("text-center");if($is_lang){n.html(s+theme_language("global_empty").toUpperCase()+"</i>")}else{n.replaceText(/<---- /gi,"").replaceText(/ ---->/gi,"").wrapInner(s)}}}function a(){if($('html[data-post="viewlogs"]').length){$.each($(".table.table-striped.table-condensed tbody tr"),function(){var t=$(this);targ=t.find('td[style*="nowrap"] button[type="button"]').attr("onclick");__id=targ?parseInt(targ.match(/\d+/)[0]):-1;$.grep($__submenus__,function(e){if($(e).attr("id")=="s"+__id){t.after($(e))}})})}}$is_lang=1;var n={order:[],aaSorting:[],bDestroy:true,bPaginate:false,bInfo:false,destroy:true,dom:"<'row'<'col-sm-6'l><'col-sm-6'fB>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",buttons:[{extend:"csvHtml5",charset:"utf-8",exportOptions:{columns:":visible",format:{body:function(t,e,a,n){t=Convert.htmlRemoveHiddenElements(t);t=Convert.htmlRemoveByClassName(t,"btn");return Convert.htmlStrip(t)}}}}],oLanguage:{sEmptyTable:f.theme_language("datatable_semptytable"),sInfo:f.theme_language("datatable_sinfo"),sInfoEmpty:f.theme_language("datatable_sinfoempty"),sLengthMenu:f.theme_language("datatable_slengthmenu"),sLoadingRecords:f.theme_language("datatable_sloadingrecords"),sProcessing:f.theme_language("datatable_sprocessing"),sSearch:" ",sZeroRecords:f.theme_language("datatable_szerorecords")},drawCallback:function(t){a()},initComplete:function(t){var e=$(t.nTableWrapper),a="dt-table-hscroll";if(t.nTable&&$(t.nTable).parent().is("."+a+"")){return}if(e.length){var n="opacity-0",i="pointer-events-none",s=t.nTable.querySelector(".ui_checked_columns:first-child .ui_checked_checkbox, .ui_checked_columns:first-child td > .awcheckbox");if(s){$(s).parents("table").find("thead th:first-child").addClass(""+n+" "+i+"")}var r=t.nTable.tHead.querySelectorAll("th");if(r.length){r.forEach(function(t){if(!t.textContent){t.classList.add(n,i)}})}$(t.nTable).wrapAll('<div class="'+a+'"></div>')}}};r=$('link[href*="configserver"], style:not([data-persist]), .csf a#toplink, .csf a#botlink, .csf div#loader, .csf a#webmintr2');r.remove();if($.support.spa){if(f.$("#open_webmin").length>0&&f.$(".switch-toggle input:checked").attr("id")!="open_webmin"&&f.$("body").data("dashboard")=="1"){plugins.navigation.switch.set("webmin")}f.$('a[href="csf/"]').parent("li").addClass("sub_active").append('<span class="current"></span>').parent("ul.sub").show().prev("li").addClass("active")}var i=$("html"),s=$("body"),o=$('body .container-fluid:not([data-dcontainer="1"])'),l=$("html").attr("data-post"),d=$('.well.well-sm:contains("csf:")').text().match(/((?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+))$/);d=d&&d[0]?d[0]:"";o.removeClass().addClass("container-fluid-original");o.wrapInner('<div class="panel panel-default panel-injected-custom">');s.find(".panel-injected-custom").unwrap();i.find(".container-fluid").addClass("csf-container");i.find(".csf-container").find(".panel-default").wrapInner('<div class="panel-body">');i.find(".csf-container").find(".panel-default:first").css("border-top-width","4px").prepend('<div class="panel-heading" style="text-align:center"><button class="fa fa-fw fa-inverse fa-2x fa-star-o text-lighter favorites xcustom-favorites'+($.support.spa?"":" hidden")+'"></button>&nbsp;<font size="+2">'+theme_language("csf")+'</font><span style="font-size:14px;display:block">'+(d?theme_language("body_firewall")+" "+d:"")+"</span></div>");i.find(".csf-container").find(".panel-heading + .panel-body > .panel:first").remove();plugins.favorites.detect();i.find(".csf-container").find(".nav.nav-tabs").addClass("hidden");i.find(".csf-container").find('a[data-toggle="tab"][href="#other"]').parent("li").remove();i.find(".csf-container").find(".nav.nav-tabs:hidden + .tab-content").attr("style","margin-top: -10px !important");if(i.find(".csf-container").find('button[value="upgrade"]').length===0){$("#upgradetable").remove()}i.find(".csf-container").find('a[href$="/csf/changelog.txt"]').addClass("btn btn-xxs btn-default _btn-changelog").html('<i class="fa fa-info-circle"></i>Changelog');i.find("body table.table.table-bordered.table-striped").each(function(){$(this).addClass("table-condensed").removeClass("table-bordered").removeAttr("style")});i.find(".csf-container").find("a#MobileView").parent(".panel-body").parent(".panel-body").parent(".panel").remove();var c=0;if(i.find(".csf-container").find(".mobilecontainer").length){c=1}i.find(".csf-container").find(".mobilecontainer").remove();typeof settings_allowed_hostname=="undefined"?settings_allowed_hostname=true:false;var p=c?i.find(".csf-container").find('.panel-heading:contains("Development Contribution")').parent().parent():i.find(".csf-container").find('.panel-heading:contains("Development Contribution")').parent(),h=0,g=i.find(".csf-container").find('.well.well-sm:contains("csf:")'),m=i.find(".csf-container").find('p:contains("©2006")');g.remove();if(l){m.remove();var u=g.next("p");g.prev("br").remove();u.addClass("text-right footer-string")}else{if(h){if(c){p.remove()}else{p.parent().find('br, br + pre:contains("csf:")').remove();p.parent().find("p").remove();p.remove()}}else{var v=p.find("a").first();v.text("supporting");if(c){p.find('br, br + pre:contains("csf:")').remove();p.find(".panel-info").removeClass("panel-info").remove();p.find("p").addClass("text-right footer-string").wrapInner('<span class="pull-right"></span>').append('<span class="pull-left">Consider '+v[0].outerHTML+" ConfigServer Security & Firewall development</span>")}else{p.parent().find('br, br + pre:contains("csf:")').remove();p.parent().find(".panel-info").removeClass("panel-info").remove();p.parent().find("p").addClass("text-right footer-string").wrapInner('<span class="pull-right"></span>')}}}if(session.server.data("post")){$(".csf .footer-string").remove()}else{$('.csf .csf-container a[href^="javascript:fillfield"]').each(function(){$(this).find(".glyphicon").removeClass().addClass("fa2 fa-fw fa-xs fa2-location-pin text-light vertical-align-text-top")})}i.find(".csf-container").find('select:not([name="backup"], [name="profile1"], [name="profile2"], [name="do"], [name="dur"]), .csf input:not([name="comment"], [name="ip"], [name="ports"], [name="timeout"], [aria-controls*="DataTables_Table_"])').addClass("heighter-34");var _=i.find(".csf-container").find("select.heighter-34");_.nextAll("a.btn").add(_.prevAll("a.btn")).removeClass("heighter-28 btn btn-default").addClass("heighter-34 btn btn-default");var C=i.find(".csf-container").find('h4:contains("iptables logs*")');if(C.length){$(".panel-body .pull-right").addClass("hidden");var x=C.next().next(".table.table-striped.table-condensed");C.addClass("col_header_custom big_big");C.find("b").css("margin-left","4px");x.find("tbody tr:nth-child(2) td:first-child").css("min-width","200px");$__submenus__=$(".submenu").detach();setTimeout(function(){i.find(".csf-container").find(".panel-heading").prepend('      <div class="btn-group pull-right" style="position: absolute; right: 15px; top: 17px;">      <a class="btn btn-link text-lighter btn-toggle-top-right text-decoration-none pull-left" data-toggle="tooltip" data-container="body">        <i class="fa fa-toggle-switch-off fa-1_25x"></i>      </a>      </div>    ');var t=".btn-toggle-top-right";i.undelegate(t,"click.csf2");i.find("body").on("click.csf2",t,function(t){t.preventDefault();if($(this).find(".fa-toggle-switch-off").length){i.find(".csf-container").find('button[onclick*=".show()"]')[0].click();i.find(".csf-container").find(".btn.btn-xxs.fa-1_25x").removeClass("fa-toggle-switch-off").addClass("fa-toggle-switch");$(this).find(".fa-toggle-switch-off").removeClass("fa-toggle-switch-off").addClass("fa-toggle-switch")}else{i.find(".csf-container").find('button[onclick*=".hide()"]')[0].click();i.find(".csf-container").find(".btn.btn-xxs.fa-1_25x").removeClass("fa-toggle-switch").addClass("fa-toggle-switch-off");$(this).find(".fa-toggle-switch").addClass("fa-toggle-switch-off").removeClass("fa-toggle-switch")}})},0);$('html[data-post="viewlogs"] button.glyphicon.glyphicon-resize-vertical').addClass("btn-xxs").removeClass("glyphicon glyphicon-resize-vertical").addClass("fa fa-toggle-switch-off fa-1_25x").removeAttr("data-tooltip").removeAttr("data-title").removeAttr("data-original-title");var y=".table.table-striped.table-condensed tbody tr";$("body").undelegate(y,"click.csf3");$("body").on("click.csf3",y,function(t){$(this).find("button").trigger("click")});var y=".btn.btn-xxs.fa-1_25x";$("body").undelegate(y,"click.csf4");$("body").on("click.csf4",y,function(t){t.preventDefault();t.stopImmediatePropagation();if($(this).hasClass("fa-toggle-switch-off")){$(this).removeClass("fa-toggle-switch-off").addClass("fa-toggle-switch")}else{$(this).removeClass("fa-toggle-switch").addClass("fa-toggle-switch-off")}});$(".table.table-striped.table-condensed").dataTable(n);page.render.content.filter.init(false,i.find(".csf-container").find(".panel-heading"));setTimeout(function(){$(".btn-filter-top-right").parent().css("right","58px")},100)}if(i.find(".csf-container").find('select[name="dur"]')[0]){var w=i.find(".csf-container").find('select[name="dur"]')[0].nextSibling;if(w.nodeValue=="."){$(w).remove()}}var k=$('html[data-post="conf"] .csf form .comment > br:first-child').map(function(){this.previousSibling.nodeValue&&$(this.previousSibling).wrap('<span class="fst-ln-c">')});i.find(".csf-container").find("#paginatediv2.paginationstyle > select").each(function(){$(this).attr("style","vertical-align: top !important")});i.find(".csf-container").find("#paginatediv2 > a").each(function(){$(this).attr("style","vertical-align: baseline !important")});i.find(".csf-container").find("p > select").each(function(){$(this).attr("style","vertical-align: baseline !important")});var S=f.v___theme_night_mode_enabled||f.v___theme_night_mode?1:0;i.find(".csf-container").find('img[src*="csfimages/loader.gif"]').each(function(){$(this).attr("src",""+($.support.spa?f.v___location_prefix:"")+"/images/loader-horizontal"+(S?"_dark":"")+".gif").css("margin-left","10px")});i.find(".csf-container").find(".paginationstyle a").each(function(){$(this).addClass("btn btn-default")});i.find(".csf-container").find('img[src^="lfd_"], img[src^="/csf/lfd_"]').each(function(){$(this).parents("table").removeClass("table-striped")});i.find(".csf-container").find('img[src^="csfimages/delete.png"]').each(function(){$(this).replaceWith('<i class="fa fa-unlock text-success" style="font-size: 1.1em; vertical-align: middle;"></i>')});i.find(".csf-container").find('img[src^="csfimages/perm.png"]').each(function(){$(this).replaceWith('<i class="fa fa-lock text-danger" style="font-size: 1.1em; vertical-align: middle;"></i>')});i.find(".csf-container").find('img[src^="csfimages/plus.png"]').each(function(){$(this).addClass("hidden");b;$(this).after('<i class="fa fa-plus-circle text-success margined-right-2" style="font-size: 1.1em;"></i>')});i.find(".csf-container").find('img[src^="csfimages/minus.png"]').each(function(){$(this).addClass("hidden");$(this).after('<i class="fa fa-minus-circle text-danger margined-right-2" style="font-size: 1.1em;"></i>')});i.find(".csf-container").find("fieldset legend b").each(function(){if($(this).text().indexOf("Edit ConfigServer Firewall")>=0){$submit_changes=i.find(".csf-container").find('input[value="Change"]');$submit_changes.addClass("csf-submit_changes");$submit_changes.unbind("click.csf5");$submit_changes.on("click.csf5",function(){i.find(".csf-container").find('input[value="saveconf"]').parent("form").submit()})}});typeof __csf__listen_log_grep!="undefined"&&clearInterval(__csf__listen_log_grep);if(i.find(".csf-container").find("#CSFgrep_D").length&&i.find(".csf-container").find("#CSFgrep_E").length&&i.find(".csf-container").find("#CSFgrep_i").length){i.find(".csf-container").find('select, input[type="text"], button[onclick="CSFgrep()"]').removeClass("heighter-34").addClass("heighter-28");i.find(".csf-container").find("#CSFgrep_i, #CSFgrep_E, #CSFgrep_D").attr("style","vertical-align: middle; margin-right: 4px;");i.find(".csf-container").find("#CSFajax").css("margin-bottom","4px")}i.find(".csf-container").find("#CSFajax.csf-box").addClass("csf_force_log_size");if(typeof CodeMirror=="function"){e(false,false)}function T(){var t=$(".container-fluid");t.removeClass("col-lg-10 col-lg-offset-1").addClass("margined-top-15")}function F(){if(!$("html[data-post]").attr("data-post")){return}var t=i.find(".csf-container").find('textarea[name="formdata"]');if(t.length){T()}t.each(function(t,e){var a=$(this);$parent_width=a.parent("td").width();var n=window.CodeMirror.fromTextArea(e,{mode:{name:"rpm-spec"},matchBrackets:true,lineNumbers:true,keyMap:"sublime",highlightSelectionMatches:{annotateScrollbar:true},indentUnit:0,autofocus:true,foldGutter:true,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{"Alt-Space":"autocomplete","Shift-Cmd-F":"replace","Shift-Ctrl-F":"replace"},styleActiveLine:true,lineWrapping:true,theme:$.support.spa&&!f.v___theme_night_mode?f.settings_cm_editor_palette:"monokai"});var i=content_page_calc_height("editor");i=i-i*.05;$window_height=i;n.setSize($parent_width,$window_height);$(window).resize(function(){$parent_width=a.parent("td").width();$window_height=i;n.setSize($parent_width,$window_height)})})}if(typeof window.CodeMirror=="function"){F()}if(session.server.data("post")==="fix"){var M=$("button.confirmButton");M.off("click");M.removeAttr("data-toggle data-target data-query type data-original-title title");$.each(M,function(){$(this).attr("href",$(this).attr("data-href"));$(this).removeAttr("data-href");$(this).removeClass("confirmButton").replaceTagName("a")})}if(session.server.data("post")==="viewports"){i.find(".csf-container").find(".panel .panel-body table.table-striped").each(function(){i.find(".csf-container").find("h4").addClass("col_header_custom").attr("style","margin-bottom: -5px !important; margin-top: 2px !important");i.find(".csf-container").find("h4").text("Ports listening for external connections");$(this).dataTable(n)});page.render.content.filter.init(false,i.find(".csf-container").find(".panel-heading"))}if(session.server.data("post")==="temp"){i.find(".csf-container").find('table:not(:contains("©2006-"))').each(function(){$('html[data-post="temp"] tr td .btn').attr("data-placement","right");$('html[data-post="temp"] tr td .btn').addClass("btn-xxs").find("span.glyphicon.glyphicon-ban-circle").removeClass("glyphicon glyphicon-ban-circle").addClass("fa fa-ban");$('html[data-post="temp"] tr td .btn').find("span.glyphicon.glyphicon-ok-circle").removeClass("glyphicon glyphicon-ok-circle").addClass("fa fa-unlock");$.each($('html[data-post="temp"] tr td a.btn'),function(t,e){$(this).attr("data-placement","right");$(this).addClass("btn-xxs");if($(this).hasClass("btn-danger")){$(this).addClass("margined-right-8")}});$(this).dataTable(n);setTimeout(function(){i.find(".csf-container").find(".dataTable thead tr th:eq(0)").addClass("no-controls")},10)});page.render.content.filter.init(false,i.find(".csf-container").find(".panel-heading"));$('.dataTables_wrapper + div:contains("There are no temporary IP entries")').remove();$('html[data-post="temp"] .dataTables_wrapper + div').find("a").addClass("btn-xxs btn-inverse").removeClass("btn-success").prepend('<i class="fa fa-fw fa-unlock">&nbsp;</i>')}if(!session.server.data("post")){i.find(".csf-container").find('button[value="conf"]').prepend('<i class="fa fa-cog margined-right-5"></i>');i.find(".csf-container").find('button[value="enable"]').addClass("page_footer_submit btn-success").removeClass("btn-default").prepend('<i class="fa fa-toggle-switch fa-1_25x margined-right-5"></i>');i.find(".csf-container").find('button[value="disable"]').addClass("page_footer_submit btn-danger").removeClass("btn-default").prepend('<i class="fa fa-toggle-switch-off fa-1_25x margined-right-5"></i>');i.find(".csf-container").find('button[value="restart"]').addClass("page_footer_submit btn-info").removeClass("btn-default").prepend('<i class="fa fa-circle-o-notch margined-right-5"></i>');i.find(".csf-container").find('button[value="denyf"]').addClass("page_footer_submit btn-warning").removeClass("btn-default").prepend('<i class="fa fa-unlock margined-right-5"></i>');var z=i.find(".csf-container").find('[name="template"], [name="ignorefile"]');setTimeout(function(){z.removeClass("heighter-28").addClass("heighter-34-force")});z.next().addClass("heighter-34").attr("style","min-height: 32px !important");z.attr("style","margin-right: -2px !important");if(z[1]&&z[1].length){$(z[1]).attr("style","margin-right: -4px !important")}}var R=$('p:contains("..."):contains("Done")');if(R.length||$('html[data-post="logtail"],                   html[data-post="allow"],                  html[data-post="deny"],                  html[data-post="redirect"],                  html[data-post="ignorefiles"],                  html[data-post="dirwatch"],                  html[data-post="dyndns"],                  html[data-post="templates"],                  html[data-post="logfiles"],                  html[data-post="blocklists"],                  html[data-post="syslogusers"]').length){$("#csfreturn").parent("form").parent("div").prev("hr").replaceTagName("br");R.remove()}else if($('html[data-post="servercheck"], html[data-post="readme"], html[data-post="viewlogs"], html[data-post="chart"], html[data-post="loggrep"], html[data-post="viewports"], html[data-post="profiles"], html[data-post="status"], html[data-post="sips"], html[data-post="temp"]').length){if($('html[data-post="temp"]')&&$('a[href="index.cgi?action=temprm&ip=all"]').length){}else{$("#csfreturn").parent("form").parent("div").prev("hr").replaceTagName("br")}}if(session.server.data("post")==="profiles"){var A=$(".table.table-striped.table-condensed:first thead");A.find("th:last-child").remove();A.find("th").attr("colspan","2")}var I=$("#csfreturn").length;$('#csfreturn,        html[data-post="rblcheckedit"] input[value="rblcheck"] + input,       html[data-post="serverchecksave"] input[value="servercheck"] + input,       html[data-post="temprm"] input[value="temp"] + input,       html[data-post="temprmd"] input[value="temp"] + input,       html[data-post="temptoperm"] input[value="temp"] + input    ').replaceWith('<button type="submit" class="btn btn-'+(I?"primary":"primary margined-top-10")+' page_footer_submit"><i class="fa fa-fw fa-arrow-left">&nbsp;</i> <span>'+(I?$is_lang?f.theme_language("global_return_to_module_index"):"Return to module index":$is_lang?f.theme_language("global_return"):"Return")+"</span></button>");var E=$('html input[value="lfdrestart"] + input, html input[value="restart"] + input, html input[value="restartboth"] + input'),D="Save",j="fa-circle-check";if(E.length){D=E.val();j="fa-circle-o-notch"}var q=$('input[value="Change"],    html:not([data-post=""]) input[value="restartboth"] + input,    html:not([data-post=""]) input[value="lfdrestart"] + input,    html:not([data-post=""]) input[value="restart"] + input    ');if(!session.server.data("post")){setTimeout(function(){$('html input[value="lfdrestart"]').next('[type="submit"]').removeClass().addClass("btn page_footer_submit btn-info")})}q.parents("form").nextAll("br").remove();q.replaceWith('<button type="submit" class="btn btn-default page_footer_submit'+(E.length?" __restart":"")+'"><i class="fa fa-fw '+j+'">&nbsp;</i> <span>'+D+"</span></button>");var L=".panel-heading font",P="bs-callout",H=""+L+" + .circles",B=$("."+P+":visible");if(B.length&&!$(H).length){$(L).after('<span class="circles"></span>')}$.each(B,function(){var t=$.trim($(this).attr("class").replace(P,"").replace(P+"-","").replace("text-center","").replace("collapse","")),e=$(this).text(),a=$('html[data-post="viewlogs"]').length&&!i.find(".csf-container table").length;if(!e||a){if(a){$(this).removeClass()}return}$(H).prepend('<span data-toggle="tooltip" data-container="body" data-html="true" data-placement="bottom" data-title="'+e+'" class="circle '+t+'"><i class="fa fa-'+(t=="warning"||t=="danger"?"exclamation-circle":t=="info"?"info-circle":"check-circle")+'"></i></span>');$(this).remove()});if($("html").attr("data-post")!==""){var N=i.find(".csf-container").find(".btn-primary.page_footer_submit");if(N.length){i.find(".csf-container").find(".panel-heading font").before('<a data-toggle="tooltip" data-container="body" data-html="true" data-placement="auto top" title="'+$.trim($(".page_footer_submit.btn-primary:first").text())+'"  href="'+v___location_prefix+'/csf/index.cgi" class="btn btn-link footer_module_index_top btn-squiare-headln2 text-lighter-slight"><i class="fa fa-return"></i></a>');var O=".footer_module_index_top";$("body").undelegate(O,"click.csf6");$("body").on("click.csf6",O,function(t){t.preventDefault();$("body").find(".btn.btn-primary.page_footer_submit").after('<input type="submit" class="submit_tmp_index hidden">');$(".submit_tmp_index").trigger("click")})}}else{var W=i.find(".csf-container").find('button[value="conf"]'),U=W.text(),V=W.parent("form").parent("td").parent("tr").addClass("hidden").detach(),G=$('#home form[action="index.cgi"] table').length,K=i.find(".csf-container").find('button[value="readme"]'),Y=K.text(),Z=K.parent("td").parent("tr").addClass("hidden").detach();$("#csf > table > tbody").append(V);if(d){i.find(".csf-container").find(".panel-heading font").before('<div class="btn-group btn-group-csf-home"><a href="index.cgi?action=conf" data-toggle="tooltip" data-container="body" data-html="true" data-placement="auto top" title="'+($is_lang?f.theme_language("global_module_config"):"Module config")+'" class="btn btn-link text-lighter ported_module_csf_conf"><i class="fa fa-cog"></i></a><a href="index.cgi?action=readme" data-toggle="tooltip" data-container="body" data-html="true" data-placement="auto top" title="'+($is_lang?f.theme_language("global_help"):"Module help")+'" class="btn btn-link text-lighter ported_module_csf_help"><i class="fa fa-question-circle"></i></a></div>');if($.support.spa){var y="a.ported_module_csf_conf";$("body").undelegate(y,"click.csf7");$("body").on("click.csf7",y,function(t){t.preventDefault();W.after('<input name="action" value="conf" type="hidden">').trigger("click")})}}if($.support.spa){var y="a.ported_module_csf_help";$("body").undelegate(y,"click.csf8");$("body").on("click.csf8",y,function(t){t.preventDefault();W.after('<input name="action" value="readme" type="hidden">').trigger("click")})}if(!G){i.find(".csf-container").find("#home").remove()}}if(!$.support.spa){i.find(".csf-container").find(".panel > .panel-heading > .btn-group").prepend('<a href="'+v___location_prefix+'/" data-container="body" class="btn btn-link text-lighter pd-lf-10 pd-rt-10" data-placement="auto top" data-toggle="tooltip" data-title="'+theme_language("return_home")+'"><i class="fa fa-home fa-md"></i></a>')}if($("html").attr("data-post")=="conf"){var J="STYLE_",Q=$(".csf-container").find('[name="'+J+'CUSTOM_"], [name="'+J+'MOBILE_"]').parents(".value-default"),X=Q.prev(".comment");Q.add(X).addClass("hidden")}if($("html").attr("data-post")=="fixnuclear"){$.post(v___location_prefix+"/index.cgi/?xhr-csf-unload=1")}var tt=".page_footer_submit.btn-primary",et=$(tt).parent("form").parent("div");et.prev("hr").remove();var at=et.addClass("margined-bottom-20").detach();i.find(".csf-container").append(at);theme_title_generate()}